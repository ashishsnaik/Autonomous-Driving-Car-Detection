webpackJsonp([69,73,86],{"+1or":function(module,exports,e){(function(_){var t,n;t=[e,exports,module,e("AwHF"),e("cL62"),e("Dvip")],void 0!==(n=function(require,exports,module){"use strict";function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function branches(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments[1],r=Object.assign({},e);switch(n.type){case"ON_BRANCHES_LOADING":return t({},r,{loadingAll:!0,loadedAll:!1});case"ON_BRANCHES_LOAD_SUCCESS":return t({},r,{loadingAll:!1,loadedAll:!0,branches:_(n.branches).indexBy("id")});case"SAVE_BRANCH":return t({},r,{branches:Object.assign({},r.branches,_defineProperty({},n.branchId,Object.assign({},n.branch,{id:n.branchId})))});case"SAVE_DRAFTS_FOR_BRANCH":return t({},r,{drafts:Object.assign({},r.drafts,_defineProperty({},n.branchId,n.drafts))});case"SAVE_CONFLICT_METADATA_FOR_BRANCH":case"VALIDATE_BRANCH":case"ON_BRANCH_CREATING":case"ON_BRANCH_UPDATE_SUCCESS":case"ON_BRANCH_UPDATE_FAILURE":case"ON_BRANCH_DELETING":case"ON_BRANCH_DELETE_SUCCESS":default:return r}}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_=e("AwHF"),n=e("cL62"),r=n.storeNames,o=e("Dvip"),i={branches:{},drafts:{}};exports.store=o(branches,r.BRANCHES_STORE,["ON_BRANCHES_LOADING","ON_BRANCHES_LOAD_SUCCESS","ON_BRANCH_CREATING","ON_BRANCH_UPDATE_SUCCESS","ON_BRANCH_UPDATE_FAILURE","SAVE_BRANCH","ON_BRANCH_DELETING","ON_BRANCH_DELETE_SUCCESS","SAVE_CONFLICT_METADATA_FOR_BRANCH","SAVE_DRAFTS_FOR_BRANCH"],i),exports.reducer=branches}.apply(exports,t))&&(module.exports=n)}).call(exports,e("AwHF"))},"/BtS":function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("L+Qk"),e("U7vG"),e("Sh9H")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("L+Qk"),o=e("U7vG");e("Sh9H");var i=(n=t=function(e){function CourseRatingIcons(){var t,n,r;_classCallCheck(this,CourseRatingIcons);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.state={highlightValue:-1},n.handleMouseLeave=function(){n.setState({highlightValue:-1})},r=t,_possibleConstructorReturn(n,r)}return _inherits(CourseRatingIcons,e),CourseRatingIcons.prototype.handleMouseOver=function handleMouseOver(e){this.setState({highlightValue:e})},CourseRatingIcons.prototype.handleSelect=function handleSelect(e){this.setState({highlightValue:-1}),this.props.onSelect&&this.props.onSelect(e)},CourseRatingIcons.prototype.renderIcon=function renderIcon(e,t){var n=this,i=e<=this.state.highlightValue,a=this.state.highlightValue>-1,s=e%1!=0,u=r("c-course-rating-icon",{"cif-star":i||t&&!a&&!s,"cif-star-half-empty":!i&&t&&!a&&s,"cif-star-o":!i&&(!t||a),highlight:i});return o.createElement("i",{key:e,className:u,onMouseOver:!this.props.readOnly&&function(){return n.handleMouseOver(e)},onClick:function onClick(){return n.handleSelect(e)}})},CourseRatingIcons.prototype.render=function render(){var e=this,t=r("rc-CourseRatingIcons",this.props.size,{"read-only":this.props.readOnly}),n=CourseRatingIcons.getRatingDistribution(this.props.value);return o.createElement("div",{className:t,onMouseLeave:this.handleMouseLeave},n.map(function(t){var n=t.value,r=t.selected;return e.renderIcon(n,r)}))},CourseRatingIcons}(o.Component),t.propTypes={onSelect:o.PropTypes.func,readOnly:o.PropTypes.bool,value:o.PropTypes.number.isRequired,size:o.PropTypes.oneOf(["small","large"])},t.defaultProps={size:"small",readOnly:!0},t.getRatingDistribution=function(e){var t=.5,n=[],r=Math.round(2*e)/2;for(5!==e&&(r=Math.min(r,4.5));t<=r;){t%1!=0?t+.5>r?(n.push({value:t,selected:!0}),t+=1):t+=.5:(n.push({value:t,selected:!0}),t+=.5)}for(t%1!=0&&(t+=.5);t<=5;)n.push({value:t,selected:!1}),t+=1;return n},n);module.exports=i}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},"/FGS":function(module,exports,e){var t=e("ZOC2");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},"0/aF":function(module,exports,e){var t,n;t=[e("7BnW")],void 0!==(n=function(e){return function(t){return t.tags.em||(t.tags.em={}),t.tags.em.class="scribe-marker",t.tags.br={},function(n){var r=new e(t);n.registerHTMLFormatter("sanitize",r.clean.bind(r))}}}.apply(exports,t))&&(module.exports=n)},"0725":function(module,exports,e){var t,n;t=[e,exports,module,e("2TVH"),e("iFGm"),e("go2y")],void 0!==(n=function(require,exports,module){"use strict";var t=e("2TVH"),n=e("iFGm"),r=e("go2y"),o=t("/api/authoringEvaluatorTemplates.v1",{type:"rest"}),i=["name","tags"];exports.getEvaluatorTemplatesForTag=function(e,t){var a=(new n).addQueryParam("fields",i.join(",")).addQueryParam("q","tag").addQueryParam("tag",e).addQueryParam("courseId",t);return r(o.get(a.toString()))},exports.getTestCaseHarnessEvaluatorTemplates=function(){var e=(new n).addQueryParam("fields",i.join(",")).addQueryParam("q","withTestCaseHarness");return r(o.get(e.toString()))}}.apply(exports,t))&&(module.exports=n)},"0LCM":function(module,exports,e){var t=e("bIbn");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},"0cha":function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("joN2"),e("D8sO")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("joN2"),i=e("D8sO"),a=(n=t=function(e){function ReplHarnessEditor(){var t,n,r;_classCallCheck(this,ReplHarnessEditor);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.handleChange=function(e){var t=new i({preamble:e});n.props.onChange(t.toJSON())},r=t,_possibleConstructorReturn(n,r)}return _inherits(ReplHarnessEditor,e),ReplHarnessEditor.prototype.render=function render(){var e=this.props,t=e.harness.preamble,n=e.language;return r.createElement("div",{className:"rc-ReplHarnessEditor"},r.createElement(o,{preamble:t,language:n,onChange:this.handleChange}))},ReplHarnessEditor}(r.Component),t.propTypes={harness:r.PropTypes.instanceOf(i),language:r.PropTypes.string,onChange:r.PropTypes.func.isRequired},n);module.exports=a}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},"0s6w":function(module,exports,e){var t,n;t=[],void 0!==(n=function(){return function(){return function(e){function moveChildren(e,t){for(var n,r=e.firstChild;r;)n=r.nextSibling,t.appendChild(r),r=n}function copyAttributes(e,t){if(e.hasAttributes())for(var n=0,r=e.attributes.length;n<r;n++){var o=e.attributes[n].cloneNode(!1);t.attributes.setNamedItem(o)}}function replaceNode(e,t){var n=document.createElement(t);moveChildren(e,n),copyAttributes(e,n),e.parentNode.replaceChild(n,e)}function traverse(e){for(var n=e.firstElementChild,r;n;){r=n.nextElementSibling,traverse(n);var o=t[n.nodeName];o&&replaceNode(n,o),n=r}}var t={B:"strong",I:"em"};e.registerHTMLFormatter("normalize",function(e){if("string"==typeof e){var t=document.createElement("div");return t.innerHTML=e,traverse(t),t.innerHTML}return traverse(e),e})}}}.apply(exports,t))&&(module.exports=n)},"12nM":function(module,exports,e){var t=e("sAMF");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},"1CHV":function(module,exports){},"1SJa":function(module,exports,e){var t,n;t=[e,exports,module],void 0!==(n=function(require,exports,module){"use strict";var e=/https?:\/\/[^ \r\n\t]+/gim,t=function getLinkedNodesFromText(t,n){n=n||[],e.exec("");var r=e.exec(t);if(r){var o=r[0],i=t.split(o);i[0]&&n.push(document.createTextNode(i[0]));var a=document.createElement("a");return a.setAttribute("href",o),a.innerHTML=o,n.push(a),getLinkedNodesFromText(i[1],n)}return t&&n.push(document.createTextNode(t)),n};module.exports=function(){return function(n){function handleKeydown(r){var o=r.keyCode;if(9===o||13===o||32===o){var i=new n.api.Selection,a=i.range;if(!a)return;var s=a.endContainer,u=s.parentNode;if(3===s.nodeType){var c=s.textContent;e.test(c)&&n.transactionManager.run(function(){t(c).forEach(function(e){u.insertBefore(e,s)}),a.setEndAfter(s),u.removeChild(s),a.collapse(),i.selection.removeAllRanges(),i.selection.addRange(a)})}}}n.el.addEventListener("keydown",handleKeydown)}}}.apply(exports,t))&&(module.exports=n)},"1h8x":function(module,exports,e){var t,n;t=[e,exports,module,e("Nehx")],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),n=e("Nehx"),r=function(){function AuthoringCourse(e){var t=e.description,r=e.domainTypes,o=e.faqs,i=e.headerImage,a=e.id,s=e.instructorIds,u=e.isPrivate,c=e.isReal,l=e.isRestrictedMembership,p=e.isSubtitleTranslationEnabled,d=e.isVerificationEnabled,f=e.launchedAt,h=e.level,v=e.name,m=e.overridePartnerLogos,g=e.partners,y=e.partnerIds,C=e.premiumExperiences,b=e.previewUserIds,E=e.primaryLanguageCodes,w=e.promoPhoto,T=e.s3Prefix,S=e.sessionSchedule,O=e.sessionsEnabledAt,x=e.slug,R=e.subtitleLanguageCodes;_classCallCheck(this,AuthoringCourse),this.description=t,this.domainTypes=r,this.faqs=o,this.headerImage=i,this.id=a,this.isPrivate=u,this.isReal=c,this.isRestrictedMembership=l,this.isSubtitleTranslationEnabled=p,this.isVerificationEnabled=d,this.launchedAt=f,this.name=v,this.overridePartnerLogos=m,this.partners=g&&g.map(function(e){return new n(e)}),this.partnerIds=y,this.premiumExperiences=C,this.previewUserIds=b,this.primaryLanguageCodes=E,this.promoPhoto=w,this.s3Prefix=T,this.sessionSchedule=S,this.sessionsEnabledAt=O,this.slug=x,this.subtitleLanguageCodes=R}return AuthoringCourse.prototype.get=function get(e){return this[e]},t(AuthoringCourse,[{key:"universities",get:function get(){return this.partners}},{key:"isLaunched",get:function get(){return!!this.launchedAt&&this.launchedAt<=Date.now()}}]),AuthoringCourse}();module.exports=r}.apply(exports,t))&&(module.exports=n)},"1nGb":function(module,exports){},"36w1":function(module,exports,e){var t=e("t6Sb");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},"4LmI":function(module,exports){},"5DMr":function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("xugj")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("xugj"),i=(n=t=function(e){function AuthoringEvaluatorCreate(){var t,n,r;_classCallCheck(this,AuthoringEvaluatorCreate);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.state={evaluatorId:"",createInProgress:!1},n.handleCreate=function(){var e=n.state.evaluatorId;n.setState({createInProgress:!0}),n.props.onClickCreate(e)},r=t,_possibleConstructorReturn(n,r)}return _inherits(AuthoringEvaluatorCreate,e),AuthoringEvaluatorCreate.prototype.render=function render(){var e=this,t=this.state.createInProgress;return r.createElement("div",{className:"rc-AuthoringEvaluatorCreate"},r.createElement("h3",{style:{paddingTop:20,paddingBottom:5},className:"headline-1-text"},o("Evaluator Id")),r.createElement("div",{className:"caption-text",style:{paddingBottom:10}},o("Enter an existing evaluator id to clone")),r.createElement("input",{type:"text",style:{width:300,padding:8},onChange:function onChange(t){return e.setState({evaluatorId:t.target.value})}}),r.createElement("div",{style:{paddingTop:40}},r.createElement("button",{disabled:t,className:"primary",onClick:this.handleCreate},o(t?"Creating...":"Create Evaluator"))))},AuthoringEvaluatorCreate}(r.Component),t.propTypes={onClickCreate:r.PropTypes.func.isRequired},n);module.exports=i}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},"5ZC0":function(module,exports,e){var t=e("pZ4U");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},"5aDr":function(module,exports,e){var t,n;t=[e,exports,module],void 0!==(n=function(require,exports,module){"use strict";module.exports=function(e){return function(t){var n=new t.api.Command("createLink");n.nodeName="A",n.execute=function(){var n=new t.api.Selection,r=n.range,o=n.getContaining(function(e){return e.nodeName===this.nodeName}.bind(this)),i=o?o.href:"http://",a=window.prompt("Enter a link.",i);if(o&&(r.selectNode(o),n.selection.removeAllRanges(),n.selection.addRange(r)),a){var s=/^https?\:\/\//,u=/^mailto\:/,c=/@/;if(!s.test(a))if(!u.test(a)&&c.test(a)){var l=window.confirm("The URL you entered appears to be an email address. Do you want to add the required “mailto:” prefix?");a=l?"mailto:"+a:""}else{var p=window.confirm("The URL you entered appears to be a link. Do you want to add the required “http://” prefix?");a=p?"http://"+a:""}e&&e.filter&&e.filter.regex.test(a)&&(a="",window.alert(e.filter.message)),a&&t.api.SimpleCommand.prototype.execute.call(this,a)}},n.queryState=function(){return!!(new t.api.Selection).getContaining(function(e){return e.nodeName===this.nodeName}.bind(this))},t.commands.linkPrompt=n}}}.apply(exports,t))&&(module.exports=n)},"5ibh":function(module,exports,e){var t,n;t=[e,exports,module,e("RpsW"),e("YIyV"),e("1h8x"),e("OxRT")],void 0!==(n=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("RpsW"),o=e("YIyV"),i=e("1h8x"),a=e("OxRT"),s=(n=t=function(e){function TeachAppStore(){var t,n,r;_classCallCheck(this,TeachAppStore);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.course=null,n.courseRole="BROWSER",n.sessions=[],n.branches=[],r=t,_possibleConstructorReturn(n,r)}return _inherits(TeachAppStore,e),TeachAppStore.prototype.getCourse=function getCourse(){return this.course},TeachAppStore.prototype.getCourseRole=function getCourseRole(){return this.courseRole},TeachAppStore.prototype.getSessions=function getSessions(){return this.sessions},TeachAppStore.prototype.getBranches=function getBranches(){return this.branches},TeachAppStore.prototype.hasPrivateBranch=function hasPrivateBranch(){return!!this.branches.find(function(e){return e.isPrivate})},TeachAppStore.prototype.getBranchForSession=function getBranchForSession(e){return this.branches.find(function(t){return!!t.associatedSessions[e]})},TeachAppStore}(r),t.storeName="TeachAppStore",t.handlers={RECEIVE_COURSE:function RECEIVE_COURSE(e){this.course=new i(e),this.emitChange()},RECEIVE_MEMBERSHIP_FOR_COURSE:function RECEIVE_MEMBERSHIP_FOR_COURSE(e){this.courseRole=e,this.emitChange()},RECEIVE_SESSIONS_FOR_COURSE:function RECEIVE_SESSIONS_FOR_COURSE(e){this.sessions=e.map(function(e){return new o(e)}),this.emitChange()},RECEIVE_BRANCHES_FOR_COURSE:function RECEIVE_BRANCHES_FOR_COURSE(e){this.branches=e.map(function(e){return new a(e)}),this.emitChange()}},n);module.exports=s}.apply(exports,t))&&(module.exports=n)},"5xBf":function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("V4DZ"),e("w96p"),e("xugj")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("V4DZ"),i=e("w96p"),a=e("xugj"),s=(n=t=function(e){function CodeOutput(){return _classCallCheck(this,CodeOutput),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(CodeOutput,e),CodeOutput.prototype.render=function render(){var e=this.props,t=e.evaluation,n=e.evaluatorDraftId,i=e.onCancel,s=t.active,u=t.response;return r.createElement("div",{className:"rc-CodeOutput"},!s&&!u&&r.createElement("div",{className:"caption-text color-secondary-text",style:{margin:16}},a("Run the code on the left to see the output that learners will see when running your code.")),r.createElement(o,{onCancel:i,evaluation:t,evaluatorId:n}))},CodeOutput}(r.Component),t.propTypes={evaluatorDraftId:r.PropTypes.string.isRequired,evaluation:r.PropTypes.instanceOf(i).isRequired,onCancel:r.PropTypes.func.isRequired},n);module.exports=s}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},"6qLY":function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("LncB"),e("WJMB"),e("w96p"),e("Lu8h"),e("xugj"),e("EuJm")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("LncB"),i=e("WJMB"),a=e("w96p"),s=e("Lu8h"),u=e("xugj");e("EuJm");var c=(n=t=function(e){function TestCaseRunner(t,n){_classCallCheck(this,TestCaseRunner);var r=_possibleConstructorReturn(this,e.call(this,t,n));return r.handleCancel=function(){r.props.onCancel(),r.props.onClose()},r.runNextTestCase=function(){var e=r.props,t=e.onClose,n=e.handleRun,o=e.testCaseRunners,i=r.state.currentTestCaseIndex,a=o.find(function(e,t){return t>i});if(null==a)t();else{var s=o.indexOf(a);r.setState({currentTestCaseIndex:s}),n(a.testCase.expression)}},r.state={currentTestCaseIndex:-1},r}return _inherits(TestCaseRunner,e),TestCaseRunner.prototype.componentWillMount=function componentWillMount(){this.runNextTestCase()},TestCaseRunner.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){if(this.props.evaluation!==e.evaluation&&null!=e.evaluation.response){var t=e.evaluation.response,n=e.evaluation.response.id,r=e.testCaseRunners[this.state.currentTestCaseIndex],o=r.copy();o.testCase.latestEvaluationId=n,o.response=t,this.props.onChange(this.state.currentTestCaseIndex,o),this.runNextTestCase()}},TestCaseRunner.prototype.render=function render(){var e=this.props.testCaseRunners,t=this.state.currentTestCaseIndex;return r.createElement(i,{allowClose:!1,withTitle:!0,withFooter:!0,heading:u("Running test cases"),cancelLabel:u("Cancel"),onCancel:this.handleCancel,hideConfirm:!0,className:"rc-TestCaseRunner"},r.createElement("div",null,e.map(function(e,n){return r.createElement("span",{style:{marginRight:20},key:n},r.createElement(o,{name:e.testCase.name,onClick:function onClick(){},index:n,isFailed:e.isFailed,isPassed:e.isPassed,isSelected:n===t}))})))},TestCaseRunner}(r.Component),t.propTypes={evaluation:r.PropTypes.instanceOf(a).isRequired,handleRun:r.PropTypes.func.isRequired,onCancel:r.PropTypes.func.isRequired,onClose:r.PropTypes.func.isRequired,onChange:r.PropTypes.func.isRequired,testCaseRunners:r.PropTypes.arrayOf(r.PropTypes.instanceOf(s)).isRequired},n);module.exports=c}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},"7BnW":function(module,exports,e){var t,n;t=[],void 0!==(n=function(){function HTMLJanitor(e){this.config=e}function isBlockElement(t){return-1!==e.indexOf(t.nodeName)}function isInlineElement(e){return-1!==t.indexOf(e.nodeName)}function createTreeWalker(e){return document.createTreeWalker(e,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT|NodeFilter.SHOW_COMMENT,null,!1)}var e=["P","LI","TD","TH","DIV","H1","H2","H3","H4","H5","H6","PRE"],t=["A","B","STRONG","I","EM","SUB","SUP","U","STRIKE"];return HTMLJanitor.prototype.clean=function(e){var t=document.createElement("div");return t.innerHTML=e,this._sanitize(t),t.innerHTML},HTMLJanitor.prototype._sanitize=function(e){var t=createTreeWalker(e),n=t.firstChild();if(!n)return;do{var r=n.nodeName.toLowerCase(),o=this.config.tags[r];if(n._sanitized)continue;if(n.nodeType===Node.TEXT_NODE){if(""===n.data.trim()&&(n.previousElementSibling&&isBlockElement(n.previousElementSibling)||n.nextElementSibling&&isBlockElement(n.nextElementSibling))){e.removeChild(n),this._sanitize(e);break}continue}if(n.nodeType===Node.COMMENT_NODE){e.removeChild(n),this._sanitize(e);break}var i=isInlineElement(n),a;i&&(a=Array.prototype.some.call(n.childNodes,isBlockElement));var s=i&&a,u=!!e.parentNode,c=isBlockElement(e)&&isBlockElement(n)&&u;if(!this.config.tags[r]||s||!this.config.keepNestedBlockElements&&c){if("SCRIPT"!==n.nodeName&&"STYLE"!==n.nodeName)for(;n.childNodes.length>0;)e.insertBefore(n.childNodes[0],n);e.removeChild(n),this._sanitize(e);break}for(var l=0;l<n.attributes.length;l+=1){var p=n.attributes[l],d=p.name.toLowerCase(),f=o[d],h=!f,v=!0!==f&&p.value!==f;(h||v)&&(n.removeAttribute(p.name),l-=1)}this._sanitize(n),n._sanitized=!0}while(n=t.nextSibling())},HTMLJanitor}.apply(exports,t))&&(module.exports=n)},"7pA+":function(module,exports){},"7ttF":function(module,exports,e){(function(t,$){var n,r;n=[e,exports,module,e("4+j2"),e("U7vG"),e("c3Je"),e("mR1L")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,$=e("4+j2"),r=e("U7vG"),o=e("c3Je");e("mR1L");var i=(n=t=function(e){function TeachInfiniteScroll(){var t,n,r;_classCallCheck(this,TeachInfiniteScroll);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.scrollListener=function(e){var t=!1;if(n.context.scrollContainer&&n.context.scrollContainer!==window){var r=e.target;t=$(r).scrollTop()+$(r).innerHeight()>=r.scrollHeight-100}else t=$(window).scrollTop()>$(document).height()-$(window).height()-100;!n.props.isLoading&&t&&n.props.onInfiniteScroll()},r=t,_possibleConstructorReturn(n,r)}return _inherits(TeachInfiniteScroll,e),TeachInfiniteScroll.prototype.componentDidMount=function componentDidMount(){this.attachScrollListener()},TeachInfiniteScroll.prototype.componentWillUnmount=function componentWillUnmount(){this.detachScrollListener()},TeachInfiniteScroll.prototype.attachScrollListener=function attachScrollListener(){$(this.context.scrollContainer||window).get(0).addEventListener("scroll",this.scrollListener)},TeachInfiniteScroll.prototype.detachScrollListener=function detachScrollListener(){$(this.context.scrollContainer||window).get(0).removeEventListener("scroll",this.scrollListener)},TeachInfiniteScroll.prototype.render=function render(){return r.createElement("div",{className:"rc-TeachInfiniteScroll"},this.props.children,this.props.isLoading&&r.createElement(o,null))},TeachInfiniteScroll}(r.Component),t.propTypes={onInfiniteScroll:r.PropTypes.func.isRequired,children:r.PropTypes.any.isRequired,isLoading:r.PropTypes.bool},t.contextTypes={scrollContainer:r.PropTypes.oneOfType([r.PropTypes.object,r.PropTypes.string])},t.defaultProps={isLoading:!1},n);module.exports=i}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("4+j2"))},"85+E":function(module,exports,e){var t=e("JVsT");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},"85ju":function(module,exports,e){var t=e("gCvU"),n=t.default?t.default:{},r=e("zQM/"),o=r(n);o.getLocale=function(){return"en"},module.exports=o},"8jCB":function(module,exports,e){var t,n;t=[e,exports,module,e("qgrL"),e("Usxh"),e("ZdJC")],void 0!==(n=function(require,exports,module){"use strict";var t=e("qgrL"),n=e("Usxh");e("ZdJC"),module.exports=function(e){function isFirefox(){return navigator.userAgent.search("Firefox")>-1}function setRangeToEndOfElement(e,t){var n=new e.api.Selection,r=n.range;r.selectNodeContents(t),r.collapse(),n.selection.removeAllRanges(),n.selection.addRange(r)}function moveCursorToAdjacentBlock(e,t,n){var r=new e.api.Selection,o=r.range;if(n){var i=t.nextSibling;i&&(o.setStart(i,0),r.selection.removeAllRanges(),r.selection.addRange(o))}else{var a=t.previousSibling;a&&(o.setStart(a,0),r.selection.removeAllRanges(),r.selection.addRange(o))}}return function(r){function handleKeydown(e){if(8===e.keyCode)handleBackspace(e);else{var n=new r.api.Selection,o=n.range;if(!o)return;var i=t.findBlockContainer(r,o.endContainer);t.isImageBlock(i)&&(38!==e.keyCode&&40!==e.keyCode?(e.preventDefault(),t.select(r,i)):isFirefox()&&moveCursorToAdjacentBlock(r,i,40===e.keyCode))}}function handleKeyup(e){if(38===e.keyCode||40===e.keyCode){var n=new r.api.Selection,o=n.range;if(!o)return;var i=t.findBlockContainer(r,o.endContainer);t.cleanupSelection(r),t.isImageBlock(i)&&(e.preventDefault(),t.select(r,i))}}function handleBackspace(e){var n=new r.api.Selection,o=n.range,i=t.findBlockContainer(r,o.endContainer),a=i.previousSibling;t.isImageBlock(i)?(e.preventDefault(),r.transactionManager.run(function(){a&&setRangeToEndOfElement(r,a),r.el.removeChild(i)})):o.collapsed&&0===o.startOffset&&a&&t.isImageBlock(a)&&(e.preventDefault(),t.select(r,a))}function handleMousedown(e){var n=t.findBlockContainer(r,e.target);t.cleanupSelection(r),t.isImageBlock(n)&&(e.preventDefault(),t.select(r,n))}function handleContentChange(){var e=r.el.childNodes,n=e[e.length-1];if(t.isImageBlock(n)){var o=document.createElement("p");r.el.appendChild(o)}}var o=new r.api.Command("insertImage"),i=new n;o.execute=function(){t.insertImage(r,i,e)},o.queryState=function(){return(new r.api.Selection).getContaining(function(e){return e.nodeName===this.nodeName}.bind(this))},o.queryEnabled=function(){return!0},r.el.addEventListener("keydown",handleKeydown),r.el.addEventListener("keyup",handleKeyup),r.el.addEventListener("mousedown",handleMousedown),r.on("content-changed",handleContentChange),r.commands.imageUpload=o}}}.apply(exports,t))&&(module.exports=n)},"9Qcx":function(module,exports,e){var t,n;t=[e,exports,module,e("AwHF"),e("q07v"),e("FH1V")],void 0!==(n=function(require,exports,module){"use strict";var _=e("AwHF"),t=e("q07v"),n=e("FH1V"),r=t({storeName:"CourseRatingStore",initialize:function initialize(){this.myRatingFeedback=null,this.isLoadingReviews=!1,this.courseRatings=new n},getMyRatingFeedback:function getMyRatingFeedback(){return this.myRatingFeedback},getReviewCollection:function getReviewCollection(){return this.courseRatings.reviewCollection},getBranchId:function getBranchId(){return this.courseRatings.branchId},getRatingValue:function getRatingValue(){return this.courseRatings.ratingValue},getLearnerAudience:function getLearnerAudience(){return this.courseRatings.learnerAudience},getCourseRatingStats:function getCourseRatingStats(){return this.courseRatings.stats},getIsLoadingReviews:function getIsLoadingReviews(){return this.isLoadingReviews}});r.handlers={GET_REVIEWS:function GET_REVIEWS(e,t){var n=e.reviewCollection;this.isLoadingReviews=!0,this.emitChange()},RECEIVE_REVIEWS:function RECEIVE_REVIEWS(e,t){var n=e.feedbacks,r=e.totalCount;this.isLoadingReviews=!1,this.courseRatings.appendReviews(n,r),this.emitChange()},DELETE_FEEDBACK:function DELETE_FEEDBACK(e){this.courseRatings.deleteReview(e),this.emitChange()},FILTER_REVIEWS:function FILTER_REVIEWS(e,t){var n=e.ratingValue;this.courseRatings.setRatingValue(n),this.emitChange()},RECEIVE_COURSE_RATING_STATS:function RECEIVE_COURSE_RATING_STATS(e,t){var n=e.courseRatingStats;this.courseRatings.setStats(n),this.emitChange()},FILTER_RATINGS:function FILTER_RATINGS(e,t){var n=e.learnerAudience;this.courseRatings.setLearnerAudience(n),this.emitChange()},RECEIVE_MY_RATING:function RECEIVE_MY_RATING(e,t){var n=e.ratingFeedback;this.myRatingFeedback=n,this.emitChange()},SET_FEEDBACK_BRANCH_ID:function SET_FEEDBACK_BRANCH_ID(e,t){var n=e.branchId;this.courseRatings.setBranchId(n),this.emitChange()}},module.exports=r}.apply(exports,t))&&(module.exports=n)},"9S1d":function(module,exports,e){var t,n;t=[],void 0!==(n=function(){return function(){return function(e){var t=new e.api.Command("unlink");t.execute=function(){var t=new e.api.Selection;t.selection.isCollapsed?e.transactionManager.run(function(){var n=t.getContaining(function(e){return"A"===e.nodeName});n&&(t.placeMarkers(),e.element.unwrap(n.parentNode,n),t.selectMarkers())}):e.api.Command.prototype.execute.apply(this,arguments)},t.queryEnabled=function(){var t=new e.api.Selection;return t.selection.isCollapsed?!!t.getContaining(function(e){return"A"===e.nodeName}):e.api.Command.prototype.queryEnabled.apply(this,arguments)},e.commands.unlink=t}}}.apply(exports,t))&&(module.exports=n)},"9drq":function(module,exports,e){(function(_){var t,n;t=[e,exports,module,e("AwHF"),e("6Y1w")],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),_=e("AwHF"),n=e("6Y1w"),r=function(){function RatingCollection(){_classCallCheck(this,RatingCollection),this.models=[],this.page=0,this.totalCount=0}return RatingCollection.prototype.isEmpty=function isEmpty(){return 0===this.models.length},RatingCollection.prototype.setTotalCount=function setTotalCount(e){this.totalCount=e},RatingCollection.prototype.appendPage=function appendPage(e){var t=this;_(e).each(function(e){var r=e.rating,o=e.timestamp,i=e.id,a=new n(r.value,r.active,e.comments.generic,o,i);t.models.push(a)}),this.page+=1},t(RatingCollection,[{key:"length",get:function get(){return this.models.length}},{key:"hasPendingPage",get:function get(){return this.totalCount!==this.length}}]),RatingCollection}();module.exports=r}.apply(exports,t))&&(module.exports=n)}).call(exports,e("AwHF"))},"9fp4":function(module,exports,e){var t=e("eB4j");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},AFTA:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=(n=t=function(e){function StarterCodeEditorHeader(){return _classCallCheck(this,StarterCodeEditorHeader),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(StarterCodeEditorHeader,e),StarterCodeEditorHeader.prototype.render=function render(){return r.createElement("h3",{className:"rc-AuthorEvaluatorSectionHeader headline-2-text",style:this.props.style},this.props.children)},StarterCodeEditorHeader}(r.Component),t.propTypes={children:r.PropTypes.node,style:r.PropTypes.object},n);module.exports=o}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},ALyQ:function(module,exports){},AfI1:function(module,exports){},BH0r:function(module,exports,e){function universalModule(){function createClass(t,n,r,o){var i;if(o){var a=o.prototype;i=e.create(a)}else i=t.prototype;return e.keys(n).forEach(function(e){i[e]=n[e]}),e.keys(r).forEach(function(e){t[e]=r[e]}),i.constructor=t,t.prototype=i,t}function superCall(t,n,r,o){return e.getPrototypeOf(n)[r].apply(t,o)}function defaultSuperCall(e,t,n){superCall(e,t,"constructor",n)}function is(e,t){if(e===t)return 0!==e||0!==t||1/e==1/t;if(e!==e)return t!==t;if(e&&"function"==typeof e.equals)return e.equals(t);return!1}function invariant(e,t){if(!e)throw new Error(t)}function MakeRef(e){return e.value=!1,e}function SetRef(e){e&&(e.value=!0)}function OwnerID(){}function arrCopy(e,t){t=t||0;for(var n=Math.max(0,e.length-t),r=new Array(n),o=0;o<n;o++)r[o]=e[o+t];return r}function assertNotInfinite(e){invariant(e!==1/0,"Cannot perform this action with an infinite size.")}function ensureSize(e){return void 0===e.size&&(e.size=e.__iterate(returnTrue)),e.size}function wrapIndex(e,t){return t>=0?+t:ensureSize(e)+ +t}function returnTrue(){return!0}function wholeSlice(e,t,n){return(0===e||void 0!==n&&e<=-n)&&(void 0===t||void 0!==n&&t>=n)}function resolveBegin(e,t){return resolveIndex(e,t,0)}function resolveEnd(e,t){return resolveIndex(e,t,t)}function resolveIndex(e,t,n){return void 0===e?n:e<0?Math.max(0,t+e):void 0===t?e:Math.min(t,e)}function hash(e){if(!e)return 0;if(!0===e)return 1;var t=typeof e;if("number"===t){if((0|e)===e)return e&p;e=""+e,t="string"}if("string"===t)return e.length>h?cachedHashString(e):hashString(e);if(e.hashCode)return hash("function"==typeof e.hashCode?e.hashCode():e.hashCode);return hashJSObj(e)}function cachedHashString(e){var t=g[e];return void 0===t&&(t=hashString(e),m===v&&(m=0,g={}),m++,g[e]=t),t}function hashString(e){for(var t=0,n=0;n<e.length;n++)t=31*t+e.charCodeAt(n)&p;return t}function hashJSObj(e){var t=l&&l.get(e);if(t)return t;if(t=e[f])return t;if(!c){if(t=e.propertyIsEnumerable&&e.propertyIsEnumerable[f])return t;if(t=getIENodeHash(e))return t}if(Object.isExtensible&&!Object.isExtensible(e))throw new Error("Non-extensible objects are not allowed as keys.");if(t=++d&p,l)l.set(e,t);else if(c)Object.defineProperty(e,f,{enumerable:!1,configurable:!1,writable:!1,value:t});else if(e.propertyIsEnumerable&&e.propertyIsEnumerable===e.constructor.prototype.propertyIsEnumerable)e.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},e.propertyIsEnumerable[f]=t;else{if(!e.nodeType)throw new Error("Unable to set a non-enumerable property on object.");e[f]=t}return t}function getIENodeHash(e){if(e&&e.nodeType>0)switch(e.nodeType){case 1:return e.uniqueID;case 9:return e.documentElement&&e.documentElement.uniqueID}}function iteratorValue(e,t,n,r){var o=0===e?t:1===e?n:[t,n];return r?r.value=o:r={value:o,done:!1},r}function iteratorDone(){return{value:void 0,done:!0}}function hasIterator(e){return!!_iteratorFn(e)}function isIterator(e){return e&&"function"==typeof e.next}function getIterator(e){var t=_iteratorFn(e);return t&&t.call(e)}function _iteratorFn(e){var t=e&&(w&&e[w]||e[E]);if("function"==typeof t)return t}function isIterable(e){return!(!e||!e[A])}function isKeyed(e){return!(!e||!e[P])}function isIndexed(e){return!(!e||!e[I])}function isAssociative(e){return isKeyed(e)||isIndexed(e)}function isOrdered(e){return!(!e||!e[N])}function keyMapper(e,t){return t}function entryMapper(e,t){return[t,e]}function not(e){return function(){return!e.apply(this,arguments)}}function neg(e){return function(){return-e.apply(this,arguments)}}function quoteString(e){return"string"==typeof e?JSON.stringify(e):e}function defaultNegComparator(e,t){return e>t?-1:e<t?1:0}function deepEqual(e,t){var n=!isAssociative(e)&&!isAssociative(t);if(isOrdered(e)){if(!isOrdered(t))return!1;var r=e.entries();return t.every(function(e,t){var o=r.next().value;return o&&is(o[1],e)&&(n||is(o[0],t))})&&r.next().done}var o=!1;if(void 0===e.size)if(void 0===t.size)e.cacheResult();else{o=!0;var _=e;e=t,t=_}var i=!0,s=t.__iterate(function(t,r){if(n?!e.has(t):o?!is(t,e.get(r,a)):!is(e.get(r,a),t))return i=!1,!1});return i&&e.size===s}function mixin(e,t){var n=e.prototype,r=function(e){n[e]=t[e]};return Object.keys(t).forEach(r),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(t).forEach(r),e}function isSeq(e){return!(!e||!e[Q])}function emptySequence(){return Y||(Y=new W([]))}function keyedSeqFromValue(e){var t=Array.isArray(e)?new W(e).fromEntrySeq():isIterator(e)?new X(e).fromEntrySeq():hasIterator(e)?new K(e).fromEntrySeq():"object"==typeof e?new J(e):void 0;if(!t)throw new TypeError("Expected Array or iterable object of [k, v] entries, or keyed object: "+e);return t}function indexedSeqFromValue(e){var t=maybeIndexedSeqFromValue(e);if(!t)throw new TypeError("Expected Array or iterable object of values: "+e);return t}function seqFromValue(e){var t=maybeIndexedSeqFromValue(e)||"object"==typeof e&&new J(e);if(!t)throw new TypeError("Expected Array or iterable object of values, or keyed object: "+e);return t}function maybeIndexedSeqFromValue(e){return isArrayLike(e)?new W(e):isIterator(e)?new X(e):hasIterator(e)?new K(e):void 0}function isArrayLike(e){return e&&"number"==typeof e.length}function seqIterate(e,t,n,r){assertNotInfinite(e.size);var o=e._cache;if(o){for(var i=o.length-1,a=0;a<=i;a++){var s=o[n?i-a:a];if(!1===t(s[1],r?s[0]:a,e))return a+1}return a}return e.__iterateUncached(t,n)}function seqIterator(e,t,n,r){var o=e._cache;if(o){var i=o.length-1,a=0;return new S(function(){var e=o[n?i-a:a];return a++>i?iteratorDone():iteratorValue(t,r?e[0]:a-1,e[1])})}return e.__iteratorUncached(t,n)}function fromJS(e,t){return t?_fromJSWith(t,e,"",{"":e}):_fromJSDefault(e)}function _fromJSWith(e,t,n,r){if(Array.isArray(t))return e.call(r,n,q(t).map(function(n,r){return _fromJSWith(e,n,r,t)}));if(isPlainObj(t))return e.call(r,n,B(t).map(function(n,r){return _fromJSWith(e,n,r,t)}));return t}function _fromJSDefault(e){if(Array.isArray(e))return q(e).map(_fromJSDefault).toList();if(isPlainObj(e))return B(e).map(_fromJSDefault).toMap();return e}function isPlainObj(e){return e&&e.constructor===Object}function isMap(e){return!(!e||!e[se])}function mapIteratorValue(e,t){return iteratorValue(e,t[0],t[1])}function mapIteratorFrame(e,t){return{node:e,index:0,__prev:t}}function makeMap(e,t,n,r){var o=Object.create(ue);return o.size=e,o._root=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function emptyMap(){return be||(be=makeMap(0))}function updateMap(e,t,n){var r,o;if(e._root){var i=MakeRef(s),c=MakeRef(u);if(r=updateNode(e._root,e.__ownerID,0,void 0,t,n,i,c),!c.value)return e;o=e.size+(i.value?n===a?-1:1:0)}else{if(n===a)return e;o=1,r=new ce(e.__ownerID,[[t,n]])}if(e.__ownerID)return e.size=o,e._root=r,e.__hash=void 0,e.__altered=!0,e;return r?makeMap(o,r):emptyMap()}function updateNode(e,t,n,r,o,i,s,u){if(!e){if(i===a)return e;return SetRef(u),SetRef(s),new ge(t,r,[o,i])}return e.update(t,n,r,o,i,s,u)}function isLeafNode(e){return e.constructor===ge||e.constructor===ve}function mergeIntoNode(e,t,n,o,a){if(e.keyHash===o)return new ve(t,o,[e.entry,a]);var s=(0===n?e.keyHash:e.keyHash>>>n)&i,u=(0===n?o:o>>>n)&i,c,l=s===u?[mergeIntoNode(e,t,n+r,o,a)]:(c=new ge(t,o,a),s<u?[e,c]:[c,e]);return new pe(t,1<<s|1<<u,l)}function createNodes(e,t,n,r){e||(e=new OwnerID);for(var o=new ge(e,hash(n),[n,r]),i=0;i<t.length;i++){var a=t[i];o=o.update(e,0,void 0,a[0],a[1])}return o}function packNodes(e,t,n,r){for(var o=0,i=0,a=new Array(n),s=0,u=1,c=t.length;s<c;s++,u<<=1){var l=t[s];void 0!==l&&s!==r&&(o|=u,a[i++]=l)}return new pe(e,o,a)}function expandNodes(e,t,n,r,i){for(var a=0,s=new Array(o),u=0;0!==n;u++,n>>>=1)s[u]=1&n?t[a++]:void 0;return s[r]=i,new fe(e,a+1,s)}function mergeIntoMapWith(e,t,n){for(var r=[],o=0;o<n.length;o++){var i=n[o],a=M(i);isIterable(i)||(a=a.map(function(e){return fromJS(e)})),r.push(a)}return mergeIntoCollectionWith(e,t,r)}function deepMerger(e){return function(t,n){return t&&t.mergeDeepWith&&isIterable(n)?t.mergeDeepWith(e,n):e?e(t,n):n}}function mergeIntoCollectionWith(e,t,n){if(0===n.length)return e;return e.withMutations(function(e){for(var r=t?function(n,r){e.update(r,a,function(e){return e===a?n:t(e,n)})}:function(t,n){e.set(n,t)},o=0;o<n.length;o++)n[o].forEach(r)})}function updateInDeepMap(e,t,n,r,o){invariant(!e||e.set,"updateIn with invalid keyPath");var i=t[o],s=e?e.get(i,a):a,u=s===a?void 0:s,c=o===t.length-1?r(s===a?n:s):updateInDeepMap(u,t,n,r,o+1);return c===u?e:c===a?e&&e.remove(i):(e||emptyMap()).set(i,c)}function popCount(e){return e-=e>>1&1431655765,e=(858993459&e)+(e>>2&858993459),e=e+(e>>4)&252645135,e+=e>>8,127&(e+=e>>16)}function setIn(e,t,n,r){var o=r?e:arrCopy(e);return o[t]=n,o}function spliceIn(e,t,n,r){var o=e.length+1;if(r&&t+1===o)return e[t]=n,e;for(var i=new Array(o),a=0,s=0;s<o;s++)s===t?(i[s]=n,a=-1):i[s]=e[s+a];return i}function spliceOut(e,t,n){var r=e.length-1;if(n&&t===r)return e.pop(),e;for(var o=new Array(r),i=0,a=0;a<r;a++)a===t&&(i=1),o[a]=e[a+i];return o}function flipFactory(e){var t=makeSequence(e);return t._iter=e,t.size=e.size,t.flip=function(){return e},t.reverse=function(){var t=e.reverse.apply(this);return t.flip=function(){return e.reverse()},t},t.has=function(t){return e.contains(t)},t.contains=function(t){return e.has(t)},t.cacheResult=cacheResultThrough,t.__iterateUncached=function(t,n){var r=this;return e.__iterate(function(e,n){return!1!==t(n,e,r)},n)},t.__iteratorUncached=function(t,n){if(t===b){var r=e.__iterator(t,n);return new S(function(){var e=r.next();if(!e.done){var t=e.value[0];e.value[0]=e.value[1],e.value[1]=t}return e})}return e.__iterator(t===C?y:C,n)},t}function mapFactory(e,t,n){var r=makeSequence(e);return r.size=e.size,r.has=function(t){return e.has(t)},r.get=function(r,o){var i=e.get(r,a);return i===a?o:t.call(n,i,r,e)},r.__iterateUncached=function(r,o){var i=this;return e.__iterate(function(e,o,a){return!1!==r(t.call(n,e,o,a),o,i)},o)},r.__iteratorUncached=function(r,o){var i=e.__iterator(b,o);return new S(function(){var o=i.next();if(o.done)return o;var a=o.value,s=a[0];return iteratorValue(r,s,t.call(n,a[1],s,e),o)})},r}function reverseFactory(e,t){var n=makeSequence(e);return n._iter=e,n.size=e.size,n.reverse=function(){return e},e.flip&&(n.flip=function(){var t=flipFactory(e);return t.reverse=function(){return e.flip()},t}),n.get=function(n,r){return e.get(t?n:-1-n,r)},n.has=function(n){return e.has(t?n:-1-n)},n.contains=function(t){return e.contains(t)},n.cacheResult=cacheResultThrough,n.__iterate=function(t,n){var r=this;return e.__iterate(function(e,n){return t(e,n,r)},!n)},n.__iterator=function(t,n){return e.__iterator(t,!n)},n}function filterFactory(e,t,n,r){var o=makeSequence(e);return r&&(o.has=function(r){var o=e.get(r,a);return o!==a&&!!t.call(n,o,r,e)},o.get=function(r,o){var i=e.get(r,a);return i!==a&&t.call(n,i,r,e)?i:o}),o.__iterateUncached=function(o,i){var a=this,s=0;return e.__iterate(function(e,i,u){if(t.call(n,e,i,u))return s++,o(e,r?i:s-1,a)},i),s},o.__iteratorUncached=function(o,i){var a=e.__iterator(b,i),s=0;return new S(function(){for(;;){var i=a.next();if(i.done)return i;var u=i.value,c=u[0],l=u[1];if(t.call(n,l,c,e))return iteratorValue(o,r?c:s++,l,i)}})},o}function countByFactory(e,t,n){var r=ae().asMutable();return e.__iterate(function(o,i){r.update(t.call(n,o,i,e),0,function(e){return e+1})}),r.asImmutable()}function groupByFactory(e,t,n){var r=isKeyed(e),o=ae().asMutable();e.__iterate(function(i,a){o.update(t.call(n,i,a,e),[],function(e){return e.push(r?[a,i]:i),e})});var i=iterableClass(e);return o.map(function(t){return reify(e,i(t))})}function takeFactory(e,t){if(t>e.size)return e;t<0&&(t=0);var n=makeSequence(e);return n.size=e.size&&Math.min(e.size,t),n.__iterateUncached=function(n,r){var o=this;if(0===t)return 0;if(r)return this.cacheResult().__iterate(n,r);var i=0;return e.__iterate(function(e,r){return++i&&!1!==n(e,r,o)&&i<t}),i},n.__iteratorUncached=function(n,r){if(r)return this.cacheResult().__iterator(n,r);var o=t&&e.__iterator(n,r),i=0;return new S(function(){if(i++>t)return iteratorDone();return o.next()})},n}function takeWhileFactory(e,t,n){var r=makeSequence(e);return r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0;return e.__iterate(function(e,o,s){return t.call(n,e,o,s)&&++a&&r(e,o,i)}),a},r.__iteratorUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterator(r,o);var a=e.__iterator(b,o),s=!0;return new S(function(){if(!s)return iteratorDone();var e=a.next();if(e.done)return e;var o=e.value,u=o[0],c=o[1];if(!t.call(n,c,u,i))return s=!1,iteratorDone();return r===b?e:iteratorValue(r,u,c,e)})},r}function skipFactory(e,t,n){if(t<=0)return e;var r=makeSequence(e);return r.size=e.size&&Math.max(0,e.size-t),r.__iterateUncached=function(r,o){var i=this;if(o)return this.cacheResult().__iterate(r,o);var a=0,s=!0,u=0;return e.__iterate(function(e,o){if(!s||!(s=a++<t))return u++,r(e,n?o:u-1,i)}),u},r.__iteratorUncached=function(r,o){if(o)return this.cacheResult().__iterator(r,o);var i=t&&e.__iterator(r,o),a=0,s=0;return new S(function(){for(;a<t;)a++,i.next();var e=i.next();return n||r===C?e:r===y?iteratorValue(r,s++,void 0,e):iteratorValue(r,s++,e.value[1],e)})},r}function skipWhileFactory(e,t,n,r){var o=makeSequence(e);return o.__iterateUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterate(o,i);var s=!0,u=0;return e.__iterate(function(e,i,c){if(!s||!(s=t.call(n,e,i,c)))return u++,o(e,r?i:u-1,a)}),u},o.__iteratorUncached=function(o,i){var a=this;if(i)return this.cacheResult().__iterator(o,i);var s=e.__iterator(b,i),u=!0,c=0;return new S(function(){var e,i,l;do{if(e=s.next(),e.done)return r||o===C?e:o===y?iteratorValue(o,c++,void 0,e):iteratorValue(o,c++,e.value[1],e);var p=e.value;i=p[0],l=p[1],u&&(u=t.call(n,l,i,a))}while(u);return o===b?e:iteratorValue(o,i,l,e)})},o}function concatFactory(e,t){var n=isKeyed(e),r=new W([e].concat(t)).map(function(e){return isIterable(e)?n&&(e=M(e)):e=n?keyedSeqFromValue(e):indexedSeqFromValue(Array.isArray(e)?e:[e]),e});n?r=r.toKeyedSeq():isIndexed(e)||(r=r.toSetSeq());var o=r.flatten(!0);return o.size=r.reduce(function(e,t){if(void 0!==e){var n=t.size;if(void 0!==n)return e+n}},0),o}function flattenFactory(e,t,n){var r=makeSequence(e);return r.__iterateUncached=function(r,o){function flatDeep(e,s){var u=this;e.__iterate(function(e,o){return(!t||s<t)&&isIterable(e)?flatDeep(e,s+1):!1===r(e,n?o:i++,u)&&(a=!0),!a},o)}var i=0,a=!1;return flatDeep(e,0),i},r.__iteratorUncached=function(r,o){var i=e.__iterator(r,o),a=[],s=0;return new S(function(){for(;i;){var e=i.next();if(!1!==e.done){i=a.pop();continue}var u=e.value;if(r===b&&(u=u[1]),t&&!(a.length<t)||!isIterable(u))return n?e:iteratorValue(r,s++,u,e);a.push(i),i=u.__iterator(r,o)}return iteratorDone()})},r}function flatMapFactory(e,t,n){var r=iterableClass(e);return e.toSeq().map(function(o,i){return r(t.call(n,o,i,e))}).flatten(!0)}function interposeFactory(e,t){var n=makeSequence(e);return n.size=e.size&&2*e.size-1,n.__iterateUncached=function(n,r){var o=this,i=0;return e.__iterate(function(e,r){return(!i||!1!==n(t,i++,o))&&!1!==n(e,i++,o)},r),i},n.__iteratorUncached=function(n,r){var o=e.__iterator(C,r),i=0,a;return new S(function(){if((!a||i%2)&&(a=o.next(),a.done))return a;return i%2?iteratorValue(n,i++,t):iteratorValue(n,i++,a.value,a)})},n}function sortFactory(e,t,n){t||(t=defaultComparator);var r=isKeyed(e),o=0,i=e.toSeq().map(function(t,r){return[r,t,o++,n?n(t,r,e):t]}).toArray();return i.sort(function(e,n){return t(e[3],n[3])||e[2]-n[2]}).forEach(r?function(e,t){i[t].length=2}:function(e,t){i[t]=e[1]}),r?B(i):isIndexed(e)?q(i):V(i)}function maxFactory(e,t,n){if(t||(t=defaultComparator),n){var r=e.toSeq().map(function(t,r){return[t,n(t,r,e)]}).reduce(function(e,n){return t(n[1],e[1])>0?n:e});return r&&r[0]}return e.reduce(function(e,n){return t(n,e)>0?n:e})}function reify(e,t){return isSeq(e)?t:e.constructor(t)}function validateEntry(e){if(e!==Object(e))throw new TypeError("Expected [K, V] tuple: "+e)}function resolveSize(e){return assertNotInfinite(e.size),ensureSize(e)}function iterableClass(e){return isKeyed(e)?M:isIndexed(e)?D:j}function makeSequence(e){return Object.create((isKeyed(e)?B:isIndexed(e)?q:V).prototype)}function cacheResultThrough(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):F.prototype.cacheResult.call(this)}function defaultComparator(e,t){return e>t?1:e<t?-1:0}function isList(e){return!(!e||!e[Ae])}function iterateVNode(e,t,n,a,s,u){var c,l=e&&e.array;if(0===t){var p=n<0?-n:0,d=a-n;for(d>o&&(d=o),c=p;c<d;c++)if(!1===s(l&&l[u?p+d-1-c:c]))return!1}else{var f=1<<t,h=t-r;for(c=0;c<=i;c++){var v=u?i-c:c,m=n+(v<<t);if(m<a&&m+f>0){if(!iterateVNode(l&&l[v],h,m,a,s,u))return!1}}}return!0}function listIteratorFrame(e,t,n,r,o){return{array:e,level:t,offset:n,max:r,rawMax:r-n>>t,index:0,__prev:o}}function makeList(e,t,n,r,o,i,a){var s=Object.create(Pe);return s.size=t-e,s._origin=e,s._capacity=t,s._level=n,s._root=r,s._tail=o,s.__ownerID=i,s.__hash=a,s.__altered=!1,s}function emptyList(){return Me||(Me=makeList(0,0,r))}function updateList(e,t,n){if((t=wrapIndex(e,t))>=e.size||t<0)return e.withMutations(function(e){t<0?setListBounds(e,t).set(0,n):setListBounds(e,0,t+1).set(t,n)});t+=e._origin;var r=e._tail,o=e._root,i=MakeRef(u);if(t>=getTailOffset(e._capacity)?r=updateVNode(r,e.__ownerID,0,t,n,i):o=updateVNode(o,e.__ownerID,e._level,t,n,i),!i.value)return e;if(e.__ownerID)return e._root=o,e._tail=r,e.__hash=void 0,e.__altered=!0,e;return makeList(e._origin,e._capacity,e._level,o,r)}function updateVNode(e,t,n,o,a,s){var u=o>>>n&i,c=e&&u<e.array.length;if(!c&&void 0===a)return e;var l;if(n>0){var p=e&&e.array[u],d=updateVNode(p,t,n-r,o,a,s);if(d===p)return e;return l=editableVNode(e,t),l.array[u]=d,l}if(c&&e.array[u]===a)return e;return SetRef(s),l=editableVNode(e,t),void 0===a&&u===l.array.length-1?l.array.pop():l.array[u]=a,l}function editableVNode(e,t){if(t&&e&&t===e.ownerID)return e;return new Ie(e?e.array.slice():[],t)}function listNodeFor(e,t){if(t>=getTailOffset(e._capacity))return e._tail;if(t<1<<e._level+r){for(var n=e._root,o=e._level;n&&o>0;)n=n.array[t>>>o&i],o-=r;return n}}function setListBounds(e,t,n){var o=e.__ownerID||new OwnerID,a=e._origin,s=e._capacity,u=a+t,c=void 0===n?s:n<0?s+n:a+n;if(u===a&&c===s)return e;if(u>=c)return e.clear();for(var l=e._level,p=e._root,d=0;u+d<0;)p=new Ie(p&&p.array.length?[void 0,p]:[],o),l+=r,d+=1<<l;d&&(u+=d,a+=d,c+=d,s+=d);for(var f=getTailOffset(s),h=getTailOffset(c);h>=1<<l+r;)p=new Ie(p&&p.array.length?[p]:[],o),l+=r;var v=e._tail,m=h<f?listNodeFor(e,c-1):h>f?new Ie([],o):v;if(v&&h>f&&u<s&&v.array.length){p=editableVNode(p,o);for(var g=p,y=l;y>r;y-=r){var C=f>>>y&i;g=g.array[C]=editableVNode(g.array[C],o)}g.array[f>>>r&i]=v}if(c<s&&(m=m&&m.removeAfter(o,0,c)),u>=h)u-=h,c-=h,l=r,p=null,m=m&&m.removeBefore(o,0,u);else if(u>a||h<f){for(d=0;p;){var b=u>>>l&i;if(b!==h>>>l&i)break;b&&(d+=(1<<l)*b),l-=r,p=p.array[b]}p&&u>a&&(p=p.removeBefore(o,l,u-d)),p&&h<f&&(p=p.removeAfter(o,l,h-d)),d&&(u-=d,c-=d)}if(e.__ownerID)return e.size=c-u,e._origin=u,e._capacity=c,e._level=l,e._root=p,e._tail=m,e.__hash=void 0,e.__altered=!0,e;return makeList(u,c,l,p,m)}function mergeIntoListWith(e,t,n){for(var r=[],o=0,i=0;i<n.length;i++){var a=n[i],s=D(a);s.size>o&&(o=s.size),isIterable(a)||(s=s.map(function(e){return fromJS(e)})),r.push(s)}return o>e.size&&(e=e.setSize(o)),mergeIntoCollectionWith(e,t,r)}function getTailOffset(e){return e<o?0:e-1>>>r<<r}function isOrderedMap(e){return isMap(e)&&isOrdered(e)}function makeOrderedMap(e,t,n,r){var o=Object.create(Le.prototype);return o.size=e?e.size:0,o._map=e,o._list=t,o.__ownerID=n,o.__hash=r,o}function emptyOrderedMap(){return De||(De=makeOrderedMap(emptyMap(),emptyList()))}function updateOrderedMap(e,t,n){var r=e._map,i=e._list,s=r.get(t),u=void 0!==s,c,l;if(n===a){if(!u)return e;i.size>=o&&i.size>=2*r.size?(l=i.filter(function(e,t){return void 0!==e&&s!==t}),c=l.toKeyedSeq().map(function(e){return e[0]}).flip().toMap(),e.__ownerID&&(c.__ownerID=l.__ownerID=e.__ownerID)):(c=r.remove(t),l=s===i.size-1?i.pop():i.set(s,void 0))}else if(u){if(n===i.get(s)[1])return e;c=r,l=i.set(s,[t,n])}else c=r.set(t,i.size),l=i.set(i.size,[t,n]);if(e.__ownerID)return e.size=c.size,e._map=c,e._list=l,e.__hash=void 0,e;return makeOrderedMap(c,l)}function isStack(e){return!(!e||!e[Ue])}function makeStack(e,t,n,r){var o=Object.create(Be);return o.size=e,o._head=t,o.__ownerID=n,o.__hash=r,o.__altered=!1,o}function emptyStack(){return He||(He=makeStack(0))}function isSet(e){return!(!e||!e[ze])}function updateSet(e,t){if(e.__ownerID)return e.size=t.size,e._map=t,e;return t===e._map?e:0===t.size?e.__empty():e.__make(t)}function makeSet(e,t){var n=Object.create(Ve);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function emptySet(){return Ge||(Ge=makeSet(emptyMap()))}function isOrderedSet(e){return isSet(e)&&isOrdered(e)}function makeOrderedSet(e,t){var n=Object.create(Qe);return n.size=e?e.size:0,n._map=e,n.__ownerID=t,n}function emptyOrderedSet(){return We||(We=makeOrderedSet(emptyOrderedMap()))}function makeRecord(e,t,n){var r=Object.create(Object.getPrototypeOf(e));return r._map=t,r.__ownerID=n,r}function recordName(e){return e._name||e.constructor.name}var e=Object,t={};t.createClass=createClass,t.superCall=superCall,t.defaultSuperCall=defaultSuperCall;var n="delete",r=5,o=1<<r,i=o-1,a={},s={value:!1},u={value:!1},c=function(){try{return Object.defineProperty({},"x",{}),!0}catch(e){return!1}}(),l="function"==typeof WeakMap&&new WeakMap,p=2147483647,d=0,f="__immutablehash__";"function"==typeof Symbol&&(f=Symbol(f));var h=16,v=255,m=0,g={},y=0,C=1,b=2,E="@@iterator",w="function"==typeof Symbol&&Symbol.iterator,T=w||E,S=function Iterator(e){this.next=e};t.createClass(S,{toString:function(){return"[Iterator]"}},{}),S.KEYS=y,S.VALUES=C,S.ENTRIES=b;var O=S.prototype;O.inspect=O.toSource=function(){return this.toString()},O[T]=function(){return this};var x=function Iterable(e){return isIterable(e)?e:F(e)},R=x;t.createClass(x,{toArray:function(){assertNotInfinite(this.size);var e=new Array(this.size||0);return this.valueSeq().__iterate(function(t,n){e[n]=t}),e},toIndexedSeq:function(){return new Se(this)},toJS:function(){return this.toSeq().map(function(e){return e&&"function"==typeof e.toJS?e.toJS():e}).__toJS()},toKeyedSeq:function(){return new Te(this,!0)},toMap:function(){return assertNotInfinite(this.size),ae(this.toKeyedSeq())},toObject:function(){assertNotInfinite(this.size);var e={};return this.__iterate(function(t,n){e[n]=t}),e},toOrderedMap:function(){return assertNotInfinite(this.size),Le(this.toKeyedSeq())},toOrderedSet:function(){return assertNotInfinite(this.size),$e(isKeyed(this)?this.valueSeq():this)},toSet:function(){return assertNotInfinite(this.size),qe(isKeyed(this)?this.valueSeq():this)},toSetSeq:function(){return new Oe(this)},toSeq:function(){return isIndexed(this)?this.toIndexedSeq():isKeyed(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return assertNotInfinite(this.size),je(isKeyed(this)?this.valueSeq():this)},toList:function(){return assertNotInfinite(this.size),Re(isKeyed(this)?this.valueSeq():this)},toString:function(){return"[Iterable]"},__toString:function(e,t){if(0===this.size)return e+t;return e+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+t},concat:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return reify(this,concatFactory(this,e))},contains:function(e){return this.some(function(t){return is(t,e)})},entries:function(){return this.__iterator(b)},every:function(e,t){var n=!0;return this.__iterate(function(r,o,i){if(!e.call(t,r,o,i))return n=!1,!1}),n},filter:function(e,t){return reify(this,filterFactory(this,e,t,!0))},find:function(e,t,n){var r=n;return this.__iterate(function(n,o,i){if(e.call(t,n,o,i))return r=n,!1}),r},forEach:function(e,t){return this.__iterate(t?e.bind(t):e)},join:function(e){e=void 0!==e?""+e:",";var t="",n=!0;return this.__iterate(function(r){n?n=!1:t+=e,t+=null!==r&&void 0!==r?r:""}),t},keys:function(){return this.__iterator(y)},map:function(e,t){return reify(this,mapFactory(this,e,t))},reduce:function(e,t,n){var r,o;return arguments.length<2?o=!0:r=t,this.__iterate(function(t,i,a){o?(o=!1,r=t):r=e.call(n,r,t,i,a)}),r},reduceRight:function(e,t,n){var r=this.toKeyedSeq().reverse();return r.reduce.apply(r,arguments)},reverse:function(){return reify(this,reverseFactory(this,!0))},slice:function(e,t){if(wholeSlice(e,t,this.size))return this;var n=resolveBegin(e,this.size),r=resolveEnd(t,this.size);if(n!==n||r!==r)return this.toSeq().cacheResult().slice(e,t);var o=0===n?this:this.skip(n);return reify(this,void 0===r||r===this.size?o:o.take(r-n))},some:function(e,t){return!this.every(not(e),t)},sort:function(e){return reify(this,sortFactory(this,e))},values:function(){return this.__iterator(C)},butLast:function(){return this.slice(0,-1)},count:function(e,t){return ensureSize(e?this.toSeq().filter(e,t):this)},countBy:function(e,t){return countByFactory(this,e,t)},equals:function(e){if(this===e)return!0;if(!e||"function"!=typeof e.equals)return!1;if(void 0!==this.size&&void 0!==e.size){if(this.size!==e.size)return!1;if(0===this.size&&0===e.size)return!0}if(void 0!==this.__hash&&void 0!==e.__hash&&this.__hash!==e.__hash)return!1;return this.__deepEquals(e)},__deepEquals:function(e){return deepEqual(this,e)},entrySeq:function(){var e=this;if(e._cache)return new W(e._cache);var t=e.toSeq().map(entryMapper).toIndexedSeq();return t.fromEntrySeq=function(){return e.toSeq()},t},filterNot:function(e,t){return this.filter(not(e),t)},findLast:function(e,t,n){return this.toKeyedSeq().reverse().find(e,t,n)},first:function(){return this.find(returnTrue)},flatMap:function(e,t){return reify(this,flatMapFactory(this,e,t))},flatten:function(e){return reify(this,flattenFactory(this,e,!0))},fromEntrySeq:function(){return new xe(this)},get:function(e,t){return this.find(function(_,t){return is(t,e)},void 0,t)},getIn:function(e,t){var n=this;if(e)for(var r=0;r<e.length;r++)if((n=n&&n.get?n.get(e[r],a):a)===a)return t;return n},groupBy:function(e,t){return groupByFactory(this,e,t)},has:function(e){return this.get(e,a)!==a},isSubset:function(e){return e="function"==typeof e.contains?e:R(e),this.every(function(t){return e.contains(t)})},isSuperset:function(e){return e.isSubset(this)},keySeq:function(){return this.toSeq().map(keyMapper).toIndexedSeq()},last:function(){return this.toSeq().reverse().first()},max:function(e){return maxFactory(this,e)},maxBy:function(e,t){return maxFactory(this,t,e)},min:function(e){return maxFactory(this,e?neg(e):defaultNegComparator)},minBy:function(e,t){return maxFactory(this,t?neg(t):defaultNegComparator,e)},rest:function(){return this.slice(1)},skip:function(e){return reify(this,skipFactory(this,e,!0))},skipLast:function(e){return reify(this,this.toSeq().reverse().skip(e).reverse())},skipWhile:function(e,t){return reify(this,skipWhileFactory(this,e,t,!0))},skipUntil:function(e,t){return this.skipWhile(not(e),t)},sortBy:function(e,t){return reify(this,sortFactory(this,t,e))},take:function(e){return reify(this,takeFactory(this,e))},takeLast:function(e){return reify(this,this.toSeq().reverse().take(e).reverse())},takeWhile:function(e,t){return reify(this,takeWhileFactory(this,e,t))},takeUntil:function(e,t){return this.takeWhile(not(e),t)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=this.size===1/0?0:this.reduce(function(e,t,n){return e+(hash(t)^(t===n?0:hash(n)))&p},0))}},{});var A="@@__IMMUTABLE_ITERABLE__@@",P="@@__IMMUTABLE_KEYED__@@",I="@@__IMMUTABLE_INDEXED__@@",N="@@__IMMUTABLE_ORDERED__@@",k=x.prototype;k[A]=!0,k[T]=k.values,k.toJSON=k.toJS,k.__toJS=k.toArray,k.__toStringMapper=quoteString,k.inspect=k.toSource=function(){return this.toString()},k.chain=k.flatMap,function(){try{Object.defineProperty(k,"length",{get:function(){if(!x.noLengthWarning){var e;try{throw new Error}catch(t){e=t.stack}if(-1===e.indexOf("_wrapObject"))return console&&console.warn&&console.warn("iterable.length has been deprecated, use iterable.size or iterable.count(). This warning will become a silent error in a future version. "+e),this.size}}})}catch(e){}}();var M=function KeyedIterable(e){return isKeyed(e)?e:B(e)};t.createClass(M,{flip:function(){return reify(this,flipFactory(this))},findKey:function(e,t){var n;return this.__iterate(function(r,o,i){if(e.call(t,r,o,i))return n=o,!1}),n},findLastKey:function(e,t){return this.toSeq().reverse().findKey(e,t)},keyOf:function(e){return this.findKey(function(t){return is(t,e)})},lastKeyOf:function(e){return this.toSeq().reverse().keyOf(e)},mapEntries:function(e,t){var n=this,r=0;return reify(this,this.toSeq().map(function(o,i){return e.call(t,[i,o],r++,n)}).fromEntrySeq())},mapKeys:function(e,t){var n=this;return reify(this,this.toSeq().flip().map(function(r,o){return e.call(t,r,o,n)}).flip())}},{},x);var L=M.prototype;L[P]=!0,L[T]=k.entries,L.__toJS=k.toObject,L.__toStringMapper=function(e,t){return t+": "+quoteString(e)};var D=function IndexedIterable(e){return isIndexed(e)?e:q(e)};t.createClass(D,{toKeyedSeq:function(){return new Te(this,!1)},filter:function(e,t){return reify(this,filterFactory(this,e,t,!1))},findIndex:function(e,t){var n=this.toKeyedSeq().findKey(e,t);return void 0===n?-1:n},indexOf:function(e){var t=this.toKeyedSeq().keyOf(e);return void 0===t?-1:t},lastIndexOf:function(e){var t=this.toKeyedSeq().lastKeyOf(e);return void 0===t?-1:t},reverse:function(){return reify(this,reverseFactory(this,!1))},splice:function(e,t){var n=arguments.length;if(t=Math.max(0|t,0),0===n||2===n&&!t)return this;e=resolveBegin(e,this.size);var r=this.slice(0,e);return reify(this,1===n?r:r.concat(arrCopy(arguments,2),this.slice(e+t)))},findLastIndex:function(e,t){var n=this.toKeyedSeq().findLastKey(e,t);return void 0===n?-1:n},first:function(){return this.get(0)},flatten:function(e){return reify(this,flattenFactory(this,e,!1))},get:function(e,t){return e=wrapIndex(this,e),e<0||this.size===1/0||void 0!==this.size&&e>this.size?t:this.find(function(_,t){return t===e},void 0,t)},has:function(e){return(e=wrapIndex(this,e))>=0&&(void 0!==this.size?this.size===1/0||e<this.size:-1!==this.indexOf(e))},interpose:function(e){return reify(this,interposeFactory(this,e))},last:function(){return this.get(-1)},skip:function(e){var t=this,n=skipFactory(t,e,!1);return isSeq(t)&&n!==t&&(n.get=function(n,r){return n=wrapIndex(this,n),n>=0?t.get(n+e,r):r}),reify(this,n)},skipWhile:function(e,t){return reify(this,skipWhileFactory(this,e,t,!1))},take:function(e){var t=this,n=takeFactory(t,e);return isSeq(t)&&n!==t&&(n.get=function(n,r){return n=wrapIndex(this,n),n>=0&&n<e?t.get(n,r):r}),reify(this,n)}},{},x),D.prototype[I]=!0,D.prototype[N]=!0;var j=function SetIterable(e){return isIterable(e)&&!isAssociative(e)?e:V(e)};t.createClass(j,{get:function(e,t){return this.has(e)?e:t},contains:function(e){return this.has(e)},keySeq:function(){return this.valueSeq()}},{},x),j.prototype.has=k.contains,x.isIterable=isIterable,x.isKeyed=isKeyed,x.isIndexed=isIndexed,x.isAssociative=isAssociative,x.isOrdered=isOrdered,x.Keyed=M,x.Indexed=D,x.Set=j,x.Iterator=S;var F=function Seq(e){return null===e||void 0===e?emptySequence():isIterable(e)?e.toSeq():seqFromValue(e)},U=F;t.createClass(F,{toSeq:function(){return this},toString:function(){return this.__toString("Seq {","}")},cacheResult:function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},__iterate:function(e,t){return seqIterate(this,e,t,!0)},__iterator:function(e,t){return seqIterator(this,e,t,!0)}},{of:function(){return U(arguments)}},x);var B=function KeyedSeq(e){return null===e||void 0===e?emptySequence().toKeyedSeq():isIterable(e)?isKeyed(e)?e.toSeq():e.fromEntrySeq():keyedSeqFromValue(e)},H=B;t.createClass(B,{toKeyedSeq:function(){return this},toSeq:function(){return this}},{of:function(){return H(arguments)}},F),mixin(B,M.prototype);var q=function IndexedSeq(e){return null===e||void 0===e?emptySequence():isIterable(e)?isKeyed(e)?e.entrySeq():e.toIndexedSeq():indexedSeqFromValue(e)},z=q;t.createClass(q,{toIndexedSeq:function(){return this},toString:function(){return this.__toString("Seq [","]")},__iterate:function(e,t){return seqIterate(this,e,t,!1)},__iterator:function(e,t){return seqIterator(this,e,t,!1)}},{of:function(){return z(arguments)}},F),mixin(q,D.prototype);var V=function SetSeq(e){return(null===e||void 0===e?emptySequence():isIterable(e)?isKeyed(e)?e.entrySeq():e:indexedSeqFromValue(e)).toSetSeq()},G=V;t.createClass(V,{toSetSeq:function(){return this}},{of:function(){return G(arguments)}},F),mixin(V,j.prototype),F.isSeq=isSeq,F.Keyed=B,F.Set=V,F.Indexed=q;var Q="@@__IMMUTABLE_SEQ__@@";F.prototype[Q]=!0;var W=function ArraySeq(e){this._array=e,this.size=e.length};t.createClass(W,{get:function(e,t){return this.has(e)?this._array[wrapIndex(this,e)]:t},__iterate:function(e,t){for(var n=this._array,r=n.length-1,o=0;o<=r;o++)if(!1===e(n[t?r-o:o],o,this))return o+1;return o},__iterator:function(e,t){var n=this._array,r=n.length-1,o=0;return new S(function(){return o>r?iteratorDone():iteratorValue(e,o,n[t?r-o++:o++])})}},{},q);var J=function ObjectSeq(e){var t=Object.keys(e);this._object=e,this._keys=t,this.size=t.length};t.createClass(J,{get:function(e,t){if(void 0!==t&&!this.has(e))return t;return this._object[e]},has:function(e){return this._object.hasOwnProperty(e)},__iterate:function(e,t){for(var n=this._object,r=this._keys,o=r.length-1,i=0;i<=o;i++){var a=r[t?o-i:i];if(!1===e(n[a],a,this))return i+1}return i},__iterator:function(e,t){var n=this._object,r=this._keys,o=r.length-1,i=0;return new S(function(){var a=r[t?o-i:i];return i++>o?iteratorDone():iteratorValue(e,a,n[a])})}},{},B),J.prototype[N]=!0;var K=function IterableSeq(e){this._iterable=e,this.size=e.length||e.size};t.createClass(K,{__iterateUncached:function(e,t){if(t)return this.cacheResult().__iterate(e,t);var n=this._iterable,r=getIterator(n),o=0;if(isIterator(r))for(var i;!(i=r.next()).done&&!1!==e(i.value,o++,this););return o},__iteratorUncached:function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterable,r=getIterator(n);if(!isIterator(r))return new S(iteratorDone);var o=0;return new S(function(){var t=r.next();return t.done?t:iteratorValue(e,o++,t.value)})}},{},q);var X=function IteratorSeq(e){this._iterator=e,this._iteratorCache=[]};t.createClass(X,{__iterateUncached:function(e,t){if(t)return this.cacheResult().__iterate(e,t);for(var n=this._iterator,r=this._iteratorCache,o=0;o<r.length;)if(!1===e(r[o],o++,this))return o;for(var i;!(i=n.next()).done;){var a=i.value;if(r[o]=a,!1===e(a,o++,this))break}return o},__iteratorUncached:function(e,t){if(t)return this.cacheResult().__iterator(e,t);var n=this._iterator,r=this._iteratorCache,o=0;return new S(function(){if(o>=r.length){var t=n.next();if(t.done)return t;r[o]=t.value}return iteratorValue(e,o,r[o++])})}},{},q);var Y,Z=function Collection(){throw TypeError("Abstract")};t.createClass(Z,{},{},x);var ee=function KeyedCollection(){t.defaultSuperCall(this,te.prototype,arguments)},te=ee;t.createClass(ee,{},{},Z),mixin(ee,M.prototype);var ne=function IndexedCollection(){t.defaultSuperCall(this,re.prototype,arguments)},re=ne;t.createClass(ne,{},{},Z),mixin(ne,D.prototype);var oe=function SetCollection(){t.defaultSuperCall(this,ie.prototype,arguments)},ie=oe;t.createClass(oe,{},{},Z),mixin(oe,j.prototype),Z.Keyed=ee,Z.Indexed=ne,Z.Set=oe;var ae=function Map(e){return null===e||void 0===e?emptyMap():isMap(e)?e:emptyMap().merge(M(e))};t.createClass(ae,{toString:function(){return this.__toString("Map {","}")},get:function(e,t){return this._root?this._root.get(0,void 0,e,t):t},set:function(e,t){return updateMap(this,e,t)},setIn:function(e,t){return invariant(e.length>0,"Requires non-empty key path."),this.updateIn(e,function(){return t})},remove:function(e){return updateMap(this,e,a)},removeIn:function(e){return invariant(e.length>0,"Requires non-empty key path."),this.updateIn(e,function(){return a})},update:function(e,t,n){return 1===arguments.length?e(this):this.updateIn([e],t,n)},updateIn:function(e,t,n){return n||(n=t,t=void 0),0===e.length?n(this):updateInDeepMap(this,e,t,n,0)},clear:function(){if(0===this.size)return this;if(this.__ownerID)return this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this;return emptyMap()},merge:function(){return mergeIntoMapWith(this,void 0,arguments)},mergeWith:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return mergeIntoMapWith(this,e,t)},mergeDeep:function(){return mergeIntoMapWith(this,deepMerger(void 0),arguments)},mergeDeepWith:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return mergeIntoMapWith(this,deepMerger(e),t)},sort:function(e){return Le(sortFactory(this,e))},sortBy:function(e,t){return Le(sortFactory(this,t,e))},withMutations:function(e){var t=this.asMutable();return e(t),t.wasAltered()?t.__ensureOwner(this.__ownerID):this},asMutable:function(){return this.__ownerID?this:this.__ensureOwner(new OwnerID)},asImmutable:function(){return this.__ensureOwner()},wasAltered:function(){return this.__altered},__iterator:function(e,t){return new Ce(this,e,t)},__iterate:function(e,t){var n=this,r=0;return this._root&&this._root.iterate(function(t){return r++,e(t[1],t[0],n)},t),r},__ensureOwner:function(e){if(e===this.__ownerID)return this;if(!e)return this.__ownerID=e,this.__altered=!1,this;return makeMap(this.size,this._root,e,this.__hash)}},{},ee),ae.isMap=isMap;var se="@@__IMMUTABLE_MAP__@@",ue=ae.prototype;ue[se]=!0,ue[n]=ue.remove;var ce=function ArrayMapNode(e,t){this.ownerID=e,this.entries=t},le=ce;t.createClass(ce,{get:function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(is(n,o[i][0]))return o[i][1];return r},update:function(e,t,n,r,o,i,s){for(var u=o===a,c=this.entries,l=0,p=c.length;l<p&&!is(r,c[l][0]);l++);var d=l<p;if(d?c[l][1]===o:u)return this;if(SetRef(s),(u||!d)&&SetRef(i),u&&1===c.length)return;if(!d&&!u&&c.length>=_e)return createNodes(e,c,r,o);var f=e&&e===this.ownerID,h=f?c:arrCopy(c);if(d?u?l===p-1?h.pop():h[l]=h.pop():h[l]=[r,o]:h.push([r,o]),f)return this.entries=h,this;return new le(e,h)}},{});var pe=function BitmapIndexedNode(e,t,n){this.ownerID=e,this.bitmap=t,this.nodes=n},de=pe;t.createClass(pe,{get:function(e,t,n,o){void 0===t&&(t=hash(n));var a=1<<((0===e?t:t>>>e)&i),s=this.bitmap;return 0==(s&a)?o:this.nodes[popCount(s&a-1)].get(e+r,t,n,o)},update:function(e,t,n,o,s,u,c){void 0===n&&(n=hash(o));var l=(0===t?n:n>>>t)&i,p=1<<l,d=this.bitmap,f=0!=(d&p);if(!f&&s===a)return this;var h=popCount(d&p-1),v=this.nodes,m=f?v[h]:void 0,g=updateNode(m,e,t+r,n,o,s,u,c);if(g===m)return this;if(!f&&g&&v.length>=Ee)return expandNodes(e,v,d,l,g);if(f&&!g&&2===v.length&&isLeafNode(v[1^h]))return v[1^h];if(f&&g&&1===v.length&&isLeafNode(g))return g;var y=e&&e===this.ownerID,C=f?g?d:d^p:d|p,b=f?g?setIn(v,h,g,y):spliceOut(v,h,y):spliceIn(v,h,g,y);if(y)return this.bitmap=C,this.nodes=b,this;return new de(e,C,b)}},{});var fe=function HashArrayMapNode(e,t,n){this.ownerID=e,this.count=t,this.nodes=n},he=fe;t.createClass(fe,{get:function(e,t,n,o){void 0===t&&(t=hash(n));var a=(0===e?t:t>>>e)&i,s=this.nodes[a];return s?s.get(e+r,t,n,o):o},update:function(e,t,n,o,s,u,c){void 0===n&&(n=hash(o));var l=(0===t?n:n>>>t)&i,p=s===a,d=this.nodes,f=d[l];if(p&&!f)return this;var h=updateNode(f,e,t+r,n,o,s,u,c);if(h===f)return this;var v=this.count;if(f){if(!h&&--v<we)return packNodes(e,d,v,l)}else v++;var m=e&&e===this.ownerID,g=setIn(d,l,h,m);if(m)return this.count=v,this.nodes=g,this;return new he(e,v,g)}},{});var ve=function HashCollisionNode(e,t,n){this.ownerID=e,this.keyHash=t,this.entries=n},me=ve;t.createClass(ve,{get:function(e,t,n,r){for(var o=this.entries,i=0,a=o.length;i<a;i++)if(is(n,o[i][0]))return o[i][1];return r},update:function(e,t,n,r,o,i,s){void 0===n&&(n=hash(r));var u=o===a;if(n!==this.keyHash){if(u)return this;return SetRef(s),SetRef(i),mergeIntoNode(this,e,t,n,[r,o])}for(var c=this.entries,l=0,p=c.length;l<p&&!is(r,c[l][0]);l++);var d=l<p;if(d?c[l][1]===o:u)return this;if(SetRef(s),(u||!d)&&SetRef(i),u&&2===p)return new ge(e,this.keyHash,c[1^l]);var f=e&&e===this.ownerID,h=f?c:arrCopy(c);if(d?u?l===p-1?h.pop():h[l]=h.pop():h[l]=[r,o]:h.push([r,o]),f)return this.entries=h,this;return new me(e,this.keyHash,h)}},{});var ge=function ValueNode(e,t,n){this.ownerID=e,this.keyHash=t,this.entry=n},ye=ge;t.createClass(ge,{get:function(e,t,n,r){return is(n,this.entry[0])?this.entry[1]:r},update:function(e,t,n,r,o,i,s){var u=o===a,c=is(r,this.entry[0]);if(c?o===this.entry[1]:u)return this;if(SetRef(s),u)return void SetRef(i);if(c){if(e&&e===this.ownerID)return this.entry[1]=o,this;return new ye(e,this.keyHash,[r,o])}return SetRef(i),mergeIntoNode(this,e,t,hash(r),[r,o])}},{}),ce.prototype.iterate=ve.prototype.iterate=function(e,t){for(var n=this.entries,r=0,o=n.length-1;r<=o;r++)if(!1===e(n[t?o-r:r]))return!1},pe.prototype.iterate=fe.prototype.iterate=function(e,t){for(var n=this.nodes,r=0,o=n.length-1;r<=o;r++){var i=n[t?o-r:r];if(i&&!1===i.iterate(e,t))return!1}},ge.prototype.iterate=function(e,t){return e(this.entry)};var Ce=function MapIterator(e,t,n){this._type=t,this._reverse=n,this._stack=e._root&&mapIteratorFrame(e._root)};t.createClass(Ce,{next:function(){for(var e=this._type,t=this._stack;t;){var n=t.node,r=t.index++,o;if(n.entry){if(0===r)return mapIteratorValue(e,n.entry)}else if(n.entries){if(o=n.entries.length-1,r<=o)return mapIteratorValue(e,n.entries[this._reverse?o-r:r])}else if(o=n.nodes.length-1,r<=o){var i=n.nodes[this._reverse?o-r:r];if(i){if(i.entry)return mapIteratorValue(e,i.entry);t=this._stack=mapIteratorFrame(i,t)}continue}t=this._stack=this._stack.__prev}return iteratorDone()}},{},S);var be,_e=o/4,Ee=o/2,we=o/4,Te=function ToKeyedSequence(e,t){this._iter=e,this._useKeys=t,this.size=e.size};t.createClass(Te,{get:function(e,t){return this._iter.get(e,t)},has:function(e){return this._iter.has(e)},valueSeq:function(){return this._iter.valueSeq()},reverse:function(){var e=this,t=reverseFactory(this,!0);return this._useKeys||(t.valueSeq=function(){return e._iter.toSeq().reverse()}),t},map:function(e,t){var n=this,r=mapFactory(this,e,t);return this._useKeys||(r.valueSeq=function(){return n._iter.toSeq().map(e,t)}),r},__iterate:function(e,t){var n=this,r;return this._iter.__iterate(this._useKeys?function(t,r){return e(t,r,n)}:(r=t?resolveSize(this):0,function(o){return e(o,t?--r:r++,n)}),t)},__iterator:function(e,t){if(this._useKeys)return this._iter.__iterator(e,t);var n=this._iter.__iterator(C,t),r=t?resolveSize(this):0;return new S(function(){var o=n.next();return o.done?o:iteratorValue(e,t?--r:r++,o.value,o)})}},{},B),Te.prototype[N]=!0;var Se=function ToIndexedSequence(e){this._iter=e,this.size=e.size};t.createClass(Se,{contains:function(e){return this._iter.contains(e)},__iterate:function(e,t){var n=this,r=0;return this._iter.__iterate(function(t){return e(t,r++,n)},t)},__iterator:function(e,t){var n=this._iter.__iterator(C,t),r=0;return new S(function(){var t=n.next();return t.done?t:iteratorValue(e,r++,t.value,t)})}},{},q);var Oe=function ToSetSequence(e){this._iter=e,this.size=e.size};t.createClass(Oe,{has:function(e){return this._iter.contains(e)},__iterate:function(e,t){var n=this;return this._iter.__iterate(function(t){return e(t,t,n)},t)},__iterator:function(e,t){var n=this._iter.__iterator(C,t);return new S(function(){var t=n.next();return t.done?t:iteratorValue(e,t.value,t.value,t)})}},{},V);var xe=function FromEntriesSequence(e){this._iter=e,this.size=e.size};t.createClass(xe,{entrySeq:function(){return this._iter.toSeq()},__iterate:function(e,t){var n=this;return this._iter.__iterate(function(t){if(t)return validateEntry(t),e(t[1],t[0],n)},t)},__iterator:function(e,t){var n=this._iter.__iterator(C,t);return new S(function(){for(;;){var t=n.next();if(t.done)return t;var r=t.value;if(r)return validateEntry(r),e===b?t:iteratorValue(e,r[0],r[1],t)}})}},{},B),Se.prototype.cacheResult=Te.prototype.cacheResult=Oe.prototype.cacheResult=xe.prototype.cacheResult=cacheResultThrough;var Re=function List(e){var t=emptyList();if(null===e||void 0===e)return t;if(isList(e))return e;e=D(e);var n=e.size;if(0===n)return t;if(n>0&&n<o)return makeList(0,n,r,null,new Ie(e.toArray()));return t.merge(e)};t.createClass(Re,{toString:function(){return this.__toString("List [","]")},get:function(e,t){if((e=wrapIndex(this,e))<0||e>=this.size)return t;e+=this._origin;var n=listNodeFor(this,e);return n&&n.array[e&i]},set:function(e,t){return updateList(this,e,t)},remove:function(e){return this.has(e)?0===e?this.shift():e===this.size-1?this.pop():this.splice(e,1):this},clear:function(){if(0===this.size)return this;if(this.__ownerID)return this.size=this._origin=this._capacity=0,this._level=r,this._root=this._tail=null,this.__hash=void 0,this.__altered=!0,this;return emptyList()},push:function(){var e=arguments,t=this.size;return this.withMutations(function(n){setListBounds(n,0,t+e.length);for(var r=0;r<e.length;r++)n.set(t+r,e[r])})},pop:function(){return setListBounds(this,0,-1)},unshift:function(){var e=arguments;return this.withMutations(function(t){setListBounds(t,-e.length);for(var n=0;n<e.length;n++)t.set(n,e[n])})},shift:function(){return setListBounds(this,1)},merge:function(){return mergeIntoListWith(this,void 0,arguments)},mergeWith:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return mergeIntoListWith(this,e,t)},mergeDeep:function(){return mergeIntoListWith(this,deepMerger(void 0),arguments)},mergeDeepWith:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return mergeIntoListWith(this,deepMerger(e),t)},setSize:function(e){return setListBounds(this,0,e)},slice:function(e,t){var n=this.size;if(wholeSlice(e,t,n))return this;return setListBounds(this,resolveBegin(e,n),resolveEnd(t,n))},__iterator:function(e,t){return new ke(this,e,t)},__iterate:function(e,t){var n=this,r=0,o=function(t){return e(t,r++,n)},i=getTailOffset(this._capacity);return t?iterateVNode(this._tail,0,i-this._origin,this._capacity-this._origin,o,t)&&iterateVNode(this._root,this._level,-this._origin,i-this._origin,o,t):iterateVNode(this._root,this._level,-this._origin,i-this._origin,o,t)&&iterateVNode(this._tail,0,i-this._origin,this._capacity-this._origin,o,t),r},__ensureOwner:function(e){if(e===this.__ownerID)return this;if(!e)return this.__ownerID=e,this;return makeList(this._origin,this._capacity,this._level,this._root,this._tail,e,this.__hash)}},{of:function(){return this(arguments)}},ne),Re.isList=isList;var Ae="@@__IMMUTABLE_LIST__@@",Pe=Re.prototype;Pe[Ae]=!0,Pe[n]=Pe.remove,Pe.setIn=ue.setIn,Pe.removeIn=ue.removeIn,Pe.update=ue.update,Pe.updateIn=ue.updateIn,Pe.withMutations=ue.withMutations,Pe.asMutable=ue.asMutable,Pe.asImmutable=ue.asImmutable,Pe.wasAltered=ue.wasAltered;var Ie=function VNode(e,t){this.array=e,this.ownerID=t},Ne=Ie;t.createClass(Ie,{removeBefore:function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var o=n>>>t&i;if(o>=this.array.length)return new Ne([],e);var a=0===o,s;if(t>0){var u=this.array[o];if((s=u&&u.removeBefore(e,t-r,n))===u&&a)return this}if(a&&!s)return this;var c=editableVNode(this,e);if(!a)for(var l=0;l<o;l++)c.array[l]=void 0;return s&&(c.array[o]=s),c},removeAfter:function(e,t,n){if(n===t?1<<t:0===this.array.length)return this;var o=n-1>>>t&i;if(o>=this.array.length)return this;var a=o===this.array.length-1,s;if(t>0){var u=this.array[o];if((s=u&&u.removeAfter(e,t-r,n))===u&&a)return this}if(a&&!s)return this;var c=editableVNode(this,e);return a||c.array.pop(),s&&(c.array[o]=s),c}},{});var ke=function ListIterator(e,t,n){this._type=t,this._reverse=!!n,this._maxIndex=e.size-1;var r=getTailOffset(e._capacity),o=listIteratorFrame(e._root&&e._root.array,e._level,-e._origin,r-e._origin-1),i=listIteratorFrame(e._tail&&e._tail.array,0,r-e._origin,e._capacity-e._origin-1);this._stack=n?i:o,this._stack.__prev=n?o:i};t.createClass(ke,{next:function(){for(var e=this._stack;e;){var t=e.array,n=e.index++;if(this._reverse&&(n=i-n)>e.rawMax&&(n=e.rawMax,e.index=o-n),n>=0&&n<o&&n<=e.rawMax){var a=t&&t[n];if(0===e.level){var s=this._type,u;return 1!==s&&(u=e.offset+(n<<e.level),this._reverse&&(u=this._maxIndex-u)),iteratorValue(s,u,a)}this._stack=e=listIteratorFrame(a&&a.array,e.level-r,e.offset+(n<<e.level),e.max,e);continue}e=this._stack=this._stack.__prev}return iteratorDone()}},{},S);var Me,Le=function OrderedMap(e){return null===e||void 0===e?emptyOrderedMap():isOrderedMap(e)?e:emptyOrderedMap().merge(M(e))};t.createClass(Le,{toString:function(){return this.__toString("OrderedMap {","}")},get:function(e,t){var n=this._map.get(e);return void 0!==n?this._list.get(n)[1]:t},clear:function(){if(0===this.size)return this;if(this.__ownerID)return this.size=0,this._map.clear(),this._list.clear(),this;return emptyOrderedMap()},set:function(e,t){return updateOrderedMap(this,e,t)},remove:function(e){return updateOrderedMap(this,e,a)},wasAltered:function(){return this._map.wasAltered()||this._list.wasAltered()},__iterate:function(e,t){var n=this;return this._list.__iterate(function(t){return t&&e(t[1],t[0],n)},t)},__iterator:function(e,t){return this._list.fromEntrySeq().__iterator(e,t)},__ensureOwner:function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e),n=this._list.__ensureOwner(e);if(!e)return this.__ownerID=e,this._map=t,this._list=n,this;return makeOrderedMap(t,n,e,this.__hash)}},{of:function(){return this(arguments)}},ae),Le.isOrderedMap=isOrderedMap,Le.prototype[N]=!0,Le.prototype[n]=Le.prototype.remove;var De,je=function Stack(e){return null===e||void 0===e?emptyStack():isStack(e)?e:emptyStack().unshiftAll(e)},Fe=je;t.createClass(je,{toString:function(){return this.__toString("Stack [","]")},get:function(e,t){for(var n=this._head;n&&e--;)n=n.next;return n?n.value:t},peek:function(){return this._head&&this._head.value},push:function(){if(0===arguments.length)return this;for(var e=this.size+arguments.length,t=this._head,n=arguments.length-1;n>=0;n--)t={value:arguments[n],next:t};if(this.__ownerID)return this.size=e,this._head=t,this.__hash=void 0,this.__altered=!0,this;return makeStack(e,t)},pushAll:function(e){if(e=D(e),0===e.size)return this;var t=this.size,n=this._head;if(e.reverse().forEach(function(e){t++,n={value:e,next:n}}),this.__ownerID)return this.size=t,this._head=n,this.__hash=void 0,this.__altered=!0,this;return makeStack(t,n)},pop:function(){return this.slice(1)},unshift:function(){return this.push.apply(this,arguments)},unshiftAll:function(e){return this.pushAll(e)},shift:function(){return this.pop.apply(this,arguments)},clear:function(){if(0===this.size)return this;if(this.__ownerID)return this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this;return emptyStack()},slice:function(e,n){if(wholeSlice(e,n,this.size))return this;var r=resolveBegin(e,this.size);if(resolveEnd(n,this.size)!==this.size)return t.superCall(this,Fe.prototype,"slice",[e,n]);for(var o=this.size-r,i=this._head;r--;)i=i.next;if(this.__ownerID)return this.size=o,this._head=i,this.__hash=void 0,this.__altered=!0,this;return makeStack(o,i)},__ensureOwner:function(e){if(e===this.__ownerID)return this;if(!e)return this.__ownerID=e,this.__altered=!1,this;return makeStack(this.size,this._head,e,this.__hash)},__iterate:function(e,t){if(t)return this.toSeq().cacheResult.__iterate(e,t);for(var n=0,r=this._head;r&&!1!==e(r.value,n++,this);)r=r.next;return n},__iterator:function(e,t){if(t)return this.toSeq().cacheResult().__iterator(e,t);var n=0,r=this._head;return new S(function(){if(r){var t=r.value;return r=r.next,iteratorValue(e,n++,t)}return iteratorDone()})}},{of:function(){return this(arguments)}},ne),je.isStack=isStack;var Ue="@@__IMMUTABLE_STACK__@@",Be=je.prototype;Be[Ue]=!0,Be.withMutations=ue.withMutations,Be.asMutable=ue.asMutable,Be.asImmutable=ue.asImmutable,Be.wasAltered=ue.wasAltered;var He,qe=function Set(e){return null===e||void 0===e?emptySet():isSet(e)?e:emptySet().union(j(e))};t.createClass(qe,{toString:function(){return this.__toString("Set {","}")},has:function(e){return this._map.has(e)},add:function(e){return updateSet(this,this._map.set(e,!0))},remove:function(e){return updateSet(this,this._map.remove(e))},clear:function(){return updateSet(this,this._map.clear())},union:function(){var e=arguments;if(0===e.length)return this;return this.withMutations(function(t){for(var n=0;n<e.length;n++)j(e[n]).forEach(function(e){return t.add(e)})})},intersect:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return this;e=e.map(function(e){return j(e)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.every(function(e){return e.contains(n)})||t.remove(n)})})},subtract:function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];if(0===e.length)return this;e=e.map(function(e){return j(e)});var n=this;return this.withMutations(function(t){n.forEach(function(n){e.some(function(e){return e.contains(n)})&&t.remove(n)})})},merge:function(){return this.union.apply(this,arguments)},mergeWith:function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.union.apply(this,t)},sort:function(e){return $e(sortFactory(this,e))},sortBy:function(e,t){return $e(sortFactory(this,t,e))},wasAltered:function(){return this._map.wasAltered()},__iterate:function(e,t){var n=this;return this._map.__iterate(function(_,t){return e(t,t,n)},t)},__iterator:function(e,t){return this._map.map(function(_,e){return e}).__iterator(e,t)},__ensureOwner:function(e){if(e===this.__ownerID)return this;var t=this._map.__ensureOwner(e);if(!e)return this.__ownerID=e,this._map=t,this;return this.__make(t,e)}},{of:function(){return this(arguments)},fromKeys:function(e){return this(M(e).keySeq())}},oe),qe.isSet=isSet;var ze="@@__IMMUTABLE_SET__@@",Ve=qe.prototype;Ve[ze]=!0,Ve[n]=Ve.remove,Ve.mergeDeep=Ve.merge,Ve.mergeDeepWith=Ve.mergeWith,Ve.withMutations=ue.withMutations,Ve.asMutable=ue.asMutable,Ve.asImmutable=ue.asImmutable,Ve.__empty=emptySet,Ve.__make=makeSet;var Ge,$e=function OrderedSet(e){return null===e||void 0===e?emptyOrderedSet():isOrderedSet(e)?e:emptyOrderedSet().union(j(e))};t.createClass($e,{toString:function(){return this.__toString("OrderedSet {","}")}},{of:function(){return this(arguments)},fromKeys:function(e){return this(M(e).keySeq())}},qe),$e.isOrderedSet=isOrderedSet;var Qe=$e.prototype;Qe[N]=!0,Qe.__empty=emptyOrderedSet,Qe.__make=makeOrderedSet;var We,Je=function Record(e,t){var n=function Record(e){if(!(this instanceof n))return new n(e);this._map=ae(e)},r=Object.keys(e),o=n.prototype=Object.create(Ke);o.constructor=n,t&&(o._name=t),o._defaultValues=e,o._keys=r,o.size=r.length;try{r.forEach(function(e){Object.defineProperty(n.prototype,e,{get:function(){return this.get(e)},set:function(t){invariant(this.__ownerID,"Cannot set on an immutable record."),this.set(e,t)}})})}catch(e){}return n};t.createClass(Je,{toString:function(){return this.__toString(recordName(this)+" {","}")},has:function(e){return this._defaultValues.hasOwnProperty(e)},get:function(e,t){if(!this.has(e))return t;var n=this._defaultValues[e];return this._map?this._map.get(e,n):n},clear:function(){if(this.__ownerID)return this._map&&this._map.clear(),this;var e=Object.getPrototypeOf(this).constructor;return e._empty||(e._empty=makeRecord(this,emptyMap()))},set:function(e,t){if(!this.has(e))throw new Error('Cannot set unknown key "'+e+'" on '+recordName(this));var n=this._map&&this._map.set(e,t);if(this.__ownerID||n===this._map)return this;return makeRecord(this,n)},remove:function(e){if(!this.has(e))return this;var t=this._map&&this._map.remove(e);if(this.__ownerID||t===this._map)return this;return makeRecord(this,t)},wasAltered:function(){return this._map.wasAltered()},__iterator:function(e,t){var n=this;return M(this._defaultValues).map(function(_,e){return n.get(e)}).__iterator(e,t)},__iterate:function(e,t){var n=this;return M(this._defaultValues).map(function(_,e){return n.get(e)}).__iterate(e,t)},__ensureOwner:function(e){if(e===this.__ownerID)return this;var t=this._map&&this._map.__ensureOwner(e);if(!e)return this.__ownerID=e,this._map=t,this;return makeRecord(this,t,e)}},{},ee);var Ke=Je.prototype;Ke[n]=Ke.remove,Ke.merge=ue.merge,Ke.mergeWith=ue.mergeWith,Ke.mergeDeep=ue.mergeDeep,Ke.mergeDeepWith=ue.mergeDeepWith,Ke.update=ue.update,Ke.updateIn=ue.updateIn,Ke.withMutations=ue.withMutations,Ke.asMutable=ue.asMutable,Ke.asImmutable=ue.asImmutable;var Xe=function Range(e,t,n){if(!(this instanceof Ye))return new Ye(e,t,n);if(invariant(0!==n,"Cannot step a Range by 0"),e=e||0,void 0===t&&(t=1/0),e===t&&et)return et;n=void 0===n?1:Math.abs(n),t<e&&(n=-n),this._start=e,this._end=t,this._step=n,this.size=Math.max(0,Math.ceil((t-e)/n-1)+1)},Ye=Xe;t.createClass(Xe,{toString:function(){if(0===this.size)return"Range []";return"Range [ "+this._start+"..."+this._end+(this._step>1?" by "+this._step:"")+" ]"},get:function(e,t){return this.has(e)?this._start+wrapIndex(this,e)*this._step:t},contains:function(e){var t=(e-this._start)/this._step;return t>=0&&t<this.size&&t===Math.floor(t)},slice:function(e,t){if(wholeSlice(e,t,this.size))return this;if(e=resolveBegin(e,this.size),(t=resolveEnd(t,this.size))<=e)return et;return new Ye(this.get(e,this._end),this.get(t,this._end),this._step)},indexOf:function(e){var t=e-this._start;if(t%this._step==0){var n=t/this._step;if(n>=0&&n<this.size)return n}return-1},lastIndexOf:function(e){return this.indexOf(e)},take:function(e){return this.slice(0,Math.max(0,e))},skip:function(e){return this.slice(Math.max(0,e))},__iterate:function(e,t){for(var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;i<=n;i++){if(!1===e(o,i,this))return i+1;o+=t?-r:r}return i},__iterator:function(e,t){var n=this.size-1,r=this._step,o=t?this._start+n*r:this._start,i=0;return new S(function(){var a=o;return o+=t?-r:r,i>n?iteratorDone():iteratorValue(e,i++,a)})},__deepEquals:function(e){return e instanceof Ye?this._start===e._start&&this._end===e._end&&this._step===e._step:deepEqual(this,e)}},{},q);var Ze=Xe.prototype;Ze.__toJS=Ze.toArray,Ze.first=Pe.first,Ze.last=Pe.last;var et=Xe(0,0),tt=function Repeat(e,t){if(t<=0&&ot)return ot;if(!(this instanceof nt))return new nt(e,t);this._value=e,this.size=void 0===t?1/0:Math.max(0,t),0===this.size&&(ot=this)},nt=tt;t.createClass(tt,{toString:function(){if(0===this.size)return"Repeat []";return"Repeat [ "+this._value+" "+this.size+" times ]"},get:function(e,t){return this.has(e)?this._value:t},contains:function(e){return is(this._value,e)},slice:function(e,t){var n=this.size;return wholeSlice(e,t,n)?this:new nt(this._value,resolveEnd(t,n)-resolveBegin(e,n))},reverse:function(){return this},indexOf:function(e){if(is(this._value,e))return 0;return-1},lastIndexOf:function(e){if(is(this._value,e))return this.size;return-1},__iterate:function(e,t){for(var n=0;n<this.size;n++)if(!1===e(this._value,n,this))return n+1;return n},__iterator:function(e,t){var n=this,r=0;return new S(function(){return r<n.size?iteratorValue(e,r++,n._value):iteratorDone()})},__deepEquals:function(e){return e instanceof nt?is(this._value,e._value):deepEqual(e)}},{},q);var rt=tt.prototype;rt.last=rt.first,rt.has=Ze.has,rt.take=Ze.take,rt.skip=Ze.skip,rt.__toJS=Ze.__toJS;var ot;return{Iterable:x,Seq:F,Collection:Z,Map:ae,OrderedMap:Le,List:Re,Stack:je,Set:qe,OrderedSet:$e,Record:Je,Range:Xe,Repeat:tt,is:is,fromJS:fromJS}}module.exports=universalModule()},Bfa4:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("S8Mv"),e("/BtS"),e("Vgtj"),e("Oqxx"),e("zdAV"),e("n4kF"),e("G894"),e("Y2SO"),e("aIeD"),e("6Y1w"),e("JX2z")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n,r,o=e("U7vG"),i=e("S8Mv"),a=e("/BtS"),s=e("Vgtj"),u=e("Oqxx"),c=e("zdAV"),l=c.postMyCourseRating,p=e("n4kF"),d=e("G894"),f=d.FormattedHTMLMessage,h=e("Y2SO"),v=e("aIeD"),m=v.Tooltip,g=v.OverlayTrigger,y=e("6Y1w"),C=e("JX2z"),b=(r=n=function(e){function CourseRatingContent(){var t,n,r;_classCallCheck(this,CourseRatingContent);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.state={showModal:!1,showMessage:!1,message:""},n.handleClick=function(e){e.preventDefault(),n.context.track("click.rating"),n.setState({showModal:!0})},n.handleClose=function(){n.context.track("click.cancel"),n.setState({showModal:!1})},n.handleSubmit=function(e,t){var r=n.props.course,i=n.getCourseNameAndId(r),a=i.courseId,s=i.courseName;n.setState({showModal:!1,showMessage:!0,message:o.createElement(f,{message:C("Your review of <strong>{courseName}</strong> has been submitted."),courseName:s})}),n.context.executeAction(l,{courseId:a,value:e,active:!0,comment:t}),n.context.track("click.submit",{feedback_length:p.getLength(t),feedback_value:e})},n.handleClear=function(){var e=n.props.course,t=n.getCourseNameAndId(e),r=t.courseId,i=t.courseName;n.setState({showModal:!1,showMessage:!0,message:o.createElement(f,{message:C("Your review of <strong>{courseName}</strong> has been removed."),courseName:i})}),n.context.executeAction(l,{courseId:r,value:0,active:!1,comment:p.create("")}),n.context.track("click.clear")},n.handleMessageTimeout=function(){n.setState({showMessage:!1})},r=t,_possibleConstructorReturn(n,r)}return _inherits(CourseRatingContent,e),CourseRatingContent.prototype.getCourseNameAndId=function getCourseNameAndId(e){var t=!!e.get;return{courseId:t?e.get("id"):e.id,courseName:t?e.get("name"):e.name}},CourseRatingContent.prototype.render=function render(){var e=C("Rate this course"),n=o.createElement(m,null,e);if(!this.props.ratingFeedback)return o.createElement("div",null);return o.createElement("div",{className:"rc-CourseRatingContent"},o.createElement(g,{placement:"top",overlay:n},o.createElement("button",{ref:"icons",className:"c-course-rating-icons-container nostyle button-link",onClick:this.handleClick,"aria-label":C("Rate this course")},o.createElement(a,{value:this.props.ratingFeedback.value}))),this.state.showModal&&o.createElement(s,t({},this.props,{onSubmit:this.handleSubmit,onClear:this.handleClear,onClose:this.handleClose})),o.createElement(i,{transitionName:"fade",transitionEnterTimeout:500,transitionLeaveTimeout:500},this.state.showMessage&&o.createElement(u,{key:"feedback-complete",onTimeout:this.handleMessageTimeout},this.state.message)))},CourseRatingContent}(o.Component),n.propTypes={course:o.PropTypes.object.isRequired,ratingFeedback:o.PropTypes.instanceOf(y)},n.contextTypes={executeAction:o.PropTypes.func.isRequired,track:o.PropTypes.func.isRequired},r);module.exports=h(b,["CourseRatingStore"],function(e,t){return{ratingFeedback:e.CourseRatingStore.getMyRatingFeedback()}}),module.exports.BaseComp=b}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},CIXX:function(module,exports){},CIq0:function(module,exports){},COFd:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("9eZc"),e("VXwe"),e("IxSp")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("9eZc"),i=e("VXwe");e("IxSp");var a=(n=t=function(e){function ScribeCodeEditorRemoveButton(){return _classCallCheck(this,ScribeCodeEditorRemoveButton),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(ScribeCodeEditorRemoveButton,e),ScribeCodeEditorRemoveButton.prototype.render=function render(){var e=this.props.onClick;return r.createElement("div",{className:"rc-ScribeCodeEditorRemoveButton"},r.createElement("button",{title:i("Delete code block"),className:"remove-code-block-btn",onClick:e},r.createElement(o,{className:"remove-code-block-icon",name:"close"})))},ScribeCodeEditorRemoveButton}(r.Component),t.propTypes={onClick:r.PropTypes.func.isRequired},n);module.exports=a}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},CgUp:function(module,exports){},D8sO:function(module,exports,e){var t,n;t=[e,exports,module,e("RIkx")],void 0!==(n=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("RIkx"),o="org.coursera.eval.evaluator.ReplHarness",i=(n=t=function(e){function ReplHarness(){return _classCallCheck(this,ReplHarness),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(ReplHarness,e),ReplHarness.prototype.toJSON=function toJSON(){return _defineProperty({},o,{preamble:this.preamble})},ReplHarness}(r),t.ReplHarnessClassName=o,n);module.exports=i}.apply(exports,t))&&(module.exports=n)},DFsJ:function(module,exports,e){var t,n;t=[e,exports,module,e("go2y"),e("iFGm"),e("2TVH"),e("Yfxk")],void 0!==(n=function(require,exports,module){"use strict";var t=e("go2y"),n=e("iFGm"),r=e("2TVH"),o=e("Yfxk"),i=new r("/api/authoringEvaluators.v1",{type:"rest"});module.exports={get:function get(e){return t(i.get(e)).then(function(e){return e.elements[0]})},create:function create(e){var n=e.courseId,r=e.evaluatorId,o=e.branchId,a=e.itemId;return t(i.post("",{data:{courseId:n,parentEvaluatorId:r,branchId:o,itemId:a}})).then(function(e){return e.elements[0]})},save:function save(e){var n=e.id;return t(i.put(n,{data:e.toJSON()})).then(function(e){return e.elements[0]})},publish:function publish(e){var r=e.id,o=e.metadata,a=(new n).addQueryParam("action","publish").addQueryParam("id",r);return t(i.post(a.toString(),{data:{metadata:o}}))}}}.apply(exports,t))&&(module.exports=n)},DRuv:function(module,exports,e){var t=e("fJ/n");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},"E+n/":function(module,exports,e){var t=e("CIq0");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},EBE7:function(module,exports,e){var t=e("z4au");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},ESBX:function(module,exports,e){var t,n;t=[e,exports,module],void 0!==(n=function(require,exports,module){"use strict";module.exports=function(e){return function(t){var n=e.querySelectorAll("[data-command-name]");Array.prototype.forEach.call(n,function(e){function update(){var r=new t.api.Selection,o=e.getAttribute("data-disabled-tags")||"";o=o.split(",");var i=r.getContaining(function(e){var t=e.nodeName.toLowerCase();return-1!==o.indexOf(t)}),a=function queryState(){try{return n.queryState()}catch(e){return!1}},s=function queryEnabled(){try{return n.queryEnabled()}catch(e){return!1}};r.range&&a()?e.classList.add("active"):e.classList.remove("active"),r.range&&s()&&!i?e.removeAttribute("disabled"):e.setAttribute("disabled","disabled")}var n=t.getCommand(e.getAttribute("data-command-name"));e.addEventListener("click",function(){t.el.focus(),n.execute()}),t.el.addEventListener("keyup",update),t.el.addEventListener("mouseup",update),t.el.addEventListener("focus",update),t.el.addEventListener("blur",update),t.on("content-changed",update)})}}}.apply(exports,t))&&(module.exports=n)},EpLH:function(module,exports,e){var t,n;t=[e,exports,module,e("2TVH")],void 0!==(n=function(require,exports,module){"use strict";var t=e("2TVH"),n=new t("/api/feedback.v1",{type:"rest"});module.exports=n}.apply(exports,t))&&(module.exports=n)},Eq0O:function(module,exports,e){(function(t,$){var n,r;n=[e,exports,module,e("4+j2"),e("U7vG"),e("dgM5"),e("4w+3"),e("3878")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,$=e("4+j2"),r=e("U7vG"),o=e("dgM5");e("4w+3"),e("3878");var i=(n=t=function(e){function SelectizeComponent(){return _classCallCheck(this,SelectizeComponent),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(SelectizeComponent,e),SelectizeComponent.prototype.componentDidMount=function componentDidMount(){var e=this.props,t=e.disabled,n=e.focus,r=e.options,o=this.select,i=$(o).selectize(r);this.selectizeInstance=i[0].selectize,t&&i[0].selectize.disable(),r.selected&&i[0].selectize.setValue(r.selected,!0),n&&this.selectizeInstance.focus()},SelectizeComponent.prototype.shouldComponentUpdate=function shouldComponentUpdate(e,t){if(e.disabled!==this.props.disabled){var n=this.select,r=$(n).selectize(this.props.options);return e.disabled?r[0].selectize.disable():r[0].selectize.enable(),!0}return!1},SelectizeComponent.prototype.render=function render(){var e=this;return r.createElement("div",{className:"rc-Selectize"},r.createElement("select",{ref:function ref(t){e.select=t},placeholder:this.props.placeholder}))},SelectizeComponent}(r.Component),t.propTypes={options:r.PropTypes.object.isRequired,placeholder:r.PropTypes.string.isRequired,disabled:r.PropTypes.bool,focus:r.PropTypes.bool},n);module.exports=i}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("4+j2"))},EuJm:function(module,exports,e){var t=e("1CHV");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},FH1V:function(module,exports,e){(function(_){var t,n;t=[e,exports,module,e("AwHF"),e("ttF6"),e("pesu"),e("9drq"),e("cL62")],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),_=e("AwHF"),n=e("ttF6"),r=e("pesu"),o=e("9drq"),i=e("cL62"),a=i.ALL_BRANCHES,s=function(){function CourseRatings(){_classCallCheck(this,CourseRatings),this.ratingValue=_(n).find(function(e){return-1===e.value}),this.learnerAudience=_(r).find(function(e){return"ALL_LEARNERS"===e.id}),this.branchId=a,this.statsMap={},this.reviewCollectionsMap={},this.initMapsForBranchId(a)}return CourseRatings.prototype.initMapsForBranchId=function initMapsForBranchId(e){var t=this;this.statsMap[e]={},this.reviewCollectionsMap[e]={},_(r).each(function(r){var i=r.id,a={};_(n).each(function(e){a[e.value]=new o}),t.statsMap[e][i]=null,t.reviewCollectionsMap[e][i]=a})},CourseRatings.prototype.setBranchId=function setBranchId(e){this.branchId=e,this.statsMap[e]||this.initMapsForBranchId(e)},CourseRatings.prototype.setRatingValue=function setRatingValue(e){this.ratingValue=e},CourseRatings.prototype.setLearnerAudience=function setLearnerAudience(e){this.learnerAudience=e},CourseRatings.prototype.appendReviews=function appendReviews(e,t){var n=this.reviewCollection;n.appendPage(e),n.setTotalCount(t)},CourseRatings.prototype.deleteReview=function deleteReview(e){_(this.reviewCollectionsMap).each(function(t){return _(t).each(function(t){t.models=_(t.models).filter(function(t){return t.id!==e})})})},CourseRatings.prototype.setStats=function setStats(e){this.statsMap[this.branchId][this.learnerAudience.id]=e},t(CourseRatings,[{key:"reviewCollection",get:function get(){return this.reviewCollectionsMap[this.branchId][this.learnerAudience.id][this.ratingValue.value]}},{key:"stats",get:function get(){return this.statsMap[this.branchId][this.learnerAudience.id]}}]),CourseRatings}();module.exports=s}.apply(exports,t))&&(module.exports=n)}).call(exports,e("AwHF"))},FVaE:function(module,exports,e){var t,n;t=[e,exports,module,e("AwHF")],void 0!==(n=function(require,exports,module){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var t=e("AwHF"),n=_interopRequireDefault(t);module.exports={isSelected:function isSelected(e,t){return!(0,n.default)(e).chain().where({id:t.id}).isEmpty().value()}}}.apply(exports,t))&&(module.exports=n)},Fa1v:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("L+Qk"),e("U7vG"),e("aIeD"),e("85+E")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r,o,i=e("L+Qk"),a=e("U7vG"),s=e("aIeD"),u=s.Tooltip,c=s.OverlayTrigger;e("85+E");var l=(n=t=function(e){function ToolbarButton(){return _classCallCheck(this,ToolbarButton),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(ToolbarButton,e),ToolbarButton.prototype.render=function render(){var e=this.props.block,t=e.commandName;if("divider"===e.commandName)return a.createElement("div",{key:t,className:"scribe-toolbar-divider"});var n=e.commandName,r=e.disabledTags?e.disabledTags.join(","):"",o=e.tooltip,s=i("scribe-toolbar-button","scribe-toolbar-"+n),l=a.createElement("button",{key:t,"data-command-name":n,"data-disabled-tags":r,className:s}),p=function renderBtnWithTooltip(){var e=a.createElement(u,null,o);return a.createElement(c,{key:t,placement:"top",overlay:e,delayShow:600},l)};return o?p():l},ToolbarButton}(a.Component),t.propTypes={block:a.PropTypes.object.isRequired},n),p=(o=r=function(e){function CMLEditorToolbar(){return _classCallCheck(this,CMLEditorToolbar),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(CMLEditorToolbar,e),CMLEditorToolbar.prototype.render=function render(){var e=this.props,t=e.blocks,n=e.style;if(0===t.length)return null;return a.createElement("div",{className:"rc-CMLEditorToolbar",style:n},t.map(function(e){return a.createElement(l,{key:e.commandName,block:e})}))},CMLEditorToolbar}(a.Component),r.propTypes={style:a.PropTypes.object.isRequired,blocks:a.PropTypes.array.isRequired},o);module.exports=p}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},FnG9:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("85ju"),e("fLPY")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t=e("U7vG"),n=e("85ju");e("fLPY");var r=function(e){function AssetsListHeader(){return _classCallCheck(this,AssetsListHeader),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(AssetsListHeader,e),AssetsListHeader.prototype.render=function render(){return t.createElement("header",{className:"rc-AssetsListHeader horizontal-box"},t.createElement("a",{className:"asset-name-header"},n("Name")),t.createElement("a",{className:"asset-date-header"},n("Updated")),t.createElement("a",{className:"asset-type-header"},n("File Type")))},AssetsListHeader}(t.Component);module.exports=r}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},FqtV:function(module,exports,e){(function(t,_){var n,r;n=[e,exports,module,e("U7vG"),e("Y2SO"),e("RRLk"),e("L+Qk"),e("AwHF"),e("85ju"),e("JHGP"),e("c3Je"),e("HtX4"),e("rbLP"),e("VHHW"),e("hPuR"),e("XvS0"),e("dgf4"),e("/FGS")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n,r,o=e("U7vG"),i=e("Y2SO"),a=e("RRLk"),s=e("L+Qk"),_=e("AwHF"),u=e("85ju"),c=e("JHGP"),l=e("c3Je"),p=e("HtX4"),d=e("rbLP"),f=d.initializeModal,h=d.getAssetsListByContext,v=d.resetAssets,m=e("VHHW"),g=e("hPuR"),y=e("XvS0"),C=e("dgf4");e("/FGS");var b={Assets:"assets",Upload:"upload"},E=(r=n=function(e){function AssetAdminModal(n,r){_classCallCheck(this,AssetAdminModal);var o=_possibleConstructorReturn(this,e.call(this,n,r));return o.handleClose=function(){o.props.uploadStatus.state!==C.IN_PROGRESS&&o.props.onCancel()},o.selectTab=function(e){if(e!==o.state.activeTabId&&o.props.uploadStatus.state!==C.IN_PROGRESS&&(o.setState({activeTabId:e}),o.context.executeAction(v),e===b.Assets)){var n=o.props,r=n.assetContext,i=n.assetType;o.context.executeAction(h,t({},r,{assetType:i}))}},o.state={activeTabId:n.tab},o}return _inherits(AssetAdminModal,e),AssetAdminModal.prototype.componentWillMount=function componentWillMount(){var e=this.props,n=e.assetContext,r=e.assetType,o=e.tab,i=e.hideHeaderTabs,a=o===b.Upload&&i;this.context.executeAction(f,t({},n,{assetType:r,hideAssets:a}))},AssetAdminModal.prototype.componentDidUpdate=function componentDidUpdate(){var e=this.props,t=e.onSelect,n=e.uploadedAssets,r=e.allowMultiple,o=e.closeAfterUpload;t&&o&&AssetAdminModal.shouldReturnUploadedAssets(n,r)&&t(n)},AssetAdminModal.prototype.renderActiveTabId=function renderActiveTabId(){var e=this.props,t=e.course,n=e.assetContext,r=e.assets,i=e.assetType,a=e.pdfTemplate,s=e.allowMultiple,u=e.uploadedAssets,c=e.selectedAssets,p=e.uploadAttempts,d=e.uploadStatus,f=e.nextPageIndex;if(!t&&!r)return o.createElement("div",{className:"initial-loading"},o.createElement(l,null));return this.state.activeTabId===b.Upload?o.createElement(g,{name:t?t.name:"",assetContext:n,assetType:i,pdfTemplate:a,allowMultiple:s,uploadedAssets:u,selectedAssets:c,uploadAttempts:p,uploadStatus:d}):o.createElement("div",null,t&&o.createElement("h2",{className:"folder-name"},t.name),o.createElement(m,{assets:r,allowMultiple:s,selectedAssets:c,assetContext:n,nextPageIndex:f}))},AssetAdminModal.prototype.render=function render(){var e=this.props,t=e.hideFooter,n=e.selectedAssets,r=e.uploadedAssets,i=e.hideHeaderTabs,a=e.hideSelectButton,l=e.onSelect,p=e.onCancel,d=s({active:this.state.activeTabId===b.Assets}),f=s({active:this.state.activeTabId===b.Upload});return o.createElement("div",{className:"rc-AssetAdminModal"},o.createElement(c,{modalName:"AssetAdminModal",handleClose:this.handleClose},!i&&o.createElement("header",{className:"asset-modal-header"},o.createElement("button",{className:d+" button-link",onClick:_(this.selectTab).partial(b.Assets)},u("Assets")),o.createElement("button",{className:f+" button-link",onClick:_(this.selectTab).partial(b.Upload)},u("Upload"))),o.createElement("div",{className:"asset-modal-content"},this.renderActiveTabId()),!t&&o.createElement(y,{selectedAssets:n,uploadedAssets:r,onSelect:l,onCancel:p,hideSelectButton:a})))},AssetAdminModal}(o.Component),n.propTypes={course:o.PropTypes.object,assetContext:o.PropTypes.shape({courseId:o.PropTypes.string,insightId:o.PropTypes.string}).isRequired,assets:o.PropTypes.array,assetType:o.PropTypes.oneOf(["image","video","subtitle","pdf","audio","generic"]),pdfTemplate:o.PropTypes.oneOf(["slides"]),tab:o.PropTypes.oneOf([b.Assets,b.Upload]),nextPageIndex:o.PropTypes.string,hideHeaderTabs:o.PropTypes.bool,hideFooter:o.PropTypes.bool,hideSelectButton:o.PropTypes.bool,allowMultiple:o.PropTypes.bool,selectedAssets:o.PropTypes.array,uploadedAssets:o.PropTypes.array,uploadAttempts:o.PropTypes.object,uploadStatus:o.PropTypes.object,onSelect:o.PropTypes.func,onCancel:o.PropTypes.func.isRequired,closeAfterUpload:o.PropTypes.bool},n.contextTypes={executeAction:o.PropTypes.func.isRequired},n.defaultProps={tab:b.Assets,allowMultiple:!0,closeAfterUpload:!1},n.shouldReturnUploadedAssets=function(e,t){return t&&e.length>0||!t&&1===e.length},r),w=i(E,["AssetAdminStore"],function(e,t){var n=e.AssetAdminStore;return{course:n.getCourse(),assets:n.getAssets(),nextPageIndex:n.getNextPageIndex(),selectedAssets:n.getSelectedAssets(),uploadStatus:n.getUploadStatus(),uploadedAssets:n.getUploadedAssets(),uploadAttempts:n.getUploadAttempts()}}),T=function(e){function FluxibleAssetAdminModal(){return _classCallCheck(this,FluxibleAssetAdminModal),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(FluxibleAssetAdminModal,e),FluxibleAssetAdminModal.prototype.componentWillMount=function componentWillMount(){this.fluxibleContext=p.createContext()},FluxibleAssetAdminModal.prototype.render=function render(){return o.createElement(a,{context:this.fluxibleContext.getComponentContext()},o.createElement(w,this.props))},FluxibleAssetAdminModal}(o.Component);module.exports=T}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("AwHF"))},FudV:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("WJMB"),e("xugj"),e("JjV5")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t=e("U7vG"),n=e("WJMB"),r=e("xugj");e("JjV5");var o=function(e){function AuthorEvaluatorSaveModal(){return _classCallCheck(this,AuthorEvaluatorSaveModal),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(AuthorEvaluatorSaveModal,e),AuthorEvaluatorSaveModal.prototype.render=function render(){return t.createElement(n,{size:"small",allowClose:!1,withTitle:!0,heading:r("Saving"),className:"rc-AuthorEvaluatorSaveModal"},t.createElement("div",{className:"horizontal-box align-items-spacearound body-2-text"},r("Please do not refresh the page.")))},AuthorEvaluatorSaveModal}(t.Component);module.exports=o}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},HBPE:function(module,exports,e){(function(t,_){var n,r;n=[e,exports,module,e("AwHF"),e("U7vG"),e("L+Qk"),e("jBEi"),e("K7LM"),e("NMhx"),e("gKGr")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,_=e("AwHF"),r=e("U7vG"),o=e("L+Qk"),i=e("jBEi"),a=e("K7LM"),s=e("NMhx");e("gKGr");var u=(n=t=function(e){function ScribeCodeEditorEvaluatorConfig(t){_classCallCheck(this,ScribeCodeEditorEvaluatorConfig);var n=_possibleConstructorReturn(this,e.call(this,t));return n.handleClose=function(){n.setState({isOpen:!1})},n.handleSave=function(e,t){n.props.onEvaluatorChange(e,t)},n.handleOpen=function(){n.setState({isOpen:!0})},n.state={isOpen:!1},n}return _inherits(ScribeCodeEditorEvaluatorConfig,e),ScribeCodeEditorEvaluatorConfig.prototype.render=function render(){var e=this.state.isOpen,t=this.props,n=t.evaluatorId,a=t.value,u=t.language,c=t.courseId,l=t.branchId,p=t.itemId,d=o("rc-ScribeCodeEditorEvaluatorConfig",{interactive:!!n});return r.createElement("div",{className:d},n&&r.createElement(i,{isOpen:e,value:a,language:u,evaluatorId:n,courseId:c,onSave:this.handleSave,onRequestClose:this.handleClose}),r.createElement(s,{language:u,evaluatorId:n,courseId:c,branchId:l,itemId:p,onSave:this.handleSave,value:a,handleOpen:this.handleOpen}))},ScribeCodeEditorEvaluatorConfig}(r.Component),t.propTypes={courseId:r.PropTypes.string.isRequired,branchId:r.PropTypes.string.isRequired,itemId:r.PropTypes.string.isRequired,evaluatorId:r.PropTypes.string,value:r.PropTypes.string.isRequired,language:r.PropTypes.oneOf(_(a).pluck("value")),onEvaluatorChange:r.PropTypes.func.isRequired},n);module.exports=u}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("AwHF"))},HGiU:function(module,exports,e){var t,n;t=[e,exports,module,e("RIkx")],void 0!==(n=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("RIkx"),o=(n=t=function(e){function TestCaseHarness(t){var n=t.preamble,r=t.testCase;_classCallCheck(this,TestCaseHarness);var o=_possibleConstructorReturn(this,e.call(this,{preamble:n}));return o.testCase=r,o}return _inherits(TestCaseHarness,e),TestCaseHarness.prototype.toJSON=function toJSON(){return _defineProperty({},TestCaseHarness.TestCaseHarnessClassName,{preamble:this.preamble,testCase:this.testCase})},TestCaseHarness}(r),t.TestCaseHarnessClassName="org.coursera.eval.evaluator.TestCaseHarness",n);module.exports=o}.apply(exports,t))&&(module.exports=n)},HtX4:function(module,exports,e){var t,n;t=[e,exports,module,e("4TMM"),e("nQfF")],void 0!==(n=function(require,exports,module){"use strict";var t=e("4TMM"),n=e("nQfF"),r=new t;r.registerStore(n),module.exports=r}.apply(exports,t))&&(module.exports=n)},IHQX:function(module,exports,e){var t,n;t=[e,exports,module,e("2TVH")],void 0!==(n=function(require,exports,module){"use strict";var t=e("2TVH"),n=new t("/api/courseFeedbackCommentCounts.v1",{type:"rest"});module.exports=n}.apply(exports,t))&&(module.exports=n)},IYle:function(module,exports,e){(function(t,_,n){var r,o;r=[e,exports,module,e("U7vG"),e("AwHF"),e("wu4F"),e("L+Qk"),e("rbLP"),e("vpcJ")],void 0!==(o=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),_=e("AwHF"),o=e("wu4F"),i=e("L+Qk"),a=e("rbLP"),s=a.selectAsset;e("vpcJ");var u=(n=t=function(e){function AssetItem(){var t,n,r;_classCallCheck(this,AssetItem);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.state={selected:!1},n.selectItem=function(e){var t=n.props.allowMultiple;n.context.executeAction(s,{asset:e,allowMultiple:t})},r=t,_possibleConstructorReturn(n,r)}return _inherits(AssetItem,e),AssetItem.prototype.shouldComponentUpdate=function shouldComponentUpdate(e){return this.props.isSelected!==e.isSelected},AssetItem.prototype.render=function render(){var e=this.props.asset,t=i({selected:this.props.isSelected});return r.createElement("div",{className:"rc-AssetItem"},r.createElement("button",{onClick:_(this.selectItem).partial(e),className:t+" button-link"},r.createElement("span",{className:"asset-name"},e.filename),r.createElement("span",{className:"asset-date"},o(e.createdAt).format("ll")),r.createElement("span",{className:"asset-type"},AssetItem.getFileExtension(e.filename))))},AssetItem}(r.Component),t.propTypes={asset:r.PropTypes.object,isSelected:r.PropTypes.bool,allowMultiple:r.PropTypes.bool},t.contextTypes={executeAction:r.PropTypes.func.isRequired},t.defaultProps={allowMultiple:!0},t.getFileExtension=function(e){var t=e.lastIndexOf(".");if(t>-1)return e.substring(t+1);return"-"},n);module.exports=u}.apply(exports,r))&&(module.exports=o)}).call(exports,e("U7vG"),e("AwHF"),e("wu4F"))},ImgZ:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("gp0A"),e("SNbN"),e("AFTA"),e("hObE"),e("xugj")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("gp0A"),i=e("SNbN"),a=e("AFTA"),s=e("hObE"),u=e("xugj"),c=(n=t=function(e){function SimpleStarterCodeEditor(){var t,n,r;_classCallCheck(this,SimpleStarterCodeEditor);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.handleChange=function(e){var t=n.props.starterCode.language,r=new i({expression:e,language:t});n.props.onChange(r)},r=t,_possibleConstructorReturn(n,r)}return _inherits(SimpleStarterCodeEditor,e),SimpleStarterCodeEditor.prototype.render=function render(){var e=this.props.starterCode,t=e.expression,n=e.language;return r.createElement("div",{className:"rc-SimpleStarterCodeEditor"},r.createElement(a,{style:{paddingTop:20,paddingBottom:5,display:"inline-block"}},u("Starter Code")),r.createElement(s,{style:{marginLeft:20,display:"inline-block"}},u("Visible to learners")),r.createElement(o,{value:t,language:n,onChange:this.handleChange}))},SimpleStarterCodeEditor}(r.Component),t.propTypes={starterCode:r.PropTypes.instanceOf(i).isRequired,onChange:r.PropTypes.func.isRequired},n);module.exports=c}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},IxSp:function(module,exports,e){var t=e("S7wc");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},JBBR:function(module,exports,e){var t=e("WNpQ");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},JPL8:function(module,exports,e){var t,n,r,o,i,a,s,u,c,l,p,d,f,h,v,m,v,g,v,y,v,C,v,b,v,E,v,w,v,T,v,S,v,O,v,x,v,R,v,A,v,P,v,I,v,N,v,k,v,M,v,L,v,D,v,j,v,F,v,U,v,B,v,H,v,q,v,z,v,V,v,G,v,Q,v,W,v,J,v,K,v,X,v,Y,v,Z,v,ee,v,te,_=e("AwHF");n={id:"lodash-amd/modern/collections/contains",exports:{},loaded:!1},t=function(require){return e("AwHF").contains}.call(n.exports,e,n.exports,n),n.loaded=!0,void 0===t&&(t=n.exports),o={id:"lodash-amd/modern/collections/toArray",exports:{},loaded:!1},r=function(require){return e("AwHF").toArray}.call(o.exports,e,o.exports,o),o.loaded=!0,void 0===r&&(r=o.exports),a={id:"lodash-amd/modern/arrays/flatten",exports:{},loaded:!1},i=function(require){return e("AwHF").flatten}.call(a.exports,e,a.exports,a),a.loaded=!0,void 0===i&&(i=a.exports),u={id:"lodash-amd/modern/arrays/last",exports:{},loaded:!1},s=function(require){return e("AwHF").last}.call(u.exports,e,u.exports,u),u.loaded=!0,void 0===s&&(s=u.exports),l={id:"lodash-amd/modern/utilities/escape",exports:{},loaded:!1},c=function(require){return e("AwHF").escape}.call(l.exports,e,l.exports,l),l.loaded=!0,void 0===c&&(c=l.exports),d={id:"lodash-amd/modern/objects/assign",exports:{},loaded:!1},p=function(require){return e("AwHF").extend}.call(d.exports,e,d.exports,d),d.loaded=!0,void 0===p&&(p=d.exports),h={id:"lodash-amd/modern/objects/defaults",exports:{},loaded:!1},f=function(require){return e("AwHF").defaults}.call(h.exports,e,h.exports,h),h.loaded=!0,void 0===f&&(f=h.exports),v=[],m=function(){function pull(e){for(var n=arguments,r=0,o=n.length,i=e?e.length:0;++r<o;)for(var a=-1,s=n[r];++a<i;)e[a]===s&&(t.call(e,a--,1),i--);return e}var e=[],t=e.splice;return pull}.apply(exports,v),v=[],g=function(){return function(){return function(e){var t=new e.api.Command("indent");t.queryEnabled=function(){var t=new e.api.Selection,n=t.getContaining(function(e){return"UL"===e.nodeName||"OL"===e.nodeName});return e.api.Command.prototype.queryEnabled.call(this)&&e.allowsBlockElements()&&!n},e.commands.indent=t}}}.apply(exports,v),v=[],y=function(){return function(){return function(e){var t=function(t){e.api.Command.call(this,t)};t.prototype=Object.create(e.api.Command.prototype),t.prototype.constructor=t,t.prototype.execute=function(t){function splitList(e){if(e.length>0){var t=document.createElement(o.nodeName);e.forEach(function(e){t.appendChild(e)}),o.parentNode.insertBefore(t,o.nextElementSibling)}}if(this.queryState()){var n=new e.api.Selection,r=n.range,o=n.getContaining(function(e){return"OL"===e.nodeName||"UL"===e.nodeName}),i=n.getContaining(function(e){return"LI"===e.nodeName});e.transactionManager.run(function(){if(i){splitList(new e.api.Node(i).nextAll()),n.placeMarkers();var t=document.createElement("p");t.innerHTML=i.innerHTML,o.parentNode.insertBefore(t,o.nextElementSibling),i.parentNode.removeChild(i)}else{var a=Array.prototype.map.call(o.querySelectorAll("li"),function(e){return r.intersectsNode(e)&&e}).filter(function(e){return e}),s=a.slice(-1)[0];splitList(new e.api.Node(s).nextAll()),n.placeMarkers();var u=document.createDocumentFragment();a.forEach(function(e){var t=document.createElement("p");t.innerHTML=e.innerHTML,u.appendChild(t)}),o.parentNode.insertBefore(u,o.nextElementSibling),a.forEach(function(e){e.parentNode.removeChild(e)})}0===o.childNodes.length&&o.parentNode.removeChild(o),n.selectMarkers()}.bind(this))}else e.api.Command.prototype.execute.call(this,t)},t.prototype.queryEnabled=function(){return e.api.Command.prototype.queryEnabled.call(this)&&e.allowsBlockElements()},e.commands.insertOrderedList=new t("insertOrderedList"),e.commands.insertUnorderedList=new t("insertUnorderedList")}}}.apply(exports,v),v=[],C=function(){return function(){return function(e){var t=new e.api.Command("outdent");t.queryEnabled=function(){var t=new e.api.Selection,n=t.getContaining(function(e){return"UL"===e.nodeName||"OL"===e.nodeName});return e.api.Command.prototype.queryEnabled.call(this)&&e.allowsBlockElements()&&!n},e.commands.outdent=t}}}.apply(exports,v),v=[],b=function(){return function(){return function(e){var t=new e.api.Command("redo");t.execute=function(){e.undoManager.redo()},t.queryEnabled=function(){return e.undoManager.position>0},e.commands.redo=t,e.options.undo.enabled&&e.el.addEventListener("keydown",function(e){e.shiftKey&&(e.metaKey||e.ctrlKey)&&90===e.keyCode&&(e.preventDefault(),t.execute())})}}}.apply(exports,v),v=[],E=function(){return function(){return function(e){var t=new e.api.Command("subscript");e.commands.subscript=t}}}.apply(exports,v),v=[],w=function(){return function(){return function(e){var t=new e.api.Command("superscript");e.commands.superscript=t}}}.apply(exports,v),v=[],T=function(){return function(){return function(e){var t=new e.api.Command("undo");t.execute=function(){e.undoManager.undo()},t.queryEnabled=function(){return e.undoManager.position<e.undoManager.length},e.commands.undo=t,e.options.undo.enabled&&e.el.addEventListener("keydown",function(e){e.shiftKey||!e.metaKey&&!e.ctrlKey||90!==e.keyCode||(e.preventDefault(),t.execute())})}}}.apply(exports,v),v=[g,y,C,b,E,w,T],S=function(e,t,n,r,o,i,a){return{indent:e,insertList:t,outdent:n,redo:r,subscript:o,superscript:i,undo:a}}.apply(exports,v),v=[t],O=function(e){function isBlockElement(n){return e(t,n.nodeName)}function isSelectionMarkerNode(e){return e.nodeType===Node.ELEMENT_NODE&&"scribe-marker"===e.className}function isCaretPositionNode(e){return e.nodeType===Node.ELEMENT_NODE&&"caret-position"===e.className}function unwrap(e,t){for(;t.childNodes.length>0;)e.insertBefore(t.childNodes[0],t);e.removeChild(t)}var t=["ADDRESS","ARTICLE","ASIDE","AUDIO","BLOCKQUOTE","CANVAS","DD","DIV","FIELDSET","FIGCAPTION","FIGURE","FOOTER","FORM","H1","H2","H3","H4","H5","H6","HEADER","HGROUP","HR","LI","NOSCRIPT","OL","OUTPUT","P","PRE","SECTION","TABLE","TD","TH","TFOOT","UL","VIDEO"];return{isBlockElement:isBlockElement,isSelectionMarkerNode:isSelectionMarkerNode,isCaretPositionNode:isCaretPositionNode,unwrap:unwrap}}.apply(exports,v),v=[],x=function(){function isEmptyTextNode(e){return e.nodeType===Node.TEXT_NODE&&""===e.textContent}function insertAfter(e,t){return t.parentNode.insertBefore(e,t.nextSibling)}function removeNode(e){return e.parentNode.removeChild(e)}return{isEmptyTextNode:isEmptyTextNode,insertAfter:insertAfter,removeNode:removeNode}}.apply(exports,v),v=[i,r,O,x,e("dv31")],R=function(e,t,n,r,o){function observeDomChanges(o,i){function includeRealMutations(o){return e(o.map(function(e){var n=t(e.addedNodes),r=t(e.removedNodes);return n.concat(r)})).filter(function(e){return!r.isEmptyTextNode(e)}).filter(function(e){return!n.isSelectionMarkerNode(e)}).length>0}var a=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver,s=!1,u=new a(function(e){if(!s&&includeRealMutations(e)){s=!0;try{i()}catch(e){throw e}finally{setTimeout(function(){s=!1},0)}}});return u.observe(o,{attributes:!0,childList:!0,subtree:!0}),u}return observeDomChanges}.apply(exports,v),v=[t,R],A=function(e,t){return function(){return function(e){e.el.addEventListener("focus",function placeCaretOnFocus(){function getFirstDeepestChild(e){var t=document.createTreeWalker(e,NodeFilter.SHOW_ALL,null,!1),n=t.currentNode;return t.firstChild()?"BR"===t.currentNode.nodeName?n:getFirstDeepestChild(t.currentNode):t.currentNode}var t=new e.api.Selection;if(t.range){if(e.allowsBlockElements()&&t.range.startContainer===e.el){var n=getFirstDeepestChild(e.el.firstChild),r=t.range;r.setStart(n,0),r.setEnd(n,0),t.selection.removeAllRanges(),t.selection.addRange(r)}}}.bind(e));var n=function(){if(!e._skipFormatters){var t=new e.api.Selection,n=t.range,r=function(){n&&t.placeMarkers(),e.setHTML(e._htmlFormatterFactory.format(e.getHTML())),t.selectMarkers()}.bind(e);e.transactionManager.run(r)}delete e._skipFormatters}.bind(e);t(e.el,n),e.allowsBlockElements()&&e.el.addEventListener("keydown",function(t){if(13===t.keyCode){var n=new e.api.Selection,r=n.range,o=n.getContaining(function(e){return/^(H[1-6])$/.test(e.nodeName)});if(o&&r.collapsed){var i=r.cloneRange();i.setEndAfter(o,0);""===i.cloneContents().firstChild.textContent&&(t.preventDefault(),e.transactionManager.run(function(){var e=document.createElement("p"),t=document.createElement("br");e.appendChild(t),o.parentNode.insertBefore(e,o.nextElementSibling),r.setStart(e,0),r.setEnd(e,0),n.selection.removeAllRanges(),n.selection.addRange(r)}))}}}),e.allowsBlockElements()&&e.el.addEventListener("keydown",function(t){if(13===t.keyCode||8===t.keyCode){var n=new e.api.Selection;if(n.range.collapsed){var r=n.getContaining(function(e){return"LI"===e.nodeName});if(r&&""===r.textContent.trim()){t.preventDefault();var o=n.getContaining(function(e){return"UL"===e.nodeName||"OL"===e.nodeName});e.getCommand("OL"===o.nodeName?"insertOrderedList":"insertUnorderedList").execute()}}}})}}}.apply(exports,v),v=[],P=function(){return function(){return function(e){var t=/(\s|&nbsp;)+/g;e.registerHTMLFormatter("export",function(e){return e.replace(t," ")})}}}.apply(exports,v),v=[s],I=function(e){function wrapChildNodes(t,n){Array.prototype.reduce.call(n.childNodes,function(n,r){function startNewGroup(){var e=[r];n.push(e)}if("EM"!==r.nodeName){var o=e(n);if(o){t.element.isBlockElement(o[0])===t.element.isBlockElement(r)?o.push(r):startNewGroup()}else startNewGroup()}return n},[]).filter(function(e){return!t.element.isBlockElement(e[0])}).forEach(function(e){var t=document.createElement("p");e[0].parentNode.insertBefore(t,e[0]),e.forEach(function(e){t.appendChild(e)})}),n._isWrapped=!0}function traverse(e,t){for(var n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,null,!1),r=n.firstChild();r;){if("BLOCKQUOTE"===r.nodeName&&!r._isWrapped){wrapChildNodes(e,r),traverse(e,t);break}r=n.nextSibling()}}return function(){return function(e){e.registerHTMLFormatter("normalize",function(t){var n=document.createElement("div");return n.innerHTML=t,wrapChildNodes(e,n),traverse(e,n),n.innerHTML})}}}.apply(exports,v),v=[O,t],N=function(e,t){function parentHasNoTextContent(e,t){return!!e.isCaretPositionNode(t)||""===t.parentNode.textContent.trim()}function traverse(e,r){function isEmpty(t){if(0===t.children.length&&e.isBlockElement(t)||1===t.children.length&&e.isSelectionMarkerNode(t.children[0]))return!0;if(!e.isBlockElement(t)&&0===t.children.length)return parentHasNoTextContent(e,t);return!1}for(var o=r.firstElementChild;o;)e.isSelectionMarkerNode(o)||(isEmpty(o)&&""===o.textContent.trim()&&!t(n,o.nodeName)?o.appendChild(document.createElement("br")):o.children.length>0&&traverse(e,o)),o=o.nextElementSibling}var n=["AREA","BASE","BR","COL","COMMAND","EMBED","HR","IMG","INPUT","KEYGEN","LINK","META","PARAM","SOURCE","TRACK","WBR"];return function(){return function(e){e.registerHTMLFormatter("normalize",function(t){var n=document.createElement("div");return n.innerHTML=t,traverse(e.element,n),n.innerHTML})}}}.apply(exports,v),v=[c],k=function(e){return function(){return function(t){t.registerPlainTextFormatter(e)}}}.apply(exports,v),v=[],M=function(){function hasContent(e){for(var t=document.createTreeWalker(e,NodeFilter.SHOW_ALL,null,!1);t.nextNode();)if(t.currentNode&&(~["br"].indexOf(t.currentNode.nodeName.toLowerCase())||t.currentNode.length>0))return!0;return!1}return function(){return function(e){e.el.addEventListener("keydown",function(t){if(13===t.keyCode){var n=new e.api.Selection,r=n.range;n.getContaining(function(e){return"LI"===e.nodeName||/^(H[1-6])$/.test(e.nodeName)})||(t.preventDefault(),e.transactionManager.run(function(){"BR"===e.el.lastChild.nodeName&&e.el.removeChild(e.el.lastChild);var t=document.createElement("br");r.insertNode(t),r.collapse(!1);var o=r.cloneRange();if(o.setEndAfter(e.el.lastChild,0),!hasContent(o.cloneContents())){var i=document.createElement("br");r.insertNode(i)}var a=r.cloneRange();a.setStartAfter(t,0),a.setEndAfter(t,0),n.selection.removeAllRanges(),n.selection.addRange(a)}))}}.bind(this)),""===e.getHTML().trim()&&e.setContent("")}}}.apply(exports,v),v=[],L=function(){return function(){return function(e){var t=new e.api.CommandPatch("bold");t.queryEnabled=function(){var t=new e.api.Selection,n=t.getContaining(function(e){return/^(H[1-6])$/.test(e.nodeName)});return e.api.CommandPatch.prototype.queryEnabled.apply(this,arguments)&&!n},e.commandPatches.bold=t}}}.apply(exports,v),v=[],D=function(){var e="\ufeff";return function(){return function(e){var t=new e.api.CommandPatch("indent");t.execute=function(t){e.transactionManager.run(function(){var n=new e.api.Selection,r=n.range;if("P"===r.commonAncestorContainer.nodeName&&"<br>"===r.commonAncestorContainer.innerHTML){var o=document.createTextNode("\ufeff");r.insertNode(o),r.setStart(o,0),r.setEnd(o,0),n.selection.removeAllRanges(),n.selection.addRange(r)}e.api.CommandPatch.prototype.execute.call(this,t),n=new e.api.Selection;var i=n.getContaining(function(e){return"BLOCKQUOTE"===e.nodeName});i&&i.removeAttribute("style")}.bind(this))},e.commandPatches.indent=t}}}.apply(exports,v),v=[],j=function(){return function(){return function(e){var t=new e.api.CommandPatch("insertHTML"),n=e.element;t.execute=function(t){e.transactionManager.run(function(){function sanitize(e){var t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null,!1),r=t.firstChild();if(!r)return;do{"SPAN"===r.nodeName?n.unwrap(e,r):(r.style.lineHeight=null,""===r.getAttribute("style")&&r.removeAttribute("style")),sanitize(r)}while(r=t.nextSibling())}e.api.CommandPatch.prototype.execute.call(this,t),sanitize(e.el)}.bind(this))},e.commandPatches.insertHTML=t}}}.apply(exports,v),v=[],F=function(){return function(){return function(e){var t=e.element,n=e.node,r=function(t){e.api.CommandPatch.call(this,t)};r.prototype=Object.create(e.api.CommandPatch.prototype),r.prototype.constructor=r,r.prototype.execute=function(r){e.transactionManager.run(function(){if(e.api.CommandPatch.prototype.execute.call(this,r),this.queryState()){var o=new e.api.Selection,i=o.getContaining(function(e){return"OL"===e.nodeName||"UL"===e.nodeName});if(i.nextElementSibling&&0===i.nextElementSibling.childNodes.length&&n.removeNode(i.nextElementSibling),i){var a=i.parentNode;a&&/^(H[1-6]|P)$/.test(a.nodeName)&&(o.placeMarkers(),n.insertAfter(i,a),o.selectMarkers(),2===a.childNodes.length&&n.isEmptyTextNode(a.firstChild)&&n.removeNode(a),0===a.childNodes.length&&n.removeNode(a))}Array.prototype.slice.call(i.childNodes).forEach(function(e){Array.prototype.slice.call(e.childNodes).forEach(function(n){if("SPAN"===n.nodeName){var r=n;t.unwrap(e,r)}else n.nodeType===Node.ELEMENT_NODE&&(n.style.lineHeight=null,""===n.getAttribute("style")&&n.removeAttribute("style"))})})}}.bind(this))},e.commandPatches.insertOrderedList=new r("insertOrderedList"),e.commandPatches.insertUnorderedList=new r("insertUnorderedList")}}}.apply(exports,v),v=[],U=function(){return function(){return function(e){var t=new e.api.CommandPatch("outdent");t.execute=function(){e.transactionManager.run(function(){var t=new e.api.Selection,n=t.range,r=t.getContaining(function(e){return"BLOCKQUOTE"===e.nodeName});if("BLOCKQUOTE"===n.commonAncestorContainer.nodeName){t.placeMarkers(),t.selectMarkers(!0);var o=n.cloneContents();r.parentNode.insertBefore(o,r),n.deleteContents(),t.selectMarkers(),""===r.textContent&&r.parentNode.removeChild(r)}else{var i=t.getContaining(function(e){return"P"===e.nodeName});if(i){var a=new e.api.Node(i).nextAll();if(a.length){var s=document.createElement(r.nodeName);a.forEach(function(e){s.appendChild(e)}),r.parentNode.insertBefore(s,r.nextElementSibling)}t.placeMarkers(),r.parentNode.insertBefore(i,r.nextElementSibling),t.selectMarkers(),""===r.innerHTML&&r.parentNode.removeChild(r)}else e.api.CommandPatch.prototype.execute.call(this)}}.bind(this))},e.commandPatches.outdent=t}}}.apply(exports,v),v=[],B=function(){return function(){return function(e){var t=new e.api.CommandPatch("createLink");e.commandPatches.createLink=t,t.execute=function(t){var n=new e.api.Selection;if(n.range.collapsed){var r=document.createElement("a");r.setAttribute("href",t),r.textContent=t,n.range.insertNode(r);var o=document.createRange();o.setStartBefore(r),o.setEndAfter(r),n.selection.removeAllRanges(),n.selection.addRange(o)}else e.api.CommandPatch.prototype.execute.call(this,t)}}}}.apply(exports,v),v=[],H=function(){return function(){return function(e){var t=e.element;e.allowsBlockElements()&&e.el.addEventListener("keyup",function(n){if(8===n.keyCode||46===n.keyCode){var r=new e.api.Selection,o=r.getContaining(function(e){return"P"===e.nodeName});o&&e.transactionManager.run(function(){r.placeMarkers(),Array.prototype.slice.call(o.childNodes).forEach(function(e){if("SPAN"===e.nodeName){var n=e;t.unwrap(o,n)}else e.nodeType===Node.ELEMENT_NODE&&(e.style.lineHeight=null,""===e.getAttribute("style")&&e.removeAttribute("style"))}),r.selectMarkers()},!0)}})}}}.apply(exports,v),v=[L,D,j,F,U,B,H],q=function(e,t,n,r,o,i,a){return{commands:{bold:e,indent:t,insertHTML:n,insertList:r,outdent:o,createLink:i},events:a}}.apply(exports,v),v=[],z=function(){return function(){return function(e){""===e.getHTML().trim()&&e.setContent("<p><br></p>")}}}.apply(exports,v),v=[],V=function(){return function(e){function CommandPatch(e){this.commandName=e}return CommandPatch.prototype.execute=function(t){e.transactionManager.run(function(){document.execCommand(this.commandName,!1,t||null)}.bind(this))},CommandPatch.prototype.queryState=function(){return document.queryCommandState(this.commandName)},CommandPatch.prototype.queryEnabled=function(){return document.queryCommandEnabled(this.commandName)},CommandPatch}}.apply(exports,v),v=[],G=function(){return function(e){function Command(t){this.commandName=t,this.patch=e.commandPatches[this.commandName]}return Command.prototype.execute=function(t){this.patch?this.patch.execute(t):e.transactionManager.run(function(){document.execCommand(this.commandName,!1,t||null)}.bind(this))},Command.prototype.queryState=function(){return this.patch?this.patch.queryState():document.queryCommandState(this.commandName)},Command.prototype.queryEnabled=function(){return this.patch?this.patch.queryEnabled():document.queryCommandEnabled(this.commandName)},Command}}.apply(exports,v),v=[],Q=function(){function Node(e){this.node=e}return Node.prototype.getAncestor=function(e,t){var n=function(t){return e===t};if(n(this.node))return;for(var r=this.node.parentNode;r&&!n(r);){if(t(r))return r;r=r.parentNode}},Node.prototype.nextAll=function(){for(var e=[],t=this.node.nextSibling;t;)e.push(t),t=t.nextSibling;return e},Node}.apply(exports,v),v=[O],W=function(e){return function(e){function Selection(){for(var t=document,n=e.el.parentNode;n&&n.nodeType!==Node.DOCUMENT_FRAGMENT_NODE&&n.nodeType!==Node.DOCUMENT_NODE;)n=n.parentNode;if(n&&n.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&n.getSelection&&(t=n),this.selection=t.getSelection(),this.selection.rangeCount&&this.selection.anchorNode){this.range=document.createRange();var r=document.createRange();this.range.setStart(this.selection.anchorNode,this.selection.anchorOffset),r.setStart(this.selection.focusNode,this.selection.focusOffset),this.range.compareBoundaryPoints(Range.START_TO_START,r)<=0?this.range.setEnd(this.selection.focusNode,this.selection.focusOffset):(this.range=r,this.range.setEnd(this.selection.anchorNode,this.selection.anchorOffset))}}return Selection.prototype.getContaining=function(t){if(!this.range)return;var n=new e.api.Node(this.range.commonAncestorContainer);return n.node&&e.el===n.node||!t(n.node)?n.getAncestor(e.el,t):n.node},Selection.prototype.placeMarkers=function(){if(!this.range)return;if(!e.el.offsetParent)return;var t=document.createRange();t.selectNodeContents(e.el);var n=this.range.compareBoundaryPoints(Range.START_TO_START,t)>=0,r=this.range.compareBoundaryPoints(Range.END_TO_END,t)<=0;if(n&&r){var o=document.createElement("em");o.classList.add("scribe-marker");var i=document.createElement("em");i.classList.add("scribe-marker");var a=this.range.cloneRange();if(a.collapse(!1),a.insertNode(i),i.nextSibling&&i.nextSibling.nodeType===Node.TEXT_NODE&&""===i.nextSibling.data&&i.parentNode.removeChild(i.nextSibling),i.previousSibling&&i.previousSibling.nodeType===Node.TEXT_NODE&&""===i.previousSibling.data&&i.parentNode.removeChild(i.previousSibling),!this.range.collapsed){var s=this.range.cloneRange();s.collapse(!0),s.insertNode(o),o.nextSibling&&o.nextSibling.nodeType===Node.TEXT_NODE&&""===o.nextSibling.data&&o.parentNode.removeChild(o.nextSibling),o.previousSibling&&o.previousSibling.nodeType===Node.TEXT_NODE&&""===o.previousSibling.data&&o.parentNode.removeChild(o.previousSibling)}this.selection.removeAllRanges(),this.selection.addRange(this.range)}},Selection.prototype.getMarkers=function(){return e.el.querySelectorAll("em.scribe-marker")},Selection.prototype.removeMarkers=function(){var e=this.getMarkers();Array.prototype.forEach.call(e,function(e){e.parentNode.removeChild(e)})},Selection.prototype.selectMarkers=function(e){var t=this.getMarkers();if(!t.length)return;var n=document.createRange();n.setStartBefore(t[0]),t.length>=2?n.setEndAfter(t[1]):n.setEndAfter(t[0]),e||this.removeMarkers(),this.selection.removeAllRanges(),this.selection.addRange(n)},Selection.prototype.isCaretOnNewLine=function(){function isEmptyInlineElement(e){for(var t=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,null,!1),n=t.root;n;){var r=n.childNodes.length;if(r>1||1===r&&""!==n.textContent.trim())return!1;if(0===r)return""===n.textContent.trim();n=t.nextNode()}}var e=this.getContaining(function(e){return"P"===e.nodeName});return!!e&&isEmptyInlineElement(e)},Selection}}.apply(exports,v),v=[],J=function(){return function(e,t){function SimpleCommand(e,n){t.api.Command.call(this,e),this._nodeName=n}return SimpleCommand.prototype=Object.create(e.Command.prototype),SimpleCommand.prototype.constructor=SimpleCommand,SimpleCommand.prototype.queryState=function(){var e=new t.api.Selection;return t.api.Command.prototype.queryState.call(this)&&!!e.getContaining(function(e){return e.nodeName===this._nodeName}.bind(this))},SimpleCommand}}.apply(exports,v),v=[V,G,Q,W,J],K=function(e,t,n,r,o){return function Api(i){this.CommandPatch=e(i),this.Command=t(i),this.Node=n,this.Selection=r(i),this.SimpleCommand=o(this,i)}}.apply(exports,v),v=[p],X=function(e){return function(t){function TransactionManager(){this.history=[]}return e(TransactionManager.prototype,{start:function(){this.history.push(1)},end:function(){this.history.pop(),0===this.history.length&&(t.pushHistory(),t.trigger("content-changed"))},run:function(e,n){this.start();try{e&&e()}finally{t._forceMerge=!0===n,this.end(),t._forceMerge=!1}}}),TransactionManager}}.apply(exports,v),v=[],Y=function(){function UndoManager(e,t){this._stack=[],this._limit=e,this._fireEvent="undefined"!=typeof CustomEvent&&t&&t.dispatchEvent,this._ush=t,this.position=0,this.length=0}return UndoManager.prototype.transact=function(e,t){if(arguments.length<2)throw new TypeError("Not enough arguments to UndoManager.transact.");e.execute(),this._stack.splice(0,this.position),t&&this.length?this._stack[0].push(e):this._stack.unshift([e]),this.position=0,this._limit&&this._stack.length>this._limit?this.length=this._stack.length=this._limit:this.length=this._stack.length,this._fireEvent&&this._ush.dispatchEvent(new CustomEvent("DOMTransaction",{detail:{transactions:this._stack[0].slice()},bubbles:!0,cancelable:!1}))},UndoManager.prototype.undo=function(){if(this.position<this.length){for(var e=this._stack[this.position].length-1;e>=0;e--)this._stack[this.position][e].undo();this.position++,this._fireEvent&&this._ush.dispatchEvent(new CustomEvent("undo",{detail:{transactions:this._stack[this.position-1].slice()},bubbles:!0,cancelable:!1}))}},UndoManager.prototype.redo=function(){if(this.position>0){for(var e=0,t=this._stack[this.position-1].length;e<t;e++)this._stack[this.position-1][e].redo();this.position--,this._fireEvent&&this._ush.dispatchEvent(new CustomEvent("redo",{detail:{transactions:this._stack[this.position].slice()},bubbles:!0,cancelable:!1}))}},UndoManager.prototype.item=function(e){if(e>=0&&e<this.length)return this._stack[e].slice();return null},UndoManager.prototype.clearUndo=function(){this._stack.length=this.length=this.position},UndoManager.prototype.clearRedo=function(){this._stack.splice(0,this.position),this.position=0,this.length=this._stack.length},UndoManager}.apply(exports,v),v=[m,e("BH0r")],Z=function(e,t){function EventEmitter(){this._listeners={}}return EventEmitter.prototype.on=function(e,n){var r=this._listeners[e]||t.Set();this._listeners[e]=r.add(n)},EventEmitter.prototype.off=function(e,n){var r=this._listeners[e]||t.Set();r=n?r.delete(n):r.clear()},EventEmitter.prototype.trigger=function(e,n){for(var r=e.split(":");r.length;){var o=r.join(":");(this._listeners[o]||t.Set()).forEach(function(e){e.apply(null,n)}),r.splice(r.length-1,1)}},EventEmitter}.apply(exports,v),v=[f],ee=function(e){function checkOptions(n){var r=n||{};return Object.freeze(e(r,t))}var t={allowBlockElements:!0,debug:!1,undo:{manager:!1,enabled:!0,limit:100,interval:250},defaultCommandPatches:["bold","indent","insertHTML","insertList","outdent","createLink"]};return{defaultOptions:t,checkOptions:checkOptions}}.apply(exports,v),v=[S,A,P,I,N,k,M,q,z,K,X,Y,Z,O,x,e("BH0r"),ee],void 0!==(te=function(e,t,n,r,o,i,a,s,u,c,l,p,d,f,h,v,m){function Scribe(g,y){d.call(this),this.el=g,this.commands={},this.options=m.checkOptions(y),this.commandPatches={},this._plainTextFormatterFactory=new FormatterFactory,this._htmlFormatterFactory=new HTMLFormatterFactory,this.api=new c(this),this.node=h,this.element=f,this.Immutable=v;var C=l(this);this.transactionManager=new C,this.undoManager=!1,this.options.undo.enabled&&(this.options.undo.manager?this.undoManager=this.options.undo.manager:this.undoManager=new p(this.options.undo.limit,this.el),this._merge=!1,this._forceMerge=!1,this._mergeTimer=0,this._lastItem={content:""}),this.setHTML(this.getHTML()),this.el.setAttribute("contenteditable",!0),this.el.addEventListener("input",function(){this.transactionManager.run()}.bind(this),!1),this.allowsBlockElements()?(this.use(u()),this.use(r()),this.use(o())):this.use(a());var b=v.List.of(i,n),E=v.List.of(s.events),w=v.List(this.options.defaultCommandPatches).map(function(e){return s.commands[e]}),T=v.List.of("indent","insertList","outdent","redo","subscript","superscript","undo").map(function(t){return e[t]});v.List().concat(b,E,w,T).forEach(function(e){this.use(e())}.bind(this)),this.use(t())}function FormatterFactory(){this.formatters=v.List()}function HTMLFormatterFactory(){this.formatters={sanitize:v.List(),normalize:v.List(),export:v.List()}}return Scribe.prototype=Object.create(d.prototype),Scribe.prototype.use=function(e){return e(this),this},Scribe.prototype.setHTML=function(e,t){this._lastItem.content=e,t&&(this._skipFormatters=!0),this.el.innerHTML!==e&&(this.el.innerHTML=e)},Scribe.prototype.getHTML=function(){return this.el.innerHTML},Scribe.prototype.getContent=function(){return this._htmlFormatterFactory.formatForExport(this.getHTML().replace(/<br>$/,""))},Scribe.prototype.getTextContent=function(){return this.el.textContent},Scribe.prototype.pushHistory=function(){var e=this;if(e.options.undo.enabled){var t=e._lastItem.content.replace(/<em class="scribe-marker">/g,"").replace(/<\/em>/g,"");if(e.getHTML()!==t){var n=new e.api.Selection;n.placeMarkers();var r=e.getHTML();n.removeMarkers();var o=e.undoManager.item(e.undoManager.position);return(e._merge||e._forceMerge)&&o&&e._lastItem==o[0]?e._lastItem.content=r:(e._lastItem={previousItem:e._lastItem,content:r,scribe:e,execute:function(){},undo:function(){this.scribe.restoreFromHistory(this.previousItem)},redo:function(){this.scribe.restoreFromHistory(this)}},e.undoManager.transact(e._lastItem,!1)),clearTimeout(e._mergeTimer),e._merge=!0,e._mergeTimer=setTimeout(function(){e._merge=!1},e.options.undo.interval),!0}}return!1},Scribe.prototype.getCommand=function(e){return this.commands[e]||this.commandPatches[e]||new this.api.Command(e)},Scribe.prototype.restoreFromHistory=function(e){this._lastItem=e,this.setHTML(e.content,!0),(new this.api.Selection).selectMarkers(),this.trigger("content-changed")},Scribe.prototype.allowsBlockElements=function(){return this.options.allowBlockElements},Scribe.prototype.setContent=function(e){this.allowsBlockElements()||(e+="<br>"),this.setHTML(e),this.trigger("content-changed")},Scribe.prototype.insertPlainText=function(e){this.insertHTML("<p>"+this._plainTextFormatterFactory.format(e)+"</p>")},Scribe.prototype.insertHTML=function(e){this.getCommand("insertHTML").execute(this._htmlFormatterFactory.format(e))},Scribe.prototype.isDebugModeEnabled=function(){return this.options.debug},Scribe.prototype.registerHTMLFormatter=function(e,t){this._htmlFormatterFactory.formatters[e]=this._htmlFormatterFactory.formatters[e].push(t)},Scribe.prototype.registerPlainTextFormatter=function(e){this._plainTextFormatterFactory.formatters=this._plainTextFormatterFactory.formatters.push(e)},FormatterFactory.prototype.format=function(e){return this.formatters.reduce(function(e,t){return t(e)},e)},HTMLFormatterFactory.prototype=Object.create(FormatterFactory.prototype),HTMLFormatterFactory.prototype.constructor=HTMLFormatterFactory,HTMLFormatterFactory.prototype.format=function(e){return this.formatters.sanitize.concat(this.formatters.normalize).reduce(function(e,t){return t(e)},e)},HTMLFormatterFactory.prototype.formatForExport=function(e){return this.formatters.export.reduce(function(e,t){return t(e)},e)},Scribe}.apply(exports,v))&&(module.exports=te)},JVsT:function(module,exports){},JX2z:function(module,exports,e){var t=e("S4pB"),n=t.default?t.default:{},r=e("zQM/"),o=r(n);o.getLocale=function(){return"en"},module.exports=o},JgGx:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("O27J"),e("Usxh"),e("FqtV"),e("dmUG"),e("qDI2")],void 0!==(r=function(require,exports,module){"use strict";var t=e("U7vG"),n=e("O27J"),r=e("Usxh"),o=e("FqtV"),i=e("dmUG"),a=i.findBlockContainer,s=i.findSelectedElement,u=i.isEmptyParagraphBlock,c=e("qDI2"),l=c.insertAsset,p=c.isAssetBlock,d=c.isRemoveButton,f=c.initializeAssetBlocks;module.exports=function(e){return function(i){var c=new i.api.Command("asset"),h=new r,v=null,m=null,g=function handleAssetModalSelect(e){i.transactionManager.run(function(){return l(i,m,h,e)}),n.unmountComponentAtNode(v)},y=function handleAssetModalCancel(){n.unmountComponentAtNode(v)},C=function handleBackspace(e){i.transactionManager.run(function(){var t=s(i),n=t.previousSibling,r=t.nextSibling;u(i,t)&&(!n&&p(r)?(e.preventDefault(),i.el.removeChild(t)):p(n)&&(e.preventDefault(),p(r)?i.el.removeChild(t):i.el.removeChild(n)))})},b=function handleKeydown(e){8===e.keyCode&&C(e)},E=function handleMousedown(e){i.transactionManager.run(function(){var t=e.target;d(t)&&(e.preventDefault(),i.el.removeChild(a(i,t)))})},w=function handleContentChange(){return f(i.el)};c.execute=function(){m=s(i),v=document.createElement("div"),document.body.appendChild(v),n.render(t.createElement(o,{assetContext:e.context,onSelect:g,onCancel:y}),v)},c.queryEnabled=function(){return!0},i.on("content-changed",w),i.el.addEventListener("keydown",b),i.el.addEventListener("mousedown",E),i.commands.asset=c}}}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},JjV5:function(module,exports,e){var t=e("OPL9");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},KxdE:function(module,exports){},LncB:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("L+Qk"),e("36w1")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("L+Qk");e("36w1");var i=(n=t=function(e){function TestCasePill(){var t,n,r;_classCallCheck(this,TestCasePill);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.onClick=function(){n.props.onClick&&n.props.onClick(n.props.index)},r=t,_possibleConstructorReturn(n,r)}return _inherits(TestCasePill,e),TestCasePill.prototype.render=function render(){var e=this.props,t=e.name,n=e.isSelected,i=e.isPassed,a=e.isFailed,s=o("rc-TestCasePill","nostyle","body-2-text",{selected:n,passed:i,failed:a,default:!i&&!a});return r.createElement("button",{className:s,onClick:this.onClick,disabled:!this.props.onClick},t||r.createElement("span",null," "))},TestCasePill}(r.Component),t.propTypes={onClick:r.PropTypes.func.isRequired,name:r.PropTypes.string.isRequired,index:r.PropTypes.number.isRequired,isSelected:r.PropTypes.bool.isRequired,isPassed:r.PropTypes.bool.isRequired,isFailed:r.PropTypes.bool.isRequired},n);module.exports=i}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},Lu8h:function(module,exports,e){var t,n;t=[e,exports,module,e("rq/u"),e("WxWF")],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),n=e("rq/u"),r=e("WxWF"),o=function(){function EvaluatorTestCaseRunner(e){var t=e.testCase,n=e.response;_classCallCheck(this,EvaluatorTestCaseRunner),this.testCase=t,this.response=n}return EvaluatorTestCaseRunner.prototype.copy=function copy(){var e=new n(this.testCase.toJSON());return new EvaluatorTestCaseRunner({response:this.response,testCase:e})},t(EvaluatorTestCaseRunner,[{key:"isPassed",get:function get(){return null!=this.response&&this.response.hasIdenticalOutput(this.testCase.result)}},{key:"isFailed",get:function get(){return null!=this.response&&!this.response.hasIdenticalOutput(this.testCase.result)}}]),EvaluatorTestCaseRunner}();module.exports=o}.apply(exports,t))&&(module.exports=n)},MOnc:function(module,exports,e){(function(t,_){var n,r;n=[e,exports,module,e("AwHF"),e("U7vG"),e("L+Qk")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n,r,_=e("AwHF"),o=e("U7vG"),i=e("L+Qk"),a=(r=n=function(e){function Button(){return _classCallCheck(this,Button),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(Button,e),Button.prototype.render=function render(){var e=this.props,n=e.primary,r=e.secondary,a=e.passive,s=e.nostyle,u=e.cozy,c=e.comfy,l=e.fullbleed,p=i(this.props.className,{primary:n,secondary:r,passive:a,nostyle:s,cozy:u,comfy:c,fullbleed:l});return o.createElement("button",t({className:p},_(this.props).omit("className","primary","secondary")),this.props.children)},Button}(o.Component),n.propTypes={children:o.PropTypes.node,primary:o.PropTypes.bool,secondary:o.PropTypes.bool,passive:o.PropTypes.bool,nostyle:o.PropTypes.bool,cozy:o.PropTypes.bool,comfy:o.PropTypes.bool,fullbleed:o.PropTypes.bool,className:o.PropTypes.string},r);module.exports=a}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("AwHF"))},MVpu:function(module,exports,e){var t,n;t=[e,exports,module,e("D8sO"),e("HGiU")],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=e("D8sO"),n=e("HGiU"),r=t.ReplHarnessClassName,o=n.TestCaseHarnessClassName,i=function(){function EvaluatorDraft(e){var i=e.id,a=e.evaluator,s=e.isPublished;_classCallCheck(this,EvaluatorDraft),this.id=i,this.evaluator=a,this.isPublished=s,this.versionedEngineId=this.evaluator.versionedEngineId;var u=a.harness;null!=u[r]?this.harness=new t(u[r]):null!=u[o]&&(this.harness=new n(u[o]))}return EvaluatorDraft.prototype.toJSON=function toJSON(){var e=this.id,t=this.isPublished,n=this.versionedEngineId;return{id:e,evaluator:{harness:this.harness.toJSON(),versionedEngineId:n},isPublished:t}},EvaluatorDraft}();module.exports=i}.apply(exports,t))&&(module.exports=n)},NGpk:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("oLtT"),e("zdAV"),e("Bfa4"),e("PlGB"),e("80u0"),e("RRLk"),e("6Y1w"),e("fJp/")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r,o,i=e("U7vG"),a=e("oLtT"),s=e("zdAV"),u=s.receiveMyCourseRating,c=e("Bfa4"),l=e("PlGB"),p=e("80u0"),d=e("RRLk"),f=e("6Y1w");e("fJp/");var h=(n=t=function(e){function CourseRating(){return _classCallCheck(this,CourseRating),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(CourseRating,e),CourseRating.prototype.componentDidMount=function componentDidMount(){this.context.executeAction(u,{ratingFeedback:this.props.ratingFeedback})},CourseRating.prototype.render=function render(){if(!a.get("authenticated"))return null;return i.createElement("div",{className:"rc-CourseRating"},i.createElement(c,{course:this.props.course}))},CourseRating}(i.Component),t.propTypes={course:i.PropTypes.object.isRequired,ratingFeedback:i.PropTypes.instanceOf(f).isRequired},t.contextTypes={executeAction:i.PropTypes.func.isRequired},n),v=(o=r=function(e){function TrackedCourseRating(){return _classCallCheck(this,TrackedCourseRating),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(TrackedCourseRating,e),TrackedCourseRating.prototype.getChildContext=function getChildContext(){var e=this.props.course,t=e.get?e.get("id"):e.id;return{track:p.makeTracker({namespace:"content_learner.rating_course",include:{course_id:t}})}},TrackedCourseRating.prototype.render=function render(){return i.createElement(h,this.props)},TrackedCourseRating}(i.Component),r.propTypes={course:i.PropTypes.object.isRequired,ratingFeedback:i.PropTypes.instanceOf(f).isRequired},r.childContextTypes={track:i.PropTypes.func},o),m=function(e){function FluxibleCourseRating(){return _classCallCheck(this,FluxibleCourseRating),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(FluxibleCourseRating,e),FluxibleCourseRating.prototype.componentWillMount=function componentWillMount(){this.fluxibleContext=l.createContext()},FluxibleCourseRating.prototype.render=function render(){return i.createElement(d,{context:this.fluxibleContext.getComponentContext()},i.createElement(v,this.props))},FluxibleCourseRating}(i.Component);module.exports=m}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},NMhx:function(module,exports,e){(function(t,_){var n,r;n=[e,exports,module,e("U7vG"),e("AwHF"),e("L+Qk"),e("aIeD"),e("k61R"),e("5DMr"),e("JHGP"),e("DFsJ"),e("K7LM"),e("0725"),e("VXwe"),e("YSnZ")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),_=e("AwHF"),o=e("L+Qk"),i=e("aIeD"),a=i.DropdownMenu,s=i.MenuItem,u=e("k61R"),c=e("5DMr"),l=e("JHGP"),p=e("DFsJ"),d=e("K7LM"),f=e("0725"),h=f.getEvaluatorTemplatesForTag,v=e("VXwe");e("YSnZ");var m="CUSTOM_EVALUATOR_ID",g=(n=t=function(e){function ScribeCodeEditorEvaluatorDropdown(t,n){_classCallCheck(this,ScribeCodeEditorEvaluatorDropdown);var r=_possibleConstructorReturn(this,e.call(this,t,n));return r.handleCreate=function(e){var t=r.props,n=t.courseId,o=t.branchId,i=t.itemId;r.setState({loading:!0,isDropdownOpen:!1,errorMessage:void 0}),p.create({courseId:n,branchId:o,itemId:i,evaluatorId:e}).then(function(e){r.props.onSave(e.id,r.props.value),r.setState({loading:!1,isModalOpen:!1}),r.props.handleOpen()}).catch(function(){r.setState({loading:!1,isModalOpen:!1,errorMessage:v("Error while cloning evaluator.")})}).done()},r.handleSelect=function(e){e===m?r.setState({isModalOpen:!0,isDropdownOpen:!1,isLoading:!1}):r.handleCreate(e)},r.handleClick=function(){r.props.evaluatorId?r.props.handleOpen():r.state.isDropdownOpen?r.setState({isDropdownOpen:!1}):(r.setState({errorMessage:void 0,loading:!0}),h(r.props.language,r.props.courseId).then(function(e){r.setState({evaluators:e.elements,isDropdownOpen:!0,loading:!1})}).catch(function(e){r.setState({errorMessage:v("An unknown error has occurred."),isDropdownOpen:!1,loading:!1})}).done())},r.onCloseModal=function(){r.setState({isModalOpen:!1})},r.state={loading:!1,isDropdownOpen:!1,isModalOpen:!1,errorMessage:void 0,evaluators:[]},r}return _inherits(ScribeCodeEditorEvaluatorDropdown,e),ScribeCodeEditorEvaluatorDropdown.prototype.renderButton=function renderButton(){var e=this.props.evaluatorId,t=this.state.loading,n=o("evaluator-config-link",{"button-link":!e});return r.createElement("button",{onClick:this.handleClick,className:n},!t&&v(e?"Interactive Settings":"Make it interactive"),t&&r.createElement("span",{className:"cif-spin cif-spinner",style:{marginLeft:32}}))},ScribeCodeEditorEvaluatorDropdown.prototype.renderDropdown=function renderDropdown(){var e=this.state,t=e.evaluators,n=e.loading;return r.createElement(a,{id:"code-editor-dropdown",defaultOpen:!0,noCaret:!0,onSelect:this.handleSelect,rootCloseEvent:"click"},!n&&t.map(function(e){return r.createElement(s,{key:e.id,eventKey:e.id},e.name)}),!n&&r.createElement(s,{key:m,eventKey:m},r.createElement("span",{className:""},v("Enter a custom evaluator"))))},ScribeCodeEditorEvaluatorDropdown.prototype.renderCreationModal=function renderCreationModal(){return r.createElement(l,{modalName:v("Clone a custom evaluator"),handleClose:this.onCloseModal},r.createElement(c,{onClickCreate:this.handleCreate}))},ScribeCodeEditorEvaluatorDropdown.prototype.render=function render(){var e=this.state,t=e.isDropdownOpen,n=e.isModalOpen,o=e.errorMessage;return r.createElement("div",{className:"rc-ScribeCodeEditorEvaluatorDropdown"},this.renderButton(),t&&this.renderDropdown(),n&&this.renderCreationModal(),o&&r.createElement(u,{style:{display:"inline-block",marginLeft:16}},o))},ScribeCodeEditorEvaluatorDropdown}(r.Component),t.propTypes={language:r.PropTypes.oneOf(_(d).pluck("value")).isRequired,courseId:r.PropTypes.string.isRequired,branchId:r.PropTypes.string.isRequired,itemId:r.PropTypes.string.isRequired,evaluatorId:r.PropTypes.string,value:r.PropTypes.string.isRequired,onSave:r.PropTypes.func.isRequired,handleOpen:r.PropTypes.func.isRequired},n);module.exports=g}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("AwHF"))},NNif:function(module,exports,e){(function(t,_){var n,r;n=[e,exports,module,e("AwHF"),e("U7vG"),e("s7w+"),e("HBPE"),e("K7LM"),e("piiq")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,_=e("AwHF"),r=e("U7vG"),o=e("s7w+"),i=e("HBPE"),a=e("K7LM");e("piiq");var s=(n=t=function(e){function ScribeCodeEditorToolbar(){return _classCallCheck(this,ScribeCodeEditorToolbar),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(ScribeCodeEditorToolbar,e),ScribeCodeEditorToolbar.prototype.render=function render(){var e=this.props,t=e.value,n=e.evaluatorId,a=e.codeBlockOptions,s=e.languageValue,u=e.onEvaluatorChange,c=a&&a.context||{},l=c.courseId,p=c.itemId,d=c.branchId,f=a&&a.ecbEnabled;return r.createElement("div",{className:"rc-ScribeCodeEditorToolbar horizontal-box caption-text"},r.createElement(o,{languageValue:s}),f&&r.createElement(i,{value:t,language:s,evaluatorId:n,courseId:l,itemId:p,branchId:d,onEvaluatorChange:u}))},ScribeCodeEditorToolbar}(r.Component),t.propTypes={value:r.PropTypes.string,evaluatorId:r.PropTypes.string,codeBlockOptions:r.PropTypes.object,languageValue:r.PropTypes.oneOf(_(a).pluck("value")),onEvaluatorChange:r.PropTypes.func.isRequired},n);module.exports=s}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("AwHF"))},Nehx:function(module,exports,e){var t,n;t=[e,exports,module],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var e=function Partner(e){var t=e.id,n=e.name,r=e.shortName,o=e.squareLogo;_classCallCheck(this,Partner),this.id=t,this.name=n,this.shortName=r,this.squareLogo=o};module.exports=e}.apply(exports,t))&&(module.exports=n)},Nqjb:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("L+Qk"),e("U7vG"),e("Sh9H"),e("JX2z"),e("G894")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("L+Qk"),o=e("U7vG");e("Sh9H");var i=e("JX2z"),a=e("G894"),s=a.FormattedMessage,u=(n=t=function(e){function CourseRatingIconsAccessible(){var t,n,r;_classCallCheck(this,CourseRatingIconsAccessible);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.state={highlightValue:-1,focusValue:-1},n.handleMouseLeave=function(){n.setState({highlightValue:-1})},r=t,_possibleConstructorReturn(n,r)}return _inherits(CourseRatingIconsAccessible,e),CourseRatingIconsAccessible.prototype.handleMouseOver=function handleMouseOver(e){this.setState({highlightValue:e})},CourseRatingIconsAccessible.prototype.handleFocus=function handleFocus(e){this.setState(function(){return{focusValue:e}})},CourseRatingIconsAccessible.prototype.handleSelect=function handleSelect(e){this.setState({highlightValue:-1}),this.props.onSelect&&this.props.onSelect(e)},CourseRatingIconsAccessible.prototype.renderIcon=function renderIcon(e,t){var n=this,a=this.props,u=a.readOnly,c=a.radioName,l=this.state,p=l.highlightValue,d=l.focusValue,f=e<=p,h=void 0!==e&&e===d,v=p>-1,m=e%1!=0,g=r("c-course-rating-icon",{"cif-star":f||t&&!v&&!m,"cif-star-half-empty":!f&&t&&!v&&m,"cif-star-o":!f&&(!t||v),highlight:f,focused:h});return o.createElement("label",{className:g,onMouseOver:!u&&function(){return n.handleMouseOver(e)}},o.createElement("input",{type:"radio",name:c,key:e,className:"sr-only",onChange:function onChange(){return n.handleSelect(e)},value:e,checked:t,onFocus:function onFocus(){return n.handleFocus(e)},onBlur:function onBlur(){return n.handleFocus(-1)}}),o.createElement("span",{className:"sr-only"},o.createElement(s,{message:i("{stars} {stars, plural, one {Star} other {Stars}}"),stars:e})))},CourseRatingIconsAccessible.prototype.renderUnselected=function renderUnselected(e){var t=this,n=!e.map(function(e){return e.selected}).some(function(e){return!!e}),r=this.props.radioName;return o.createElement("label",{className:"sr-only"},o.createElement("input",{type:"radio",value:"0",name:r,onChange:function onChange(){return t.handleSelect(0)},checked:n,onFocus:function onFocus(){return t.handleFocus(0)},onBlur:function onBlur(){return t.handleFocus(-1)}}),o.createElement("span",{className:"sr-only"},i("Unselect rating")))},CourseRatingIconsAccessible.prototype.render=function render(){var e=this,t=this.props,n=t.readOnly,i=t.value,a=this.state.focusValue,s=r("rc-CourseRatingIcons rc-CourseRatingIconsAccessible",this.props.size,{"read-only":n,focused:0===a}),u=CourseRatingIconsAccessible.getRatingDistribution(i);return o.createElement("div",{className:s,onMouseLeave:this.handleMouseLeave},this.renderUnselected(u),u.map(function(t){return e.renderIcon(t.value,t.selected)}))},CourseRatingIconsAccessible}(o.Component),t.defaultProps={size:"small",readOnly:!0},t.getRatingDistribution=function(e){var t=.5,n=[],r=Math.round(2*e)/2;for(5!==e&&(r=Math.min(r,4.5));t<=r;){t%1!=0?t+.5>r?(n.push({value:t,selected:!0}),t+=1):t+=.5:(n.push({value:t,selected:!0}),t+=.5)}for(t%1!=0&&(t+=.5);t<=5;)n.push({value:t,selected:!1}),t+=1;return n},n);module.exports=u}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},O5Yf:function(module,exports){},OPL9:function(module,exports){},OhXu:function(module,exports,e){(function(_){var t,n;t=[e,exports,module,e("AwHF")],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _=e("AwHF"),t=function(){function CourseRatingStats(e,t){var n=this;_classCallCheck(this,CourseRatingStats),this.counts=e,this.totalCount=0,this.averageRating=0,_(this.counts).each(function(e,t){n.totalCount=n.totalCount+e,n.averageRating=n.averageRating+t*e}),this.averageRating=parseFloat((this.averageRating/this.totalCount).toFixed(1)),t&&Object.assign(this,t)}return CourseRatingStats.prototype.getCount=function getCount(e){return this.counts[e.value]||0},CourseRatingStats.prototype.getPercent=function getPercent(e){if(!this.totalCount)return 0;return Math.round(this.getCount(e)/this.totalCount*100)},CourseRatingStats}();module.exports=t}.apply(exports,t))&&(module.exports=n)}).call(exports,e("AwHF"))},Oqxx:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("PCu3")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG");e("PCu3");var o=(n=t=function(e){function FeedbackComplete(){return _classCallCheck(this,FeedbackComplete),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(FeedbackComplete,e),FeedbackComplete.prototype.componentDidMount=function componentDidMount(){var e=this;this._hideCompleteTimer=setTimeout(function(){e.props.onTimeout()},this.props.hideDelay)},FeedbackComplete.prototype.componentWillUnmount=function componentWillUnmount(){this._hideCompleteTimer&&clearTimeout(this._hideCompleteTimer)},FeedbackComplete.prototype.render=function render(){return r.createElement("div",{className:"rc-FeedbackComplete"},this.props.children)},FeedbackComplete}(r.Component),t.propTypes={hideDelay:r.PropTypes.number,onTimeout:r.PropTypes.func.isRequired},t.defaultProps={hideDelay:3e3},n);module.exports=o}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},OxRT:function(module,exports,e){(function(_){var t,n;t=[e,exports,module,e("AwHF"),e("YIyV")],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var _=e("AwHF"),t=e("YIyV"),n=function AuthoringCourseBranch(e){var n=e.associatedSessions,r=e.branchStatus,o=e.changesDescription,i=e.courseBranchId,a=e.courseId,s=e.createdAt,u=e.id,c=e.isPrivate,l=e.listed,p=e.name;_classCallCheck(this,AuthoringCourseBranch),this.associatedSessions=_(n).mapObject(function(e){return new t(e)}),this.branchStatus=r,this.changesDescription=o,this.courseBranchId=i,this.courseId=a,this.createdAt=s,this.id=u,this.isPrivate=c,this.listed=l,this.name=p};module.exports=n}.apply(exports,t))&&(module.exports=n)}).call(exports,e("AwHF"))},P0Ly:function(module,exports,e){var t,n;t=[e,exports,module,e("go2y"),e("2TVH"),e("iFGm")],void 0!==(n=function(require,exports,module){"use strict";var t=e("go2y"),n=e("2TVH"),r=e("iFGm"),o=n("/api/authoringAssets.v1/",{type:"rest"}),i=n("/api/onDemandCourses.v1/",{type:"rest"}),a="AssetAdminModalNoticeDismissed",s={getCourse:function getCourse(e){var n=new r(e);return t(i.get(n.toString()))},getAssetsListByContext:function getAssetsListByContext(e){var n=(new r).addQueryParam("q","listByCourse").addQueryParam("courseId",e.courseId).addQueryParam("limit",20).addQueryParam("start",e.nextPageIndex||0).addQueryParam("fields","name,filename,createdAt,typeName,pageCount,audioDuration,videoDuration,tags");return e.assetType&&n.addQueryParam("typeName",e.assetType),e.keyword&&n.addQueryParam("name",e.keyword),t(o.get(n.toString()))},getAssetsById:function getAssetsById(e,n){var i=(new r).addQueryParam("q","fromCourse").addQueryParam("courseId",e).addQueryParam("assetIds",n.join()).addQueryParam("fields","name,filename,typeName,tags");return t(o.get(i.toString()))},getAssetsListByContextByFileExtension:function getAssetsListByContextByFileExtension(e,n){var i=(new r).addQueryParam("q","listByCourse").addQueryParam("courseId",e).addQueryParam("fields","name,filename,typeName").addQueryParam("fileExtension",n);return t(o.get(i.toString()))},updateDescription:function updateDescription(e){var n=e.courseId,i=e.assetId,a=e.description,s=(new r).addQueryParam("action","updateDescription").addQueryParam("courseId",n).addQueryParam("assetId",i);return t(o.post(s.toString(),{data:{description:a}}))},updateName:function updateName(e){var n=e.courseId,i=e.assetId,a=e.name,s=(new r).addQueryParam("action","updateName").addQueryParam("courseId",n).addQueryParam("assetId",i).addQueryParam("name",a);return t(o.post(s.toString(),{}))},deleteAssets:function deleteAssets(e){var n=(new r).addQueryParam("action","hide").addQueryParam("assetIds",e);return t(o.post(n.toString()))},dismissNotice:function dismissNotice(){localStorage.setItem(a,!0)},isNoticeDismissed:function isNoticeDismissed(){return null!==localStorage.getItem(a)}};module.exports=s}.apply(exports,t))&&(module.exports=n)},PCu3:function(module,exports,e){var t=e("7pA+");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},PXae:function(module,exports){},Pek8:function(module,exports,e){var t,n;t=[e,exports,module,e("2TVH")],void 0!==(n=function(require,exports,module){"use strict";var t=e("2TVH"),n=new t("/api/courseFeedbackCounts.v1",{type:"rest"});module.exports=n}.apply(exports,t))&&(module.exports=n)},PlGB:function(module,exports,e){var t,n;t=[e,exports,module,e("+1or"),e("UyNM"),e("dLLr"),e("9Qcx"),e("5ibh"),e("0kmL"),e("4TMM")],void 0!==(n=function(require,exports,module){"use strict";var t=e("+1or").store,n=e("UyNM"),r=e("dLLr").store,o=e("9Qcx"),i=e("5ibh"),a=e("0kmL"),s=e("4TMM"),u=new s;u.registerStore(t),u.registerStore(n),u.registerStore(r),u.registerStore(i),u.registerStore(o),u.registerStore(a),module.exports=u}.apply(exports,t))&&(module.exports=n)},Qx3b:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("bLQR"),e("lTRS")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("bLQR");e("lTRS");var i=(n=t=function(e){function CourseRatingHeader(){return _classCallCheck(this,CourseRatingHeader),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(CourseRatingHeader,e),CourseRatingHeader.prototype.render=function render(){var e=void 0,t="",n="",i="";if(this.props.catalogPCourse){var a=this.props.catalogPCourse;if(a.get)t=a.get("photoUrl"),e=a.get("partners"),n=e?e.at(0).get("name"):"",i=a.get("name");else{var s=a;t=s.photoUrl,i=s.name}}else{var u=this.props.openCourse;t=u.get("promoPhoto"),e=u.get("universities"),n=e.models&&e.models[0]&&e.models[0].get("name")||"",i=u.get("name")}return r.createElement("div",{className:"rc-CourseRatingHeader"},r.createElement(o,{width:200,alt:o.DECORATIVE,imgParams:{fit:"fit"},src:t,className:"c-course-rating-header-img"}),r.createElement("div",{className:"c-course-rating-header-content"},r.createElement("div",{className:"body-2-text"},n),r.createElement("h3",null,i)))},CourseRatingHeader}(r.Component),t.propTypes={catalogPCourse:r.PropTypes.object,openCourse:r.PropTypes.object},n);module.exports=i}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},Qyzk:function(module,exports,e){(function(t,_){var n,r;n=[e,exports,module,e("U7vG"),e("AwHF"),e("85ju"),e("IYle"),e("5ZC0")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),_=e("AwHF"),o=e("85ju"),i=e("IYle");e("5ZC0");var a=(n=t=function(e){function AssetsList(){return _classCallCheck(this,AssetsList),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(AssetsList,e),AssetsList.prototype.render=function render(){var e=this.props,t=e.assets,n=e.selectedAssets,o=e.allowMultiple,a=e.emptyMessage;return r.createElement("ol",{className:"rc-AssetsList"},_(t).isEmpty()?r.createElement("li",{className:"empty-assets-message"},a):_(t).map(function(e){if(_(e.tags).find({name:"listed",value:"true"})){var t=AssetsList.isSelected(n,e);return r.createElement("li",{className:"asset-item",key:e.id},r.createElement(i,{asset:e,isSelected:t,allowMultiple:o}))}}))},AssetsList}(r.Component),t.propTypes={assets:r.PropTypes.array,selectedAssets:r.PropTypes.array,allowMultiple:r.PropTypes.bool,emptyMessage:r.PropTypes.string},t.defaultProps={emptyMessage:o("You haven’t uploaded any assets yet.")},t.isSelected=function(e,t){return!_(e).chain().where({id:t.id}).isEmpty().value()},n);module.exports=a}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("AwHF"))},R9Li:function(module,exports,e){var t=e("CgUp");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},RIkx:function(module,exports,e){var t,n;t=[e,exports,module],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var e=function ExpressionHarness(e){var t=e.preamble;_classCallCheck(this,ExpressionHarness),this.preamble=t};module.exports=e}.apply(exports,t))&&(module.exports=n)},RJhi:function(module,exports,e){var t,n;t=[e,exports,module,e("go2y"),e("2TVH"),e("iFGm")],void 0!==(n=function(require,exports,module){"use strict";var t=e("go2y"),n=e("2TVH"),r=e("iFGm"),o=n("/api/insightAssets.v1/",{type:"rest"}),i={getAssetsListByContext:function getAssetsListByContext(e){var n=(new r).addQueryParam("q","listByInsight").addQueryParam("insightId",e.insightId).addQueryParam("limit",20).addQueryParam("start",e.nextPageIndex||0).addQueryParam("fields","name,filename,createdAt,typeName,pageCount,audioDuration,videoDuration,tags");return e.assetType&&n.addQueryParam("typeName",e.assetType),e.keyword&&n.addQueryParam("name",e.keyword),t(o.get(n.toString()))},getAssetsById:function getAssetsById(e,n){var i=(new r).addQueryParam("q","fromInsight").addQueryParam("insightId",e).addQueryParam("assetIds",n.join()).addQueryParam("fields","name,filename,typeName,tags");return t(o.get(i.toString()))}};module.exports=i}.apply(exports,t))&&(module.exports=n)},"S/dP":function(module,exports,e){var t=e("ALyQ");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},S4pB:function(module,exports){exports.default={"es":true,"fr":true,"pseudo":true,"pt":true,"ru":true,"tr":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},S7wc:function(module,exports){},SF2v:function(module,exports,e){(function($,t,_){var n,r;n=[e,exports,module,e("4+j2"),e("AwHF"),e("U7vG"),e("O27J"),e("Rw/m"),e("iW6M"),e("Ugny"),e("uT1Y"),e("dmUG")],void 0!==(r=function(require,exports,module){"use strict";var $=e("4+j2"),_=e("AwHF"),t=e("U7vG"),n=e("O27J"),r=e("Rw/m"),o=e("iW6M"),i=e("Ugny"),a=e("uT1Y"),s=e("dmUG"),u=s.findBlockContainer,c=s.isEmptyParagraphBlock,l="scribe-plugin-code-command";module.exports=function(e){var s=e.editorContainer,p=e.codeBlockOptions,d=s;return function(e){var s=null,f=null,h=null,v=new e.api.SimpleCommand("code","CODE"),m=new o(e),g=function handleBlockRemove(t){e.transactionManager.run(function(){return m.getCodeElementAtIndex(t).remove()})},y=function handleBlockChange(t,n,r,o){var i=m.getAceEditorAtIndex(t),a=m.getCodeElementAtIndex(t);i.setValue(r),i.setLanguage(o||""),e.transactionManager.run(function(){a.textContent=r,a.setAttribute("data-language",o||""),a.setAttribute("data-evaluator-id",n||"")})},C=function positionAndSizeEditor(e,t){var n=t.offsetTop,r=t.offsetLeft,o=t.offsetWidth,i=e.el.parentNode;i.style.position="absolute",i.style.top=n+2+"px",i.style.left=r+2+"px",i.style.width=o-2+"px";var a=e.resizeHeight(),s=document.getElementsByClassName("rc-ScribeCodeEditor"),u=s.length?s[0].offsetHeight:0;$(t).height(a+u)},b=function renderAceEditor(r,o){var a=o.innerText,u=o.getAttribute("data-language"),c=o.getAttribute("data-evaluator-id"),f=document.createElement("div");f.style.position="relative",f.setAttribute("class",l),d.appendChild(f);var h=document.createElement("div");f.appendChild(h);var v=document.createElement("div");f.appendChild(v);var C=new s({value:a,language:u,el:v,onChange:function onChange(t){return e.transactionManager.run(function(){return m.getCodeElementAtIndex(r).innerText=t})},onFocus:function onFocus(t){return e.trigger("content-changed")}});return o===m.focusedCodeElement&&setTimeout(function(){return C.editor.focus()},0),n.render(t.createElement(i,{aceEditor:C,languageValue:u,evaluatorId:c,codeBlockOptions:p,onRemove:function onRemove(){return g(r)},onChange:function onChange(e,t,n){return y(r,e,t,n)}}),h),C},E=function removeAceEditors(){$("."+l,d).remove(),m.clearAceEditorCache()},w=function update(e){if(s){var t=m.getAllCodeElements();t.length!==_(m.aceEditors).values().length&&E(),t.map(function(e,t){var n=m.getAceEditorAtIndex(e);n||(n=b(e,t),m.setAceEditorAtIndex(n,e)),C(n,t)})}},T=function handleCreateCodeBlock(t){e.transactionManager.run(function(){var n=document.createElement("pre");n.setAttribute("data-language",t||""),c(e,h)?(h.nextSibling||h.parentNode.appendChild(document.createElement("p")),h.parentNode.replaceChild(n,h)):h.nextSibling?h.parentNode.insertBefore(n,h.nextSibling):(h.parentNode.appendChild(n),h.parentNode.appendChild(document.createElement("p"))),m.setFocusOnCodeElement(n)}),n.unmountComponentAtNode(f)},S=function handleCodeBlockCancel(){n.unmountComponentAtNode(f)};v.execute=function(){var r=new e.api.Selection,o=r.range;if(o){if(h=u(e,o.endContainer),f=document.createElement("div"),!h.parentElement.nextSibling)throw new Error("could not find toolbar element rc-CMLEditorToolbar to append code language selector to");h.parentElement.nextSibling.appendChild(f),n.render(t.createElement(a,{onSelect:T,onCancel:S}),f)}},v.queryEnabled=function(){if(!(new e.api.Selection).range)return!1;return!0},v.queryState=function(){},r(function(e){s=e,w()}),e.on("content-changed",w),e.el.addEventListener("keydown",w),e.commands.code=v}}}.apply(exports,n))&&(module.exports=r)}).call(exports,e("4+j2"),e("U7vG"),e("AwHF"))},SNbN:function(module,exports,e){var t,n;t=[e,exports,module],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var e=function(){function StarterCode(e){var t=e.expression,n=void 0===t?"":t,r=e.language,o=void 0===r?"":r;_classCallCheck(this,StarterCode),this.expression=n,this.language=o}return StarterCode.prototype.toJSON=function toJSON(){return{expression:this.expression,language:this.language}},StarterCode}();module.exports=e}.apply(exports,t))&&(module.exports=n)},Sh9H:function(module,exports,e){var t=e("rmYj");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},T4cS:function(module,exports,e){var t=e("feex");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},TBvF:function(module,exports,e){var t,n;t=[e,exports,module],void 0!==(n=function(require,exports,module){"use strict";module.exports=function(){return function(e){e.el.addEventListener("keypress",function(e){13===e.keyCode&&e.shiftKey&&(e.preventDefault(),e.stopPropagation())})}}}.apply(exports,t))&&(module.exports=n)},"TaW+":function(module,exports,e){var t,n;t=[],void 0!==(n=function(){return function(){function isUnorderedListChar(e){return"*"===e||"-"===e||"•"===e}var e={32:"Space",42:"*",45:"-",46:".",49:"1",8226:"•"};return function(t){function removeSelectedTextNode(){var e=new t.api.Selection,n=e.selection.anchorNode,r;if(n.nodeType===Node.TEXT_NODE?r=n:n.firstChild.nodeType===Node.TEXT_NODE&&(r=n.firstChild),!r)throw new Error("Cannot empty non-text node!");var o=r.parentNode;r.previousSibling&&o.removeChild(r.previousSibling),o.removeChild(r)}function input(i){var a;n=r,r=o,o=e[i.charCode];var s=new t.api.Selection,u=s.range.commonAncestorContainer,c=findBlockContainer(u);if(c&&"P"===c.tagName){var l=isUnorderedListChar(u.textContent[0]),p=1===s.range.endOffset;isUnorderedListChar(r)&&"Space"===o&&l&&p&&(a="insertUnorderedList");var d="1."===[u.previousSibling&&u.previousSibling.textContent,u.textContent].join("").slice(0,2);"1"===n&&"."===r&&"Space"===o&&d&&(a="insertOrderedList")}a&&(i.preventDefault(),t.transactionManager.run(function(){t.getCommand(a).execute(),removeSelectedTextNode()}))}function findBlockContainer(e){for(;e&&!t.element.isBlockElement(e);)e=e.parentNode;return e}var n,r,o;t.el.addEventListener("keypress",input)}}}.apply(exports,t))&&(module.exports=n)},Tc0N:function(module,exports,e){(function($,_){var t,n;t=[e,exports,module,e("4+j2"),e("AwHF"),e("FZSc"),e("w3SN")],void 0!==(n=function(require,exports,module){"use strict";var $=e("4+j2"),_=e("AwHF"),t=e("FZSc"),n=e("w3SN"),r="text/html",o="text/plain",i=function pasteText(e,t){var n=t.getData("text/plain");n=$("<div/>").text(n).html(),n=n.replace(/[\n]+/g,"<p>"),e.insertHTML(n)},a=function getHTMLAfterInsert(e,t){var n=new e.api.Selection;n.placeMarkers();var r=e.getHTML();e.insertHTML(t);var o=e.getHTML();return e.setHTML(r),n.selectMarkers(),e.el.focus(),o},s=function pasteHTML(e,r){var o=r.getData("text/html"),s=a(e,o),u=new n,c=new t;try{var l=u.toCML(s,!0);s=c.toHTML(l),e.insertHTML(o)}catch(t){console.log("HTML formatting not supported, pasting as text.",t),i(e,r)}};module.exports=function(){return function(e){e.el.addEventListener("paste",function(t){if(t.preventDefault(),t.stopPropagation(),t.clipboardData){var n=t.clipboardData;_(n.types).contains("text/html")?s(e,n):i(e,n)}}),e.el.addEventListener("drop",function(e){e.preventDefault(),e.stopPropagation()})}}}.apply(exports,t))&&(module.exports=n)}).call(exports,e("4+j2"),e("AwHF"))},UKSZ:function(module,exports,e){var t,n;t=[e,exports,module,e("2TVH")],void 0!==(n=function(require,exports,module){"use strict";var t=e("2TVH"),n=new t("/api/feedbackAdmin.v1",{type:"rest"});module.exports=n}.apply(exports,t))&&(module.exports=n)},Ugny:function(module,exports,e){(function(t,_){var n,r;n=[e,exports,module,e("AwHF"),e("U7vG"),e("NNif"),e("COFd"),e("K7LM"),e("9fp4")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r,_=e("AwHF"),o=e("U7vG"),i=e("NNif"),a=e("COFd"),s=e("K7LM");e("9fp4");var u=(n=t=function(e){function ScribeCodeEditor(t){_classCallCheck(this,ScribeCodeEditor);var n=_possibleConstructorReturn(this,e.call(this,t));r.call(n);var o=t.aceEditor,i=t.evaluatorId,a=t.languageValue;return n.state={value:o.value,evaluatorId:i,languageValue:a},o.onChange(function(e){return n.setState({value:e})}),n}return _inherits(ScribeCodeEditor,e),ScribeCodeEditor.prototype.render=function render(){var e=this.props,t=e.onRemove,n=e.codeBlockOptions,r=this.state,s=r.value,u=r.evaluatorId,c=r.languageValue;return o.createElement("div",{className:"rc-ScribeCodeEditor horizontal-box align-items-spacebetween"},o.createElement(i,{value:s,evaluatorId:u,codeBlockOptions:n,languageValue:c,onEvaluatorChange:this.handleEvaluatorChange}),o.createElement(a,{onClick:t}))},ScribeCodeEditor}(o.Component),t.propTypes={evaluatorId:o.PropTypes.string,codeBlockOptions:o.PropTypes.object,languageValue:o.PropTypes.oneOf(_(s).pluck("value")),aceEditor:o.PropTypes.object.isRequired,onRemove:o.PropTypes.func.isRequired,onChange:o.PropTypes.func.isRequired},r=function _initialiseProps(){var e=this;this.handleEvaluatorChange=function(t,n){var r=e.state.languageValue;e.props.onChange(t,n,r),e.setState({evaluatorId:t,value:n})}},n);module.exports=u}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("AwHF"))},UhXv:function(module,exports,e){var t=e("kdT6");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},UyNM:function(module,exports,e){var t,n;t=[e,exports,module,e("q07v")],void 0!==(n=function(require,exports,module){"use strict";var t=e("q07v"),n=t({storeName:"BranchPropertiesStore",initialize:function initialize(){this.branchPropertiesById={},this.conflictMetadataById={}},getAllBranchProperties:function getAllBranchProperties(){return this.branchPropertiesById},getAllConflictMetadata:function getAllConflictMetadata(){return this.conflictMetadataById},getBranchPropertiesById:function getBranchPropertiesById(e){return this.branchPropertiesById[e]},getConflictMetadataById:function getConflictMetadataById(e){return this.conflictMetadataById[e]},updateBranchProperties:function updateBranchProperties(e,t){this.branchPropertiesById[e]=t,this.branchPropertiesById[e].id=e},updateConflictMetadata:function updateConflictMetadata(e,t){this.conflictMetadataById[e]=t}});n.handlers={RECEIVED_BRANCHES_FOR_COURSE:function RECEIVED_BRANCHES_FOR_COURSE(e){var t=this;e.forEach(function(e){var n=e.id,r=e.properties,o=e.conflictMetadata;t.updateBranchProperties(n,r),t.updateConflictMetadata(n,o)}),this.emitChange()},RECEIVED_BRANCH_PROPERTIES:function RECEIVED_BRANCH_PROPERTIES(e){var t=e.branchId,n=e.properties;this.updateBranchProperties(t,n),this.emitChange()},SAVE_CONFLICT_METADATA_FOR_BRANCH:function SAVE_CONFLICT_METADATA_FOR_BRANCH(e){var t=e.branchId,n=e.conflictMetadata;this.updateConflictMetadata(t,n),this.emitChange()},SAVE_BRANCH:function SAVE_BRANCH(e){var t=e.branchId,n=e.conflictMetadata;this.updateConflictMetadata(t,n),this.emitChange()}},module.exports=n}.apply(exports,t))&&(module.exports=n)},VHHW:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("Qyzk"),e("FnG9"),e("c3Je"),e("7ttF"),e("rbLP"),e("UhXv")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n,r,o=e("U7vG"),i=e("Qyzk"),a=e("FnG9"),s=e("c3Je"),u=e("7ttF"),c=e("rbLP"),l=c.getAssetsListByContext;e("UhXv");var p=(r=n=function(e){function AssetBrowser(){var n,r,o;_classCallCheck(this,AssetBrowser);for(var i=arguments.length,a=Array(i),s=0;s<i;s++)a[s]=arguments[s];return n=r=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),r.state={isLoading:!1},r.handleInfiniteScroll=function(){var e=r.props,n=e.assetContext,o=e.nextPageIndex;o&&(r.setState({isLoading:!0}),r.context.executeAction(l,t({},n,{nextPageIndex:o})))},o=n,_possibleConstructorReturn(r,o)}return _inherits(AssetBrowser,e),AssetBrowser.prototype.getChildContext=function getChildContext(){return{scrollContainer:".rc-AssetAdminModal .scrollable-assets-list"}},AssetBrowser.prototype.componentDidUpdate=function componentDidUpdate(e){e.nextPageIndex!==this.props.nextPageIndex&&this.setState({isLoading:!1})},AssetBrowser.prototype.render=function render(){var e=this.props,t=e.assets,n=e.selectedAssets,r=e.allowMultiple,c=e.hideHeader;return o.createElement("div",{className:"rc-AssetBrowser"},o.createElement("div",{className:"assets-wrapper"},!t&&o.createElement("div",{className:"assets-loading-state"},o.createElement(s,null)),!c&&o.createElement(a,null),t&&o.createElement("div",{className:"scrollable-assets-list"},o.createElement(u,{isLoading:this.state.isLoading,onInfiniteScroll:this.handleInfiniteScroll},o.createElement(i,{assets:t,selectedAssets:n,allowMultiple:r})))))},AssetBrowser}(o.Component),n.propTypes={assetContext:o.PropTypes.shape({courseId:o.PropTypes.string,insightId:o.PropTypes.string}).isRequired,assets:o.PropTypes.array,selectedAssets:o.PropTypes.array,nextPageIndex:o.PropTypes.string,allowMultiple:o.PropTypes.bool,hideHeader:o.PropTypes.bool},n.contextTypes={executeAction:o.PropTypes.func.isRequired},n.childContextTypes={scrollContainer:o.PropTypes.string},r);module.exports=p}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},VXwe:function(module,exports,e){var t=e("WrvA"),n=t.default?t.default:{},r=e("zQM/"),o=r(n);o.getLocale=function(){return"en"},module.exports=o},Vdgd:function(module,exports){},Vgtj:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("L+Qk"),e("U7vG"),e("Nqjb"),e("zUon"),e("6Y1w"),e("n4kF"),e("JHGP"),e("Qx3b"),e("G894"),e("JX2z"),e("uJ9j")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r,o=e("L+Qk"),i=e("U7vG"),a=e("Nqjb"),s=e("zUon"),u=e("6Y1w"),c=e("n4kF"),l=e("JHGP"),p=e("Qx3b"),d=e("G894"),f=d.FormattedHTMLMessage,h=e("JX2z");e("uJ9j");var v=(n=t=function(e){function CourseRatingModal(t,n){_classCallCheck(this,CourseRatingModal);var o=_possibleConstructorReturn(this,e.call(this,t,n));r.call(o);var i=t.ratingFeedback,a=i.comment,s=i.value;return o.state={comment:a||c.create(),value:s},o}return _inherits(CourseRatingModal,e),CourseRatingModal.prototype.render=function render(){var e=0!==this.state.value,t=o("teach-btn","teach-btn-primary","c-course-rating-submit",{disabled:!e}),n=o("c-course-rating-clear","teach-btn","teach-btn-dark");return i.createElement(l,{className:"rc-CourseRatingModal",modalName:h("Rate this course"),handleClose:this.props.onClose},i.createElement(p,{catalogPCourse:this.props.course}),i.createElement("h3",null,h("Your review")),i.createElement(a,{size:"large",readOnly:!1,value:this.state.value,onClear:this.handleClear,onSelect:this.handleSelect,radioName:"course-rating-modal"}),i.createElement(s,{isFocused:!0,cml:this.state.comment,placeholder:h("Write your review (optional)"),onChange:this.handleChange}),i.createElement("div",{className:"body-1-text c-course-rating-disclaimer"},i.createElement(f,{message:h('By clicking Submit, I agree that my feedback may be viewed by the Coursera community,\n              in compliance with the Coursera <a href="https://www.coursera.org/about/terms" target="_blank">\n              Terms of Use</a> and My Profile privacy settings.')})),i.createElement("button",{title:h("Submit course review"),className:t,onClick:this.handleSubmit,disabled:!e},h("Submit")),!!this.props.ratingFeedback.value&&i.createElement("button",{title:h("Remove course review"),className:n,onClick:this.handleClear},h("Clear")))},CourseRatingModal}(i.Component),t.propTypes={course:i.PropTypes.object.isRequired,ratingFeedback:i.PropTypes.instanceOf(u).isRequired,onClose:i.PropTypes.func.isRequired,onSubmit:i.PropTypes.func.isRequired,onClear:i.PropTypes.func.isRequired},r=function _initialiseProps(){var e=this;this.handleChange=function(t){e.setState({comment:t})},this.handleSubmit=function(){e.props.onSubmit(e.state.value,e.state.comment)},this.handleClear=function(){e.props.onClear()},this.handleSelect=function(t){e.setState({value:t})}},n);module.exports=v}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},WJMB:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("L+Qk"),e("U7vG"),e("zvIl"),e("MOnc"),e("JHGP"),e("E+n/")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r,o,i,a,s=e("L+Qk"),u=e("U7vG"),c=e("zvIl"),l=e("MOnc"),p=e("JHGP");e("E+n/");var d=(n=t=function(e){function Title(){return _classCallCheck(this,Title),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(Title,e),Title.prototype.render=function render(){var e=u.createElement("div",null,this.props.icon&&u.createElement("div",{className:"icon-container"},this.props.icon),u.createElement("div",null,this.props.children));return u.createElement("div",{className:"rc-AuthorModalTitle"},u.createElement("div",{className:"authoring-modal-title"},this.props.leftAlignHeading&&u.createElement("div",{className:"align-left"},e),!this.props.leftAlignHeading&&u.createElement(c,{vertical:!0,alignItemsVerticalCenter:!0},e)))},Title}(u.Component),t.propTypes={icon:u.PropTypes.node,children:u.PropTypes.node,leftAlignHeading:u.PropTypes.bool},n),f=(o=r=function(e){function Footer(){return _classCallCheck(this,Footer),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(Footer,e),Footer.prototype.render=function render(){return u.createElement("div",{className:"rc-AuthorModalFooter"},u.createElement("div",{className:"footer-actions"},!this.props.hideCancel&&u.createElement(l,{secondary:!0,onClick:this.props.onCancel,disabled:this.props.disableCancel},this.props.cancelLabel),!this.props.hideConfirm&&u.createElement(l,{primary:!0,className:s({danger:this.props.useConfirmDanger}),onClick:this.props.onConfirm,disabled:this.props.disableConfirm},this.props.confirmLabel)))},Footer}(u.Component),r.propTypes={onConfirm:u.PropTypes.func,onCancel:u.PropTypes.func,hideCancel:u.PropTypes.bool,hideConfirm:u.PropTypes.bool,disableCancel:u.PropTypes.bool,disableConfirm:u.PropTypes.bool,confirmLabel:u.PropTypes.node,cancelLabel:u.PropTypes.node,useConfirmDanger:u.PropTypes.bool},r.defaultProps={confirmLabel:"Confirm",cancelLabel:"Cancel"},o),h=(a=i=function(e){function Modal(){var t,n,r;_classCallCheck(this,Modal);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.handleClose=function(){n.props.onCancel(!0)},r=t,_possibleConstructorReturn(n,r)}return _inherits(Modal,e),Modal.prototype.render=function render(){return u.createElement(p,{className:s("rc-AuthorModal",this.props.className),modalName:this.props.heading,handleClose:this.handleClose,"data-js":this.props["data-js"],allowClose:this.props.allowClose},this.props.withTitle&&u.createElement(d,{icon:this.props.titleIcon,leftAlignHeading:this.props.leftAlignHeading},this.props.heading),u.createElement("div",{className:"authoring-modal-body"},this.props.children),this.props.withFooter&&u.createElement(f,{onCancel:this.props.onCancel,onConfirm:this.props.onConfirm,confirmLabel:this.props.confirmLabel,cancelLabel:this.props.cancelLabel,hideCancel:this.props.hideCancel,hideConfirm:this.props.hideConfirm,disableConfirm:this.props.disableConfirm,useConfirmDanger:this.props.useConfirmDanger}))},Modal}(u.Component),i.propTypes={className:u.PropTypes.string,allowClose:u.PropTypes.bool,heading:u.PropTypes.string.isRequired,titleIcon:u.PropTypes.node,leftAlignHeading:u.PropTypes.bool,withTitle:u.PropTypes.bool,withFooter:u.PropTypes.bool,cancelLabel:u.PropTypes.node,onCancel:u.PropTypes.func,hideConfirm:u.PropTypes.bool,hideCancel:u.PropTypes.bool,disableConfirm:u.PropTypes.bool,confirmLabel:u.PropTypes.node,onConfirm:u.PropTypes.func,useConfirmDanger:u.PropTypes.bool,children:u.PropTypes.node,"data-js":u.PropTypes.string},i.defaultProps={allowClose:!0,useConfirmDanger:!1},a);module.exports=h}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},WNpQ:function(module,exports){},WrvA:function(module,exports){exports.default={"es":true,"fr":true,"pt":true,"ru":true,"tr":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},Wzgr:function(module,exports,e){var t,n;t=[e,exports,module,e("2TVH")],void 0!==(n=function(require,exports,module){"use strict";var t=e("2TVH"),n=new t("/api/myFeedback.v1",{type:"rest"});module.exports=n}.apply(exports,t))&&(module.exports=n)},X9eO:function(module,exports,e){var t,n;t=[e,exports,module],void 0!==(n=function(require,exports,module){"use strict";var e=function placeCaretAtEnd(e){var t=e.tagName.toLowerCase();if(e.focus(),"textarea"===t||"input"===t){if("number"==typeof e.selectionStart)e.selectionStart=e.selectionEnd=e.value.length;else if(void 0!==e.createTextRange){var n=e.createTextRange();n.collapse(!1),n.select()}}else if(void 0!==window.getSelection&&void 0!==document.createRange){var r=document.createRange();r.selectNodeContents(e),r.collapse(!1);var o=window.getSelection();o.removeAllRanges(),o.addRange(r)}else if(void 0!==document.body.createTextRange){var i=document.body.createTextRange();i.moveToElementText(e),i.collapse(!1),i.select()}};module.exports=e}.apply(exports,t))&&(module.exports=n)},XEEG:function(module,exports,e){var t,n;t=[],void 0!==(n=function(){return function(){return function(e){e.registerPlainTextFormatter(function(e){return e.replace(/\n([ \t]*\n)+/g,"</p><p>").replace(/\n/g,"<br>")})}}}.apply(exports,t))&&(module.exports=n)},XQug:function(module,exports,e){var t,n;t=[e,exports,module,e("SF2v"),e("JgGx"),e("aJPl"),e("xVab"),e("5aDr"),e("8jCB"),e("v8l3"),e("voUu")],void 0!==(n=function(require,exports,module){"use strict";var t=e("SF2v"),n=e("JgGx"),r=e("aJPl"),o=e("xVab"),i=e("5aDr"),a=e("8jCB"),s=e("v8l3");e("voUu");var u={H1:{commandName:"h1",disabledTags:["table","div","figure"],tooltip:s("Large Heading"),plugin:function plugin(){return o(1)},tags:[{name:"h1"}]},H2:{commandName:"h2",disabledTags:["table","pre","figure"],tooltip:s("Medium Heading"),plugin:function plugin(){return o(2)},tags:[{name:"h2"}]},H3:{commandName:"h3",disabledTags:["table","pre","figure"],tooltip:s("Small Heading"),plugin:function plugin(){return o(3)},tags:[{name:"h3"}]},Bold:{commandName:"bold",disabledTags:["figure","pre"],tooltip:s("Bold"),tags:[{name:"b"},{name:"strong"}]},Italic:{commandName:"italic",disabledTags:["figure","pre"],tooltip:s("Italic"),tags:[{name:"i"},{name:"em"}]},Underline:{commandName:"underline",disabledTags:["figure","pre"],tooltip:s("Underline"),tags:[{name:"u"}]},Link:{commandName:"linkPrompt",disabledTags:["figure","pre"],tooltip:s("Insert link"),plugin:function plugin(){return i({filter:{regex:/((\.cloudfront\.net|courcdn2?.\w{2,3})\/.+(&|\?)(Expires|expiry)\=)/i,message:"You cannot link directly to a temporary URL."}})},tags:[{name:"a",value:{href:!0,title:!0}}]},OrderedList:{commandName:"insertOrderedList",disabledTags:["table","pre","figure"],tooltip:s("Numbered List"),tags:[{name:"ol"},{name:"li"}]},UnorderedList:{commandName:"insertUnorderedList",disabledTags:["table","pre","figure"],tooltip:s("Bulleted List"),tags:[{name:"ul"},{name:"li"}]},Image:{commandName:"imageUpload",disabledTags:["ol","ul","div","table"],tooltip:s("Image"),plugin:a,tags:[{name:"figure"},{name:"img",value:{src:!0,draggable:!0,"data-asset-id":!0}}]},Table:{commandName:"table",disabledTags:["div"],tooltip:s("Table"),plugin:r,tags:[{name:"table"},{name:"td"},{name:"tr"},{name:"th"},{name:"thead"}]},Code:{commandName:"code",disabledTags:["ol","ul","table","div"],tooltip:s("Code"),plugin:t,tags:[{name:"pre",value:{"data-language":!0,"data-evaluator-id":!0,contenteditable:!0}}]},Divider:{commandName:"divider"},Asset:{commandName:"asset",tooltip:s("Insert"),plugin:n,disabledTags:["ol","ul","div","table","figure"],tags:[{name:"div",value:{class:!0,contenteditable:!0,"data-id":!0,"data-url":!0,"data-type":!0,"data-name":!0,"data-extension":!0,"data-initialized":!0}},{name:"a",value:{href:!0,title:!0,class:!0}}]}};module.exports=u}.apply(exports,t))&&(module.exports=n)},XglE:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("Lu8h"),e("xugj")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("Lu8h"),i=e("xugj"),a=(n=t=function(e){function TestCaseTitleRow(){return _classCallCheck(this,TestCaseTitleRow),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(TestCaseTitleRow,e),TestCaseTitleRow.prototype.render=function render(){var e=this.props,t=e.isTestCaseAdded,n=e.testCaseRunner,o=e.onChange,a=e.onDelete,s=e.onAddTestCase,u=e.onDuplicate,c=""!==n.testCase.expression&&""!==n.testCase.name&&null!=n.response;return r.createElement("div",{className:"rc-TestCaseTitleRow horizontal-box align-items-spacebetween flex-1",style:{padding:"4px 12px"}},r.createElement("input",{type:"text",maxLength:80,onChange:o,placeholder:i("Enter test case title"),style:{border:"none",width:500},className:"body-2-text",value:n.testCase.name}),!t&&r.createElement("div",null,r.createElement("button",{className:"button-link body-2-text cancel",onClick:a,style:{marginRight:12}},i("Cancel")),r.createElement("button",{className:"button-link body-2-text add",disabled:!c,onClick:s},i("Add"))),t&&r.createElement("div",null,r.createElement("button",{className:"button-link body-2-text delete",onClick:a,style:{marginRight:12}},i("Delete")),r.createElement("button",{className:"button-link body-2-text duplicate",onClick:u,style:{marginRight:12}},i("Duplicate"))))},TestCaseTitleRow}(r.Component),t.propTypes={isTestCaseAdded:r.PropTypes.bool.isRequired,testCaseRunner:r.PropTypes.instanceOf(o).isRequired,onChange:r.PropTypes.func.isRequired,onDelete:r.PropTypes.func.isRequired,onAddTestCase:r.PropTypes.func.isRequired,onDuplicate:r.PropTypes.func.isRequired},n);module.exports=a}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},XhQE:function(module,exports,e){var t=e("AfI1");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},XvS0:function(module,exports,e){(function(t,_){var n,r;n=[e,exports,module,e("U7vG"),e("AwHF"),e("85ju"),e("L+Qk"),e("R9Li")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),_=e("AwHF"),o=e("85ju"),i=e("L+Qk");e("R9Li");var a=(n=t=function(e){function AssetsFooter(){var t,n,r;_classCallCheck(this,AssetsFooter);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.addSelectedAssets=function(){n.props.onSelect(n.props.selectedAssets)},r=t,_possibleConstructorReturn(n,r)}return _inherits(AssetsFooter,e),AssetsFooter.prototype.renderUploadStatus=function renderUploadStatus(){if(!_(this.props.uploadedAssets).isEmpty())return r.createElement("span",{className:"upload-complete-message"},o("Upload complete! Next, select a file to use."))},AssetsFooter.prototype.render=function render(){var e=this.props,t=e.selectedAssets,n=e.hideSelectButton,a=e.onCancel,s=!_(t).isEmpty(),u=i({active:s});return r.createElement("footer",{className:"asset-browser-footer"},this.renderUploadStatus(),r.createElement("button",{onClick:a},o("Cancel")),!n&&r.createElement("button",{className:u,onClick:this.addSelectedAssets,disabled:!s},o("Select")))},AssetsFooter}(r.Component),t.propTypes={selectedAssets:r.PropTypes.array,uploadedAssets:r.PropTypes.array,hideSelectButton:r.PropTypes.bool,onSelect:r.PropTypes.func.isRequired,onCancel:r.PropTypes.func.isRequired},n);module.exports=a}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("AwHF"))},YIyV:function(module,exports,e){var t,n;t=[e,exports,module],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var e=function Session(e){var t=e.courseId,n=e.endedAt,r=e.enrollmentEndedAt,o=e.id,i=e.isPrivate,a=e.startedAt;_classCallCheck(this,Session),this.courseId=t,this.endedAt=n,this.enrollmentEndedAt=r,this.id=o,this.isPrivate=i,this.startedAt=a};module.exports=e}.apply(exports,t))&&(module.exports=n)},YSnZ:function(module,exports,e){var t=e("Vdgd");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},Yfxk:function(module,exports,e){var t,n;t=[e,exports,module,e("MVpu"),e("rq/u")],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=function(){function defineProperties(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),n=e("MVpu"),r=e("rq/u"),o=function(){function AuthoringEvaluator(e){var t=e.id,o=e.draft,i=e.testCases,a=e.metadata;_classCallCheck(this,AuthoringEvaluator),this.id=t,this.metadata=a,this.testCases=i.map(function(e){return new r(e)}),this.draft=new n(o)}return AuthoringEvaluator.getUnversionedId=function getUnversionedId(e){return e.split("@")[0]},AuthoringEvaluator.prototype.toJSON=function toJSON(){var e=this.id,t=this.metadata;return{id:e,draft:this.draft.toJSON(),testCases:this.testCases.map(function(e){return e.toJSON()}),metadata:t}},t(AuthoringEvaluator,[{key:"versionedId",get:function get(){return this.id+"@"+this.metadata.publishedVersion}}]),AuthoringEvaluator}();module.exports=o}.apply(exports,t))&&(module.exports=n)},ZOC2:function(module,exports){},ZdJC:function(module,exports,e){var t=e("eIVn");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},Zxy5:function(module,exports){},a8cF:function(module,exports,e){var t,n;t=[e,exports,module,e("Usxh")],void 0!==(n=function(require,exports,module){"use strict";var t=e("Usxh"),n={initializeCourseAsset:function initializeCourseAsset(e,n){return this.assetManager=new t,this.actionContext=e,this.assetManager.initializeBulkUploader(n.container,n.assetType,{context:{courseId:n.courseId},pendingAssetCreation:{typeName:"pending",pdfTemplate:n.pdfTemplate,tags:[]},assetCreationUrl:"/api/authoringAssetCreationAttempts.v1"}),this.assetManager},initializeInsightAsset:function initializeInsightAsset(e,n){return this.assetManager=new t,this.actionContext=e,this.assetManager.initializeBulkUploader(n.container,n.assetType,{insightId:n.insightId,pendingAssetCreation:{typeName:"pending",pdfTemplate:n.pdfTemplate,tags:[]},assetCreationUrl:"/api/insightAssetCreations.v1"}),this.assetManager},openFileBrowser:function openFileBrowser(){this.assetManager.selectFile()},startUpload:function startUpload(){this.assetManager.upload()},getProgressPercentage:function getProgressPercentage(e){var t=e.bytes_received,n=e.bytes_expected;return Math.round(t/n*100)}};module.exports=n}.apply(exports,t))&&(module.exports=n)},aJPl:function(module,exports,e){!function webpackUniversalModuleDefinition(e,t){var n,r;module.exports=t()}(this,function(){return function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var module=t[n]={exports:{},id:n,loaded:!1};return e[n].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,e){var t=e(1),n=e(6);module.exports=function(){return function(e){function findBlockContainer(t){for(;t&&!e.element.isBlockElement(t);)t=t.parentNode;return t}function handleRightClick(t){var r=t.target||t.toElement;if(!r)return;var i=n.findTableCell(e,r),a=n.findTable(e,i);a&&(t.preventDefault(),t.stopPropagation(),o.show(a,i))}var r=new e.api.Command("insertTable"),o=new t(e);r.nodeName="TABLE",r.execute=function(){var t=n.createTable(3,3);e.transactionManager.run(function(){var r=new e.api.Selection,o=findBlockContainer(r.range.endContainer),i=o.nextSibling;i?e.el.insertBefore(t,i):(e.el.appendChild(t),e.el.appendChild(document.createElement("p")));var a=t.childNodes[0],s=a.childNodes[0],u=s.childNodes[0];n.select(e,u)})},r.queryState=function(){return(new e.api.Selection).getContaining(function(e){return e.nodeName===this.nodeName}.bind(this))},r.queryEnabled=function(){return!0},e.el.addEventListener("contextmenu",handleRightClick),e.commands.table=r}}},function(module,exports,e){e(2);var t=e(6),n=[{text:"Insert row above",run:function(e,n,r,o,i){var a=i.rowIndex;t.hasHeader(n)&&(a-=1),t.insertRow(e,n,a)},test:function(e,t){return"TBODY"===t.parentNode.parentNode.nodeName}},{text:"Insert row below",run:function(e,n,r,o,i){var a=i.rowIndex+1;t.hasHeader(n)&&(a-=1),t.insertRow(e,n,a)},test:function(e,t){return"TBODY"===t.parentNode.parentNode.nodeName}},{text:"Insert column left",run:function(e,n,r,o,i){t.insertColumn(e,n,i.columnIndex)}},{text:"Insert column right",run:function(e,n,r,o,i){t.insertColumn(e,n,i.columnIndex+1)}},{text:"Insert header",run:function(e,n,r,o,i){t.insertHeader(n)},test:function(e,n){return null===t.getFirstTypeOfNode(e,"THEAD")}},{text:"Remove header",run:function(e,n,r,o,i){t.removeHeader(e,n)},test:function(e,t){return"THEAD"===t.parentNode.parentNode.nodeName}},{text:"Remove row headers",run:function(e,n,r,o,i){t.removeRowHeaders(e,n)},test:function(e,n){return t.hasRowHeaders(e)}},{text:"Insert footer",run:function(e,n,r,o,i){t.insertFooter(n)},test:function(e,n){return null===t.getFirstTypeOfNode(e,"TFOOT")}},{text:"Delete footer",run:function(e,n,r,o,i){t.removeFooter(e,n)},test:function(e,t){return"TFOOT"===t.parentNode.parentNode.nodeName}},{text:"Delete row",run:function(e,n,r,o,i){var a=i.rowIndex;t.hasHeader(n)&&(a-=1),t.removeRow(e,n,a)},test:function(e,t){return"TBODY"===t.parentNode.parentNode.nodeName}},{text:"Delete column",run:function(e,n,r,o,i){t.removeColumn(e,n,i.columnIndex)}},{text:"Delete table",run:function(e,n,r,o,i){t.removeTable(e,n)}}],r="scribe-table-context-menu",o="scribe-table-context-menu-action",i=function(e){for(var t=0,n=0;e;)t+=e.offsetTop,n+=e.offsetLeft,e!==document.body&&(t-=e.scrollTop),e=e.offsetParent;return{top:t,left:n}},a=function(e){return this.show=function(a,s){this.hide();var u=document.createElement("div"),c=i(s);u.className=r,u.style.top=c.top+20+"px",u.style.left=c.left+20+"px";var l=t.findCellPosition(a,s);n.forEach(function(t){if(t.test&&!t.test(a,s))return;var n=document.createElement("div");n.className=o,n.textContent=t.text,n.addEventListener("click",function(n){n.preventDefault(),n.stopPropagation(),t.run(e,a,s,t,l),this.hide()}.bind(this)),u.appendChild(n)}.bind(this)),document.body.appendChild(u),document.addEventListener("click",function(e){3!==e.which&&this.hide()}.bind(this))},this.hide=function(){var e=document.getElementsByClassName(r)[0];e&&e.parentNode.removeChild(e),document.removeEventListener("click",this.hide)},this};module.exports=a},function(module,exports){},,,,function(module,exports){const e="<header>",t="<row header>",n="&lt;row header&gt;";var r={createTableCell:function(e,t){e=e||"td";var n=document.createElement(e);if(t){var r=document.createTextNode(t);n.appendChild(r)}return n},createTableRow:function(e,t,n,o){for(var i,a,s,u=document.createElement("tr"),c=0;c<e;c++)i=!1,a=t||"td",s=n||"",0===c&&o&&(i=!0,a="th",s="<row header>"),u.appendChild(r.createTableCell(a,s));return u},createTable:function(e,t){for(var n=document.createElement("table"),o=document.createElement("tbody"),i=0;i<e;i++)o.appendChild(r.createTableRow(t,null,null,!0));return n.appendChild(o),this.insertHeader(n),n},getTableBody:function(e){for(var t=e.childNodes,n=0;n<t.length;n++){var r=t[n];if("TBODY"===r.nodeName)return r}return null},hasHeader:function(e){for(var t=e.childNodes,n=0;n<t.length;n++){if("THEAD"===t[n].nodeName)return!0}return!1},hasRowHeaders:function(e){for(var t=r.getTableBody(e),n=t.childNodes,o=0;o<n.length;o++){if("TH"===n[o].childNodes[0].nodeName)return!0}return!1},getColumnCount:function(e){for(var t=r.getAllRows(e),n=0,o=0;o<t.length;o++){var i=t[o].childNodes.length;i>n&&(n=i)}return n},getBodyRowCount:function(e){return r.getTableBody(e).childNodes.length},getAllRows:function(e){for(var t=[],n=e.childNodes,r=0;r<n.length;r++){var o=n[r];Array.prototype.push.apply(t,Array.prototype.slice.call(o.childNodes))}return t},getFirstTypeOfNode:function(e,t){for(var n=e.childNodes,r=0;r<n.length;r++)if(n[r].nodeName===t)return n[r];return null},findTable:function(e,t){for(;t&&t!==e.el&&"TABLE"!==t.nodeName;)t=t.parentNode;return t&&"TABLE"!==t.nodeName&&(t=null),t},findTableCell:function(e,t){for(;t&&t!==e.el&&"TD"!==t.nodeName&&"TH"!==t.nodeName;)t=t.parentNode;return t&&"TD"!==t.nodeName&&"TH"!==t.nodeName&&(t=null),t},findCellPosition:function(e,t){var n=r.getAllRows(e),o={rowIndex:-1,columnIndex:-1};return n.every(function(e,n){if(Array.prototype.slice.call(e.childNodes).every(function(e,r){if(e===t)return o={rowIndex:n,columnIndex:r},!1;return!0}),-1!==o.rowIndex)return!1;return!0}),o},insertRow:function(e,t,n){var o=r.getColumnCount(t),i=r.getTableBody(t),a=r.hasRowHeaders(t),s=i.childNodes[n],u=r.createTableRow(o,null,null,a);e.transactionManager.run(function(){i.insertBefore(u,s),this.select(e,u.childNodes[0])}.bind(this))},removeRow:function(e,t,n){if(1===this.getBodyRowCount(t))return void this.removeTable(e,t);var o=r.getTableBody(t),i=o.childNodes[n];e.transactionManager.run(function(){o.removeChild(i),n>=r.getBodyRowCount(t)&&n--,this.select(e,o.childNodes[n].childNodes[0])}.bind(this))},insertColumn:function(e,t,n){var o=r.getAllRows(t),i=r.hasHeader(t),a=r.hasRowHeaders(t),s,u;e.transactionManager.run(function(){o.forEach(function(e,t){u=0===t&&i?"<header>":"",s=a?e.childNodes[1].nodeName:e.childNodes[0].nodeName;var o=r.createTableCell(s,u);e.insertBefore(o,e.childNodes[n])});for(var t=0;t<o.length;t++){var c=o[t];if(c.childNodes.length>n){this.select(e,c.childNodes[n]);break}}}.bind(this))},removeColumn:function(e,t,n){var o=this.getColumnCount(t),i=r.getTableBody(t),a=r.getAllRows(t);if(1===o)return void this.removeTable(e,t);e.transactionManager.run(function(){a.forEach(function(e){e.removeChild(e.childNodes[n])}),this.select(e,i.childNodes[0].childNodes[0])}.bind(this))},insertHeader:function(e){var t=document.createElement("thead");t.appendChild(r.createTableRow(r.getColumnCount(e),"th","<header>")),e.insertBefore(t,e.childNodes[0])},insertFooter:function(e){var t=document.createElement("tfoot");t.appendChild(r.createTableRow(r.getColumnCount(e))),e.appendChild(t)},removeHeader:function(e,t){var n=r.getFirstTypeOfNode(t,"THEAD");e.transactionManager.run(function(){t.removeChild(n)}.bind(this))},removeFooter:function(e,t){var n=r.getFirstTypeOfNode(t,"TFOOT");e.transactionManager.run(function(){t.removeChild(n)}.bind(this))},removeRowHeaders:function(e,t){if(r.hasRowHeaders(t))for(var n=r.getTableBody(t),o=n.childNodes,i=0;i<o.length;i++){var a=o[i],s=a.childNodes[0];s.outerHTML=s.outerHTML.replace("<th>","<td>").replace("</th>","</td>").replace("&lt;row header&gt;","")}},removeTable:function(e,t){e.transactionManager.run(function(){e.el.removeChild(t),this.select(e,e.el.childNodes[0])}.bind(this))},select:function(e,t){var n=new e.api.Selection;n.range.setStart(t,0),n.range.collapse(!0),n.selection.removeAllRanges(),n.selection.addRange(n.range)}};module.exports=r}])})},bIbn:function(module,exports){},bTVN:function(module,exports){},c3Je:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("0LCM")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t=e("U7vG");e("0LCM");var n=function(e){function BounceLoader(){return _classCallCheck(this,BounceLoader),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(BounceLoader,e),BounceLoader.prototype.render=function render(){return t.createElement("div",{className:"rc-BounceLoader"},t.createElement("div",{className:"spinner"},t.createElement("div",{className:"bounce1"}),t.createElement("div",{className:"bounce2"}),t.createElement("div",{className:"bounce3"})))},BounceLoader}(t.Component);module.exports=n}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},cL62:function(module,exports,e){var t,n;t=[e,exports,module],void 0!==(n=function(require,exports,module){"use strict";module.exports={storeNames:{BRANCHES_STORE:"BranchesStore",SESSIONS_STORE:"SessionsStore",BRANCH_SELECTION_STORE:"BranchSelectionStore",COURSE_MATERIAL_STORE:"CourseMaterialStore"},branchStatus:{LIVE:"live",ARCHIVED:"archived",PENDING:"pending",NEW:"new",UPCOMING:"upcoming",CREATING:"creating"},ALL_BRANCHES:"ALL_BRANCHES"}}.apply(exports,t))&&(module.exports=n)},dLLr:function(module,exports,e){var t,n;t=[e,exports,module,e("cL62"),e("Dvip")],void 0!==(n=function(require,exports,module){"use strict";function branchSelection(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,n=arguments[1],r=Object.assign({},e);switch(n.type){case"SELECT_BRANCH":return t({},r,{selection:n.branchId});case"LOAD_BRANCH":return t({},r,{branch:n.branch});default:return r}}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n=e("cL62"),r=n.storeNames,o=e("Dvip"),i={selection:null};exports.store=o(branchSelection,r.BRANCH_SELECTION_STORE,["SELECT_BRANCH","LOAD_BRANCH"],i),exports.reducer=branchSelection}.apply(exports,t))&&(module.exports=n)},dgM5:function(module,exports,e){(function($){var t,n,r,o,i,a,s,u,c;!function(o,i){n=i,r={id:"sifter",exports:{},loaded:!1},t="function"==typeof n?n.call(r.exports,e,r.exports,r):n,r.loaded=!0,void 0===t&&(t=r.exports)}(this,function(){var e=function(e,t){this.items=e,this.settings=t||{diacritics:!0}};e.prototype.tokenize=function(e){if(!(e=r(String(e||"").toLowerCase()))||!e.length)return[];var t,n,i,s,u=[],c=e.split(/ +/);for(t=0,n=c.length;t<n;t++){if(i=o(c[t]),this.settings.diacritics)for(s in a)a.hasOwnProperty(s)&&(i=i.replace(new RegExp(s,"g"),a[s]));u.push({string:c[t],regex:new RegExp(i,"i")})}return u},e.prototype.iterator=function(e,t){var n;n=i(e)?Array.prototype.forEach||function(e){for(var t=0,n=this.length;t<n;t++)e(this[t],t,this)}:function(e){for(var t in this)this.hasOwnProperty(t)&&e(this[t],t,this)},n.apply(e,[t])},e.prototype.getScoreFunction=function(e,t){var n,r,o,i;n=this,e=n.prepareSearch(e,t),o=e.tokens,r=e.options.fields,i=o.length;var a=function(e,t){var n,r;if(!e)return 0;if(e=String(e||""),-1===(r=e.search(t.regex)))return 0;return n=t.string.length/e.length,0===r&&(n+=.5),n},s=function(){var e=r.length;if(!e)return function(){return 0};if(1===e)return function(e,t){return a(t[r[0]],e)};return function(t,n){for(var o=0,i=0;o<e;o++)i+=a(n[r[o]],t);return i/e}}();if(!i)return function(){return 0};if(1===i)return function(e){return s(o[0],e)};return"and"===e.options.conjunction?function(e){for(var t,n=0,r=0;n<i;n++){if((t=s(o[n],e))<=0)return 0;r+=t}return r/i}:function(e){for(var t=0,n=0;t<i;t++)n+=s(o[t],e);return n/i}},e.prototype.getSortFunction=function(e,n){var r,o,i,a,s,u,c,l,p,d,f;if(i=this,e=i.prepareSearch(e,n),f=!e.query&&n.sort_empty||n.sort,p=function(e,t){if("$score"===e)return t.score;return i.items[t.id][e]},s=[],f)for(r=0,o=f.length;r<o;r++)(e.query||"$score"!==f[r].field)&&s.push(f[r]);if(e.query){for(d=!0,r=0,o=s.length;r<o;r++)if("$score"===s[r].field){d=!1;break}d&&s.unshift({field:"$score",direction:"desc"})}else for(r=0,o=s.length;r<o;r++)if("$score"===s[r].field){s.splice(r,1);break}for(l=[],r=0,o=s.length;r<o;r++)l.push("desc"===s[r].direction?-1:1);return u=s.length,u?1===u?(a=s[0].field,c=l[0],function(e,n){return c*t(p(a,e),p(a,n))}):function(e,n){var r,o,i,a,c;for(r=0;r<u;r++)if(c=s[r].field,o=l[r]*t(p(c,e),p(c,n)))return o;return 0}:null},e.prototype.prepareSearch=function(e,t){if("object"==typeof e)return e;t=n({},t);var r=t.fields,o=t.sort,a=t.sort_empty;return r&&!i(r)&&(t.fields=[r]),o&&!i(o)&&(t.sort=[o]),a&&!i(a)&&(t.sort_empty=[a]),{options:t,query:String(e||"").toLowerCase(),tokens:this.tokenize(e),total:0,items:[]}},e.prototype.search=function(e,t){var n=this,r,o,i,a,s,u;return i=this.prepareSearch(e,t),t=i.options,e=i.query,u=t.score||n.getScoreFunction(i),e.length?n.iterator(n.items,function(e,n){o=u(e),(!1===t.filter||o>0)&&i.items.push({score:o,id:n})}):n.iterator(n.items,function(e,t){i.items.push({score:1,id:t})}),s=n.getSortFunction(i,t),s&&i.items.sort(s),i.total=i.items.length,"number"==typeof t.limit&&(i.items=i.items.slice(0,t.limit)),i};var t=function(e,t){if("number"==typeof e&&"number"==typeof t)return e>t?1:e<t?-1:0;if(e=s(String(e||"")),t=s(String(t||"")),e>t)return 1;if(t>e)return-1;return 0},n=function(e,t){var n,r,o,i;for(n=1,r=arguments.length;n<r;n++){if(!(i=arguments[n]))continue;for(o in i)i.hasOwnProperty(o)&&(e[o]=i[o])}return e},r=function(e){return(e+"").replace(/^\s+|\s+$|/g,"")},o=function(e){return(e+"").replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")},i=Array.isArray||$&&$.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},a={a:"[aÀÁÂÃÄÅàáâãäåĀāąĄ]",c:"[cÇçćĆčČ]",d:"[dđĐďĎ]",e:"[eÈÉÊËèéêëěĚĒēęĘ]",i:"[iÌÍÎÏìíîïĪī]",l:"[lłŁ]",n:"[nÑñňŇńŃ]",o:"[oÒÓÔÕÕÖØòóôõöøŌō]",r:"[rřŘ]",s:"[sŠšśŚ]",t:"[tťŤ]",u:"[uÙÚÛÜùúûüůŮŪū]",y:"[yŸÿýÝ]",z:"[zŽžżŻźŹ]"},s=function(){var e,t,n,r,o="",i={};for(n in a)if(a.hasOwnProperty(n))for(r=a[n].substring(2,a[n].length-1),o+=r,e=0,t=r.length;e<t;e++)i[r.charAt(e)]=n;var s=new RegExp("["+o+"]","g");return function(e){return e.replace(s,function(e){return i[e]}).toLowerCase()}}();return e}),function(t,n){i=n,a={id:"microplugin",exports:{},loaded:!1},o="function"==typeof i?i.call(a.exports,e,a.exports,a):i,a.loaded=!0,void 0===o&&(o=a.exports)}(this,function(){var e={};e.mixin=function(e){e.plugins={},e.prototype.initializePlugins=function(e){var n,r,o,i=this,a=[];if(i.plugins={names:[],settings:{},requested:{},loaded:{}},t.isArray(e))for(n=0,r=e.length;n<r;n++)"string"==typeof e[n]?a.push(e[n]):(i.plugins.settings[e[n].name]=e[n].options,a.push(e[n].name));else if(e)for(o in e)e.hasOwnProperty(o)&&(i.plugins.settings[o]=e[o],a.push(o));for(;a.length;)i.require(a.shift())},e.prototype.loadPlugin=function(t){var n=this,r=n.plugins,o=e.plugins[t];if(!e.plugins.hasOwnProperty(t))throw new Error('Unable to find "'+t+'" plugin');r.requested[t]=!0,r.loaded[t]=o.fn.apply(n,[n.plugins.settings[t]||{}]),r.names.push(t)},e.prototype.require=function(e){var t=this,n=t.plugins;if(!t.plugins.loaded.hasOwnProperty(e)){if(n.requested[e])throw new Error('Plugin has circular dependency ("'+e+'")');t.loadPlugin(e)}return n.loaded[e]},e.define=function(t,n){e.plugins[t]={name:t,fn:n}}};var t={isArray:Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)}};return e}),function(n,r){u=[e("4+j2"),t,o],s=r,void 0!==(c="function"==typeof s?s.apply(exports,u):s)&&(module.exports=c)}(this,function($,e,t){"use strict";var n=function(e,t){if("string"==typeof t&&!t.length)return;var n="string"==typeof t?new RegExp(t,"i"):t,r=function(e){var t=0;if(3===e.nodeType){var o=e.data.search(n);if(o>=0&&e.data.length>0){var i=e.data.match(n),a=document.createElement("span");a.className="highlight";var s=e.splitText(o),u=s.splitText(i[0].length),c=s.cloneNode(!0);a.appendChild(c),s.parentNode.replaceChild(a,s),t=1}}else if(1===e.nodeType&&e.childNodes&&!/(script|style)/i.test(e.tagName))for(var l=0;l<e.childNodes.length;++l)l+=r(e.childNodes[l]);return t};return e.each(function(){r(this)})},r=function(){};r.prototype={on:function(e,t){this._events=this._events||{},this._events[e]=this._events[e]||[],this._events[e].push(t)},off:function(e,t){var n=arguments.length;if(0===n)return delete this._events;if(1===n)return delete this._events[e];if(this._events=this._events||{},e in this._events==!1)return;this._events[e].splice(this._events[e].indexOf(t),1)},trigger:function(e){if(this._events=this._events||{},e in this._events==!1)return;for(var t=0;t<this._events[e].length;t++)this._events[e][t].apply(this,Array.prototype.slice.call(arguments,1))}},r.mixin=function(e){for(var t=["on","off","trigger"],n=0;n<t.length;n++)e.prototype[t[n]]=r.prototype[t[n]]};var o=/Mac/.test(navigator.userAgent),i=65,a=188,s=13,u=27,c=37,l=38,p=80,d=39,f=40,h=78,v=8,m=46,g=16,y=o?91:17,C=o?18:17,b=9,E=1,w=2,T=!/android/i.test(window.navigator.userAgent)&&!!document.createElement("form").validity,S=function(e){return void 0!==e},O=function(e){if(void 0===e||null===e)return null;if("boolean"==typeof e)return e?"1":"0";return e+""},x=function(e){return(e+"").replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;")},R=function(e){return(e+"").replace(/\$/g,"$$$$")},A={};A.before=function(e,t,n){var r=e[t];e[t]=function(){return n.apply(e,arguments),r.apply(e,arguments)}},A.after=function(e,t,n){var r=e[t];e[t]=function(){var t=r.apply(e,arguments);return n.apply(e,arguments),t}};var P=function(e){var t=!1;return function(){if(t)return;t=!0,e.apply(this,arguments)}},I=function(e,t){var n;return function(){var r=this,o=arguments;window.clearTimeout(n),n=window.setTimeout(function(){e.apply(r,o)},t)}},N=function(e,t,n){var r,o=e.trigger,i={};e.trigger=function(){var n=arguments[0];if(-1===t.indexOf(n))return o.apply(e,arguments);i[n]=arguments},n.apply(e,[]),e.trigger=o;for(r in i)i.hasOwnProperty(r)&&o.apply(e,i[r])},k=function(e,t,n,r){e.on(t,n,function(t){for(var n=t.target;n&&n.parentNode!==e[0];)n=n.parentNode;return t.currentTarget=n,r.apply(this,[t])})},M=function(e){var t={};if("selectionStart"in e)t.start=e.selectionStart,t.length=e.selectionEnd-t.start;else if(document.selection){e.focus();var n=document.selection.createRange(),r=document.selection.createRange().text.length;n.moveStart("character",-e.value.length),t.start=n.text.length-r,t.length=r}return t},L=function(e,t,n){var r,o,i={};if(n)for(r=0,o=n.length;r<o;r++)i[n[r]]=e.css(n[r]);else i=e.css();t.css(i)},D=function(e,t){if(!e)return 0;var n=$("<test>").css({position:"absolute",top:-99999,left:-99999,width:"auto",padding:0,whiteSpace:"pre"}).text(e).appendTo("body");L(t,n,["letterSpacing","fontSize","fontFamily","fontWeight","textTransform"]);var r=n.width();return n.remove(),r},j=function(e){var t=null,n=function(n,r){var o,i,a,s,u,c,l,p;if(n=n||window.event||{},r=r||{},n.metaKey||n.altKey)return;if(!r.force&&!1===e.data("grow"))return;o=e.val(),n.type&&"keydown"===n.type.toLowerCase()&&(i=n.keyCode,a=i>=97&&i<=122||i>=65&&i<=90||i>=48&&i<=57||32===i,46===i||8===i?(p=M(e[0]),p.length?o=o.substring(0,p.start)+o.substring(p.start+p.length):8===i&&p.start?o=o.substring(0,p.start-1)+o.substring(p.start+1):46===i&&void 0!==p.start&&(o=o.substring(0,p.start)+o.substring(p.start+1))):a&&(c=n.shiftKey,l=String.fromCharCode(n.keyCode),l=c?l.toUpperCase():l.toLowerCase(),o+=l)),s=e.attr("placeholder"),!o&&s&&(o=s),(u=D(o,e)+4)!==t&&(t=u,e.width(u),e.triggerHandler("resize"))};e.on("keydown keyup update blur",n),n()},F=function(t,n){var r,o,i,a,s,u=this;s=t[0],s.selectize=u;var c=window.getComputedStyle&&window.getComputedStyle(s,null);if(a=c?c.getPropertyValue("direction"):s.currentStyle&&s.currentStyle.direction,a=a||t.parents("[dir]:first").attr("dir")||"",$.extend(u,{order:0,settings:n,$input:t,tabIndex:t.attr("tabindex")||"",tagType:"select"===s.tagName.toLowerCase()?1:2,rtl:/rtl/i.test(a),eventNS:".selectize"+ ++F.count,highlightedValue:null,isOpen:!1,isDisabled:!1,isRequired:t.is("[required]"),isInvalid:!1,isLocked:!1,isFocused:!1,isInputHidden:!1,isSetup:!1,isShiftDown:!1,isCmdDown:!1,isCtrlDown:!1,ignoreFocus:!1,ignoreBlur:!1,ignoreHover:!1,hasOptions:!1,currentResults:null,lastValue:"",caretPos:0,loading:0,loadedSearches:{},$activeOption:null,$activeItems:[],optgroups:{},options:{},userOptions:{},items:[],renderCache:{},onSearchChange:null===n.loadThrottle?u.onSearchChange:I(u.onSearchChange,n.loadThrottle)}),u.sifter=new e(this.options,{diacritics:n.diacritics}),u.settings.options){for(o=0,i=u.settings.options.length;o<i;o++)u.registerOption(u.settings.options[o]);delete u.settings.options}if(u.settings.optgroups){for(o=0,i=u.settings.optgroups.length;o<i;o++)u.registerOptionGroup(u.settings.optgroups[o]);delete u.settings.optgroups}u.settings.mode=u.settings.mode||(1===u.settings.maxItems?"single":"multi"),"boolean"!=typeof u.settings.hideSelected&&(u.settings.hideSelected="multi"===u.settings.mode),u.initializePlugins(u.settings.plugins),u.setupCallbacks(),u.setupTemplates(),u.setup()};return r.mixin(F),t.mixin(F),$.extend(F.prototype,{setup:function(){var e=this,t=e.settings,n=e.eventNS,r=$(window),i=$(document),a=e.$input,s,u,c,l,p,d,f,h,v,m,g;if(f=e.settings.mode,m=a.attr("class")||"",s=$("<div>").addClass(t.wrapperClass).addClass(m).addClass(f),u=$("<div>").addClass(t.inputClass).addClass("items").appendTo(s),c=$('<input type="text" autocomplete="off" />').appendTo(u).attr("tabindex",a.is(":disabled")?"-1":e.tabIndex),d=$(t.dropdownParent||s),l=$("<div>").addClass(t.dropdownClass).addClass(f).hide().appendTo(d),p=$("<div>").addClass(t.dropdownContentClass).appendTo(l),e.settings.copyClassesToDropdown&&l.addClass(m),s.css({width:a[0].style.width}),e.plugins.names.length&&(g="plugin-"+e.plugins.names.join(" plugin-"),s.addClass(g),l.addClass(g)),(null===t.maxItems||t.maxItems>1)&&1===e.tagType&&a.attr("multiple","multiple"),e.settings.placeholder&&c.attr("placeholder",t.placeholder),!e.settings.splitOn&&e.settings.delimiter){var b=e.settings.delimiter.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&");e.settings.splitOn=new RegExp("\\s*"+b+"+\\s*")}a.attr("autocorrect")&&c.attr("autocorrect",a.attr("autocorrect")),a.attr("autocapitalize")&&c.attr("autocapitalize",a.attr("autocapitalize")),e.$wrapper=s,e.$control=u,e.$control_input=c,e.$dropdown=l,e.$dropdown_content=p,l.on("mouseenter","[data-selectable]",function(){return e.onOptionHover.apply(e,arguments)}),l.on("mousedown click","[data-selectable]",function(){return e.onOptionSelect.apply(e,arguments)}),k(u,"mousedown","*:not(input)",function(){return e.onItemSelect.apply(e,arguments)}),j(c),u.on({mousedown:function(){return e.onMouseDown.apply(e,arguments)},click:function(){return e.onClick.apply(e,arguments)}}),c.on({mousedown:function(e){e.stopPropagation()},keydown:function(){return e.onKeyDown.apply(e,arguments)},keyup:function(){return e.onKeyUp.apply(e,arguments)},keypress:function(){return e.onKeyPress.apply(e,arguments)},resize:function(){e.positionDropdown.apply(e,[])},blur:function(){return e.onBlur.apply(e,arguments)},focus:function(){return e.ignoreBlur=!1,e.onFocus.apply(e,arguments)},paste:function(){return e.onPaste.apply(e,arguments)}}),i.on("keydown"+n,function(t){e.isCmdDown=t[o?"metaKey":"ctrlKey"],e.isCtrlDown=t[o?"altKey":"ctrlKey"],e.isShiftDown=t.shiftKey}),i.on("keyup"+n,function(t){t.keyCode===C&&(e.isCtrlDown=!1),16===t.keyCode&&(e.isShiftDown=!1),t.keyCode===y&&(e.isCmdDown=!1)}),i.on("mousedown"+n,function(t){if(e.isFocused){if(t.target===e.$dropdown[0]||t.target.parentNode===e.$dropdown[0])return!1;e.$control.has(t.target).length||t.target===e.$control[0]||e.blur(t.target)}}),r.on(["scroll"+n,"resize"+n].join(" "),function(){e.isOpen&&e.positionDropdown.apply(e,arguments)}),r.on("mousemove"+n,function(){e.ignoreHover=!1}),this.revertSettings={$children:a.children().detach(),tabindex:a.attr("tabindex")},a.attr("tabindex",-1).hide().after(e.$wrapper),$.isArray(t.items)&&(e.setValue(t.items),delete t.items),T&&a.on("invalid"+n,function(t){t.preventDefault(),e.isInvalid=!0,e.refreshState()}),e.updateOriginalInput(),e.refreshItems(),e.refreshState(),e.updatePlaceholder(),e.isSetup=!0,a.is(":disabled")&&e.disable(),e.on("change",this.onChange),a.data("selectize",e),a.addClass("selectized"),e.trigger("initialize"),!0===t.preload&&e.onSearchChange("")},setupTemplates:function(){var e=this,t=e.settings.labelField,n=e.settings.optgroupLabelField,r={optgroup:function(e){return'<div class="optgroup">'+e.html+"</div>"},optgroup_header:function(e,t){return'<div class="optgroup-header">'+t(e[n])+"</div>"},option:function(e,n){return'<div class="option">'+n(e[t])+"</div>"},item:function(e,n){return'<div class="item">'+n(e[t])+"</div>"},option_create:function(e,t){return'<div class="create">Add <strong>'+t(e.input)+"</strong>&hellip;</div>"}};e.settings.render=$.extend({},r,e.settings.render)},setupCallbacks:function(){var e,t,n={initialize:"onInitialize",change:"onChange",item_add:"onItemAdd",item_remove:"onItemRemove",clear:"onClear",option_add:"onOptionAdd",option_remove:"onOptionRemove",option_clear:"onOptionClear",optgroup_add:"onOptionGroupAdd",optgroup_remove:"onOptionGroupRemove",optgroup_clear:"onOptionGroupClear",dropdown_open:"onDropdownOpen",dropdown_close:"onDropdownClose",type:"onType",load:"onLoad",focus:"onFocus",blur:"onBlur"};for(e in n)n.hasOwnProperty(e)&&(t=this.settings[n[e]])&&this.on(e,t)},onClick:function(e){var t=this;t.isFocused||(t.focus(),e.preventDefault())},onMouseDown:function(e){var t=this,n=e.isDefaultPrevented(),r=$(e.target);if(t.isFocused){if(e.target!==t.$control_input[0])return"single"===t.settings.mode?t.isOpen?t.close():t.open():n||t.setActiveItem(null),!1}else n||window.setTimeout(function(){t.focus()},0)},onChange:function(){this.$input.trigger("change")},onPaste:function(e){var t=this;t.isFull()||t.isInputHidden||t.isLocked?e.preventDefault():t.settings.splitOn&&setTimeout(function(){for(var e=$.trim(t.$control_input.val()||"").split(t.settings.splitOn),n=0,r=e.length;n<r;n++)t.createItem(e[n])},0)},onKeyPress:function(e){if(this.isLocked)return e&&e.preventDefault();var t=String.fromCharCode(e.keyCode||e.which);if(this.settings.create&&"multi"===this.settings.mode&&t===this.settings.delimiter)return this.createItem(),e.preventDefault(),!1},onKeyDown:function(e){var t=e.target===this.$control_input[0],n=this;if(n.isLocked)return void(9!==e.keyCode&&e.preventDefault());switch(e.keyCode){case 65:if(n.isCmdDown)return void n.selectAll();break;case 27:return void(n.isOpen&&(e.preventDefault(),e.stopPropagation(),n.close()));case 78:if(!e.ctrlKey||e.altKey)break;case 40:if(!n.isOpen&&n.hasOptions)n.open();else if(n.$activeOption){n.ignoreHover=!0;var r=n.getAdjacentOption(n.$activeOption,1);r.length&&n.setActiveOption(r,!0,!0)}return void e.preventDefault();case 80:if(!e.ctrlKey||e.altKey)break;case 38:if(n.$activeOption){n.ignoreHover=!0;var i=n.getAdjacentOption(n.$activeOption,-1);i.length&&n.setActiveOption(i,!0,!0)}return void e.preventDefault();case 13:return void(n.isOpen&&n.$activeOption&&(n.onOptionSelect({currentTarget:n.$activeOption}),e.preventDefault()));case 37:return void n.advanceSelection(-1,e);case 39:return void n.advanceSelection(1,e);case 9:return n.settings.selectOnTab&&n.isOpen&&n.$activeOption&&(n.onOptionSelect({currentTarget:n.$activeOption}),n.isFull()||e.preventDefault()),void(n.settings.create&&n.createItem()&&e.preventDefault());case 8:case 46:return void n.deleteSelection(e)}if((n.isFull()||n.isInputHidden)&&!(o?e.metaKey:e.ctrlKey))return void e.preventDefault()},onKeyUp:function(e){var t=this;if(t.isLocked)return e&&e.preventDefault();var n=t.$control_input.val()||"";t.lastValue!==n&&(t.lastValue=n,t.onSearchChange(n),t.refreshOptions(),t.trigger("type",n))},onSearchChange:function(e){var t=this,n=t.settings.load;if(!n)return;if(t.loadedSearches.hasOwnProperty(e))return;t.loadedSearches[e]=!0,t.load(function(r){n.apply(t,[e,r])})},onFocus:function(e){var t=this,n=t.isFocused;if(t.isDisabled)return t.blur(),e&&e.preventDefault(),!1;if(t.ignoreFocus)return;t.isFocused=!0,"focus"===t.settings.preload&&t.onSearchChange(""),n||t.trigger("focus"),t.$activeItems.length||(t.showInput(),t.setActiveItem(null),t.refreshOptions(!!t.settings.openOnFocus)),t.refreshState()},onBlur:function(e,t){var n=this;if(!n.isFocused)return;if(n.isFocused=!1,n.ignoreFocus)return;if(!n.ignoreBlur&&document.activeElement===n.$dropdown_content[0])return n.ignoreBlur=!0,void n.onFocus(e);var r=function(){n.close(),n.setTextboxValue(""),n.setActiveItem(null),n.setActiveOption(null),n.setCaret(n.items.length),n.refreshState(),(t||document.body).focus(),n.ignoreFocus=!1,n.trigger("blur")};n.ignoreFocus=!0,n.settings.create&&n.settings.createOnBlur?n.createItem(null,!1,r):r()},onOptionHover:function(e){if(this.ignoreHover)return;this.setActiveOption(e.currentTarget,!1)},onOptionSelect:function(e){var t,n,r,o=this;e.preventDefault&&(e.preventDefault(),e.stopPropagation()),n=$(e.currentTarget),n.hasClass("create")?o.createItem(null,function(){o.settings.closeAfterSelect&&o.close()}):void 0!==(t=n.attr("data-value"))&&(o.lastQuery=null,o.setTextboxValue(""),o.addItem(t),o.settings.closeAfterSelect?o.close():!o.settings.hideSelected&&e.type&&/mouse/.test(e.type)&&o.setActiveOption(o.getOption(t)))},onItemSelect:function(e){var t=this;if(t.isLocked)return;"multi"===t.settings.mode&&(e.preventDefault(),t.setActiveItem(e.currentTarget,e))},load:function(e){var t=this,n=t.$wrapper.addClass(t.settings.loadingClass);t.loading++,e.apply(t,[function(e){t.loading=Math.max(t.loading-1,0),e&&e.length&&(t.addOption(e),t.refreshOptions(t.isFocused&&!t.isInputHidden)),t.loading||n.removeClass(t.settings.loadingClass),t.trigger("load",e)}])},setTextboxValue:function(e){var t=this.$control_input;t.val()!==e&&(t.val(e).triggerHandler("update"),this.lastValue=e)},getValue:function(){return 1===this.tagType&&this.$input.attr("multiple")?this.items:this.items.join(this.settings.delimiter)},setValue:function(e,t){N(this,t?[]:["change"],function(){this.clear(t),this.addItems(e,t)})},setActiveItem:function(e,t){var n=this,r,o,i,a,s,u,c,l;if("single"===n.settings.mode)return;if(e=$(e),!e.length)return $(n.$activeItems).removeClass("active"),n.$activeItems=[],void(n.isFocused&&n.showInput());if("mousedown"===(r=t&&t.type.toLowerCase())&&n.isShiftDown&&n.$activeItems.length){for(l=n.$control.children(".active:last"),a=Array.prototype.indexOf.apply(n.$control[0].childNodes,[l[0]]),s=Array.prototype.indexOf.apply(n.$control[0].childNodes,[e[0]]),a>s&&(c=a,a=s,s=c),o=a;o<=s;o++)u=n.$control[0].childNodes[o],-1===n.$activeItems.indexOf(u)&&($(u).addClass("active"),n.$activeItems.push(u));t.preventDefault()}else"mousedown"===r&&n.isCtrlDown||"keydown"===r&&this.isShiftDown?e.hasClass("active")?(i=n.$activeItems.indexOf(e[0]),n.$activeItems.splice(i,1),e.removeClass("active")):n.$activeItems.push(e.addClass("active")[0]):($(n.$activeItems).removeClass("active"),n.$activeItems=[e.addClass("active")[0]]);n.hideInput(),this.isFocused||n.focus()},setActiveOption:function(e,t,n){var r,o,i,a,s,u=this;if(u.$activeOption&&u.$activeOption.removeClass("active"),u.$activeOption=null,e=$(e),!e.length)return;u.$activeOption=e.addClass("active"),!t&&S(t)||(r=u.$dropdown_content.height(),o=u.$activeOption.outerHeight(!0),t=u.$dropdown_content.scrollTop()||0,i=u.$activeOption.offset().top-u.$dropdown_content.offset().top+t,a=i,s=i-r+o,i+o>r+t?u.$dropdown_content.stop().animate({scrollTop:s},n?u.settings.scrollDuration:0):i<t&&u.$dropdown_content.stop().animate({scrollTop:a},n?u.settings.scrollDuration:0))},selectAll:function(){var e=this;if("single"===e.settings.mode)return;e.$activeItems=Array.prototype.slice.apply(e.$control.children(":not(input)").addClass("active")),e.$activeItems.length&&(e.hideInput(),e.close()),e.focus()},hideInput:function(){var e=this;e.setTextboxValue(""),e.$control_input.css({opacity:0,position:"absolute",left:e.rtl?1e4:-1e4}),e.isInputHidden=!0},showInput:function(){this.$control_input.css({opacity:1,position:"relative",left:0}),this.isInputHidden=!1},focus:function(){var e=this;if(e.isDisabled)return;e.ignoreFocus=!0,e.$control_input[0].focus(),window.setTimeout(function(){e.ignoreFocus=!1,e.onFocus()},0)},blur:function(e){this.$control_input[0].blur(),this.onBlur(null,e)},getScoreFunction:function(e){return this.sifter.getScoreFunction(e,this.getSearchOptions())},getSearchOptions:function(){var e=this.settings,t=e.sortField;return"string"==typeof t&&(t=[{field:t}]),{fields:e.searchField,conjunction:e.searchConjunction,sort:t}},search:function(e){var t,n,r,o,i,a=this,s=a.settings,u=this.getSearchOptions();if(s.score&&"function"!=typeof(i=a.settings.score.apply(this,[e])))throw new Error('Selectize "score" setting must be a function that returns a function');if(e!==a.lastQuery?(a.lastQuery=e,o=a.sifter.search(e,$.extend(u,{score:i})),a.currentResults=o):o=$.extend(!0,{},a.currentResults),s.hideSelected)for(t=o.items.length-1;t>=0;t--)-1!==a.items.indexOf(O(o.items[t].id))&&o.items.splice(t,1);return o},refreshOptions:function(e){var t,r,o,i,a,s,u,c,l,p,d,f,h,v,m,g;void 0===e&&(e=!0);var y=this,C=$.trim(y.$control_input.val()),b=y.search(C),E=y.$dropdown_content,w=y.$activeOption&&O(y.$activeOption.attr("data-value"));for(i=b.items.length,"number"==typeof y.settings.maxOptions&&(i=Math.min(i,y.settings.maxOptions)),a={},s=[],t=0;t<i;t++)for(u=y.options[b.items[t].id],c=y.render("option",u),l=u[y.settings.optgroupField]||"",p=$.isArray(l)?l:[l],r=0,o=p&&p.length;r<o;r++)l=p[r],y.optgroups.hasOwnProperty(l)||(l=""),a.hasOwnProperty(l)||(a[l]=[],s.push(l)),a[l].push(c);for(this.settings.lockOptgroupOrder&&s.sort(function(e,t){return(y.optgroups[e].$order||0)-(y.optgroups[t].$order||0)}),d=[],t=0,i=s.length;t<i;t++)l=s[t],y.optgroups.hasOwnProperty(l)&&a[l].length?(f=y.render("optgroup_header",y.optgroups[l])||"",f+=a[l].join(""),d.push(y.render("optgroup",$.extend({},y.optgroups[l],{html:f})))):d.push(a[l].join(""));if(E.html(d.join("")),y.settings.highlight&&b.query.length&&b.tokens.length)for(t=0,i=b.tokens.length;t<i;t++)n(E,b.tokens[t].regex);if(!y.settings.hideSelected)for(t=0,i=y.items.length;t<i;t++)y.getOption(y.items[t]).addClass("selected");h=y.canCreate(C),h&&(E.prepend(y.render("option_create",{input:C})),g=$(E[0].childNodes[0])),y.hasOptions=b.items.length>0||h,y.hasOptions?(b.items.length>0?(m=w&&y.getOption(w),m&&m.length?v=m:"single"===y.settings.mode&&y.items.length&&(v=y.getOption(y.items[0])),v&&v.length||(v=g&&!y.settings.addPrecedence?y.getAdjacentOption(g,1):E.find("[data-selectable]:first"))):v=g,y.setActiveOption(v),e&&!y.isOpen&&y.open()):(y.setActiveOption(null),e&&y.isOpen&&y.close())},addOption:function(e){var t,n,r,o=this;if($.isArray(e)){for(t=0,n=e.length;t<n;t++)o.addOption(e[t]);return}(r=o.registerOption(e))&&(o.userOptions[r]=!0,o.lastQuery=null,o.trigger("option_add",r,e))},registerOption:function(e){var t=O(e[this.settings.valueField]);if(!t||this.options.hasOwnProperty(t))return!1;return e.$order=e.$order||++this.order,this.options[t]=e,t},registerOptionGroup:function(e){var t=O(e[this.settings.optgroupValueField]);if(!t)return!1;return e.$order=e.$order||++this.order,this.optgroups[t]=e,t},addOptionGroup:function(e,t){t[this.settings.optgroupValueField]=e,(e=this.registerOptionGroup(t))&&this.trigger("optgroup_add",e,t)},removeOptionGroup:function(e){this.optgroups.hasOwnProperty(e)&&(delete this.optgroups[e],this.renderCache={},this.trigger("optgroup_remove",e))},clearOptionGroups:function(){this.optgroups={},this.renderCache={},this.trigger("optgroup_clear")},updateOption:function(e,t){var n=this,r,o,i,a,s,u,c;if(e=O(e),i=O(t[n.settings.valueField]),null===e)return;if(!n.options.hasOwnProperty(e))return;if("string"!=typeof i)throw new Error("Value must be set in option data");c=n.options[e].$order,i!==e&&(delete n.options[e],-1!==(a=n.items.indexOf(e))&&n.items.splice(a,1,i)),t.$order=t.$order||c,n.options[i]=t,s=n.renderCache.item,u=n.renderCache.option,s&&(delete s[e],delete s[i]),u&&(delete u[e],delete u[i]),-1!==n.items.indexOf(i)&&(r=n.getItem(e),o=$(n.render("item",t)),r.hasClass("active")&&o.addClass("active"),r.replaceWith(o)),n.lastQuery=null,n.isOpen&&n.refreshOptions(!1)},removeOption:function(e,t){var n=this;e=O(e);var r=n.renderCache.item,o=n.renderCache.option;r&&delete r[e],o&&delete o[e],delete n.userOptions[e],delete n.options[e],n.lastQuery=null,n.trigger("option_remove",e),n.removeItem(e,t)},clearOptions:function(){var e=this;e.loadedSearches={},e.userOptions={},e.renderCache={},e.options=e.sifter.items={},e.lastQuery=null,e.trigger("option_clear"),e.clear()},getOption:function(e){return this.getElementWithValue(e,this.$dropdown_content.find("[data-selectable]"))},getAdjacentOption:function(e,t){var n=this.$dropdown.find("[data-selectable]"),r=n.index(e)+t;return r>=0&&r<n.length?n.eq(r):$()},getElementWithValue:function(e,t){if(void 0!==(e=O(e))&&null!==e)for(var n=0,r=t.length;n<r;n++)if(t[n].getAttribute("data-value")===e)return $(t[n]);return $()},getItem:function(e){return this.getElementWithValue(e,this.$control.children())},addItems:function(e,t){for(var n=$.isArray(e)?e:[e],r=0,o=n.length;r<o;r++)this.isPending=r<o-1,this.addItem(n[r],t)},addItem:function(e,t){N(this,t?[]:["change"],function(){var n,r,o,i=this,a=i.settings.mode,s,u,c,l;if(e=O(e),-1!==i.items.indexOf(e))return void("single"===a&&i.close());if(!i.options.hasOwnProperty(e))return;if("single"===a&&i.clear(t),"multi"===a&&i.isFull())return;n=$(i.render("item",i.options[e])),l=i.isFull(),i.items.splice(i.caretPos,0,e),i.insertAtCaret(n),(!i.isPending||!l&&i.isFull())&&i.refreshState(),i.isSetup&&(o=i.$dropdown_content.find("[data-selectable]"),i.isPending||(r=i.getOption(e),c=i.getAdjacentOption(r,1).attr("data-value"),i.refreshOptions(i.isFocused&&"single"!==a),c&&i.setActiveOption(i.getOption(c))),!o.length||i.isFull()?i.close():i.positionDropdown(),i.updatePlaceholder(),i.trigger("item_add",e,n),i.updateOriginalInput({silent:t}))})},removeItem:function(e,t){var n=this,r,o,i;r="object"==typeof e?e:n.getItem(e),e=O(r.attr("data-value")),-1!==(o=n.items.indexOf(e))&&(r.remove(),r.hasClass("active")&&(i=n.$activeItems.indexOf(r[0]),n.$activeItems.splice(i,1)),n.items.splice(o,1),n.lastQuery=null,!n.settings.persist&&n.userOptions.hasOwnProperty(e)&&n.removeOption(e,t),o<n.caretPos&&n.setCaret(n.caretPos-1),n.refreshState(),n.updatePlaceholder(),n.updateOriginalInput({silent:t}),n.positionDropdown(),n.trigger("item_remove",e,r))},createItem:function(e,t){var n=this,r=n.caretPos;e=e||$.trim(n.$control_input.val()||"");var o=arguments[arguments.length-1];if("function"!=typeof o&&(o=function(){}),"boolean"!=typeof t&&(t=!0),!n.canCreate(e))return o(),!1;n.lock();var i="function"==typeof n.settings.create?this.settings.create:function(e){var t={};return t[n.settings.labelField]=e,t[n.settings.valueField]=e,t},a=P(function(e){if(n.unlock(),!e||"object"!=typeof e)return o();var i=O(e[n.settings.valueField]);if("string"!=typeof i)return o();n.setTextboxValue(""),n.addOption(e),n.setCaret(r),n.addItem(i),n.refreshOptions(t&&"single"!==n.settings.mode),o(e)}),s=i.apply(this,[e,a]);return void 0!==s&&a(s),!0},refreshItems:function(){this.lastQuery=null,this.isSetup&&this.addItem(this.items),this.refreshState(),this.updateOriginalInput()},refreshState:function(){var e,t=this;t.isRequired&&(t.items.length&&(t.isInvalid=!1),t.$control_input.prop("required",void 0)),t.refreshClasses()},refreshClasses:function(){var e=this,t=e.isFull(),n=e.isLocked;e.$wrapper.toggleClass("rtl",e.rtl),e.$control.toggleClass("focus",e.isFocused).toggleClass("disabled",e.isDisabled).toggleClass("required",e.isRequired).toggleClass("invalid",e.isInvalid).toggleClass("locked",n).toggleClass("full",t).toggleClass("not-full",!t).toggleClass("input-active",e.isFocused&&!e.isInputHidden).toggleClass("dropdown-active",e.isOpen).toggleClass("has-options",!$.isEmptyObject(e.options)).toggleClass("has-items",e.items.length>0),e.$control_input.data("grow",!t&&!n)},isFull:function(){return null!==this.settings.maxItems&&this.items.length>=this.settings.maxItems},updateOriginalInput:function(e){var t,n,r,o,i=this;if(e=e||{},1===i.tagType){for(r=[],t=0,n=i.items.length;t<n;t++)o=i.options[i.items[t]][i.settings.labelField]||"",r.push('<option value="'+x(i.items[t])+'" selected="selected">'+x(o)+"</option>");r.length||this.$input.attr("multiple")||r.push('<option value="" selected="selected"></option>'),i.$input.html(r.join(""))}else i.$input.val(i.getValue()),i.$input.attr("value",i.$input.val());i.isSetup&&(e.silent||i.trigger("change",i.$input.val()))},updatePlaceholder:function(){if(!this.settings.placeholder)return;var e=this.$control_input;this.items.length?e.removeAttr("placeholder"):e.attr("placeholder",this.settings.placeholder),e.triggerHandler("update",{force:!0})},open:function(){var e=this;if(e.isLocked||e.isOpen||"multi"===e.settings.mode&&e.isFull())return;e.focus(),e.isOpen=!0,e.refreshState(),e.$dropdown.css({visibility:"hidden",display:"block"}),e.positionDropdown(),e.$dropdown.css({visibility:"visible"}),e.trigger("dropdown_open",e.$dropdown)},close:function(){var e=this,t=e.isOpen;"single"===e.settings.mode&&e.items.length&&e.hideInput(),e.isOpen=!1,e.$dropdown.hide(),e.setActiveOption(null),e.refreshState(),t&&e.trigger("dropdown_close",e.$dropdown)},positionDropdown:function(){var e=this.$control,t="body"===this.settings.dropdownParent?e.offset():e.position();t.top+=e.outerHeight(!0),this.$dropdown.css({width:e.outerWidth(),top:t.top,left:t.left})},clear:function(e){var t=this;if(!t.items.length)return;t.$control.children(":not(input)").remove(),t.items=[],t.lastQuery=null,t.setCaret(0),t.setActiveItem(null),t.updatePlaceholder(),t.updateOriginalInput({silent:e}),t.refreshState(),t.showInput(),t.trigger("clear")},insertAtCaret:function(e){var t=Math.min(this.caretPos,this.items.length);0===t?this.$control.prepend(e):$(this.$control[0].childNodes[t]).before(e),this.setCaret(t+1)},deleteSelection:function(e){var t,n,r,o,i,a,s,u,c,l=this;if(r=e&&8===e.keyCode?-1:1,o=M(l.$control_input[0]),l.$activeOption&&!l.settings.hideSelected&&(s=l.getAdjacentOption(l.$activeOption,-1).attr("data-value")),i=[],l.$activeItems.length){for(c=l.$control.children(".active:"+(r>0?"last":"first")),a=l.$control.children(":not(input)").index(c),r>0&&a++,t=0,n=l.$activeItems.length;t<n;t++)i.push($(l.$activeItems[t]).attr("data-value"));e&&(e.preventDefault(),e.stopPropagation())}else(l.isFocused||"single"===l.settings.mode)&&l.items.length&&(r<0&&0===o.start&&0===o.length?i.push(l.items[l.caretPos-1]):r>0&&o.start===l.$control_input.val().length&&i.push(l.items[l.caretPos]));if(!i.length||"function"==typeof l.settings.onDelete&&!1===l.settings.onDelete.apply(l,[i]))return!1;for(void 0!==a&&l.setCaret(a);i.length;)l.removeItem(i.pop());return l.showInput(),l.positionDropdown(),l.refreshOptions(!0),s&&(u=l.getOption(s),u.length&&l.setActiveOption(u)),!0},advanceSelection:function(e,t){var n,r,o,i,a,s,u=this;if(0===e)return;u.rtl&&(e*=-1),n=e>0?"last":"first",r=M(u.$control_input[0]),u.isFocused&&!u.isInputHidden?(i=u.$control_input.val().length,(a=e<0?0===r.start&&0===r.length:r.start===i)&&!i&&u.advanceCaret(e,t)):(s=u.$control.children(".active:"+n),s.length&&(o=u.$control.children(":not(input)").index(s),u.setActiveItem(null),u.setCaret(e>0?o+1:o)))},advanceCaret:function(e,t){var n=this,r,o;if(0===e)return;r=e>0?"next":"prev",n.isShiftDown?(o=n.$control_input[r](),o.length&&(n.hideInput(),n.setActiveItem(o),t&&t.preventDefault())):n.setCaret(n.caretPos+e)},setCaret:function(e){var t=this;if(e="single"===t.settings.mode?t.items.length:Math.max(0,Math.min(t.items.length,e)),!t.isPending){var n,r,o,i,a;for(i=t.$control.children(":not(input)"),n=0,r=i.length;n<r;n++)a=$(i[n]).detach(),n<e?t.$control_input.before(a):t.$control.append(a)}t.caretPos=e},lock:function(){this.close(),this.isLocked=!0,this.refreshState()},unlock:function(){this.isLocked=!1,this.refreshState()},disable:function(){var e=this;e.$input.prop("disabled",!0),e.$control_input.prop("disabled",!0).prop("tabindex",-1),e.isDisabled=!0,e.lock()},enable:function(){var e=this;e.$input.prop("disabled",!1),e.$control_input.prop("disabled",!1).prop("tabindex",e.tabIndex),e.isDisabled=!1,e.unlock()},destroy:function(){var e=this,t=e.eventNS,n=e.revertSettings;e.trigger("destroy"),e.off(),e.$wrapper.remove(),e.$dropdown.remove(),e.$input.html("").append(n.$children).removeAttr("tabindex").removeClass("selectized").attr({tabindex:n.tabindex}).show(),e.$control_input.removeData("grow"),e.$input.removeData("selectize"),$(window).off(t),$(document).off(t),$(document.body).off(t),delete e.$input[0].selectize},render:function(e,t){var n,r,o,i="",a=!1,s=this,u=/^[\t \r\n]*<([a-z][a-z0-9\-_]*(?:\:[a-z][a-z0-9\-_]*)?)/i;if("option"!==e&&"item"!==e||(n=O(t[s.settings.valueField]),a=!!n),a&&(S(s.renderCache[e])||(s.renderCache[e]={}),s.renderCache[e].hasOwnProperty(n)))return s.renderCache[e][n];return i=s.settings.render[e].apply(this,[t,x]),"option"!==e&&"option_create"!==e||(i=i.replace(u,"<$1 data-selectable")),"optgroup"===e&&(r=t[s.settings.optgroupValueField]||"",i=i.replace(u,'<$1 data-group="'+R(x(r))+'"')),"option"!==e&&"item"!==e||(i=i.replace(u,'<$1 data-value="'+R(x(n||""))+'"')),a&&(s.renderCache[e][n]=i),i},clearCache:function(e){var t=this;void 0===e?t.renderCache={}:delete t.renderCache[e]},canCreate:function(e){var t=this;if(!t.settings.create)return!1;var n=t.settings.createFilter;return e.length&&("function"!=typeof n||n.apply(t,[e]))&&("string"!=typeof n||new RegExp(n).test(e))&&(!(n instanceof RegExp)||n.test(e))}}),F.count=0,F.defaults={options:[],optgroups:[],plugins:[],delimiter:",",splitOn:null,persist:!0,diacritics:!0,create:!1,createOnBlur:!1,createFilter:null,highlight:!0,openOnFocus:!0,maxOptions:1e3,maxItems:null,hideSelected:null,addPrecedence:!1,selectOnTab:!1,preload:!1,allowEmptyOption:!1,closeAfterSelect:!1,scrollDuration:60,loadThrottle:300,loadingClass:"loading",dataAttr:"data-data",optgroupField:"optgroup",valueField:"value",labelField:"text",optgroupLabelField:"label",optgroupValueField:"value",lockOptgroupOrder:!1,sortField:"$order",searchField:["text"],searchConjunction:"and",mode:null,wrapperClass:"selectize-control",inputClass:"selectize-input",dropdownClass:"selectize-dropdown",dropdownContentClass:"selectize-dropdown-content",dropdownParent:null,copyClassesToDropdown:!0,render:{}},$.fn.selectize=function(e){var t=$.fn.selectize.defaults,n=$.extend({},t,e),r=n.dataAttr,o=n.labelField,i=n.valueField,a=n.optgroupField,s=n.optgroupLabelField,u=n.optgroupValueField,c=function(e,t){var a,s,u,c,l=e.attr(r);if(l)for(t.options=JSON.parse(l),a=0,s=t.options.length;a<s;a++)t.items.push(t.options[a][i]);else{var p=$.trim(e.val()||"");if(!n.allowEmptyOption&&!p.length)return;for(u=p.split(n.delimiter),a=0,s=u.length;a<s;a++)c={},c[o]=u[a],c[i]=u[a],t.options.push(c);t.items=u}},l=function(e,t){var c,l,p,d,f=0,h=t.options,v={},m=function(e){var t=r&&e.attr(r);if("string"==typeof t&&t.length)return JSON.parse(t);return null},g=function(e,r){e=$(e);var s=O(e.attr("value"));if(!s&&!n.allowEmptyOption)return;if(v.hasOwnProperty(s)){if(r){var u=v[s][a];u?$.isArray(u)?u.push(r):v[s][a]=[u,r]:v[s][a]=r}return}var c=m(e)||{};c[o]=c[o]||e.text(),c[i]=c[i]||s,c[a]=c[a]||r,v[s]=c,h.push(c),e.is(":selected")&&t.items.push(s)},y=function(e){var n,r,o,i,a;for(e=$(e),o=e.attr("label"),o&&(i=m(e)||{},i[s]=o,i[u]=o,t.optgroups.push(i)),a=$("option",e),n=0,r=a.length;n<r;n++)g(a[n],o)};for(t.maxItems=e.attr("multiple")?null:1,d=e.children(),c=0,l=d.length;c<l;c++)p=d[c].tagName.toLowerCase(),"optgroup"===p?y(d[c]):"option"===p&&g(d[c])};return this.each(function(){if(this.selectize)return;var r,o=$(this),i=this.tagName.toLowerCase(),a=o.attr("placeholder")||o.attr("data-placeholder");a||n.allowEmptyOption||(a=o.children('option[value=""]').text());var s={placeholder:a,options:[],optgroups:[],items:[]};"select"===i?l(o,s):c(o,s),r=new F(o,$.extend(!0,{},t,s,e))})},$.fn.selectize.defaults=F.defaults,$.fn.selectize.support={validity:T},F.define("drag_drop",function(e){if(!$.fn.sortable)throw new Error('The "drag_drop" plugin requires jQuery UI "sortable".');if("multi"!==this.settings.mode)return;var t=this;t.lock=function(){var e=t.lock;return function(){var n=t.$control.data("sortable");return n&&n.disable(),e.apply(t,arguments)}}(),t.unlock=function(){var e=t.unlock;return function(){var n=t.$control.data("sortable");return n&&n.enable(),e.apply(t,arguments)}}(),t.setup=function(){var e=t.setup;return function(){e.apply(this,arguments);var n=t.$control.sortable({items:"[data-value]",forcePlaceholderSize:!0,disabled:t.isLocked,start:function(e,t){t.placeholder.css("width",t.helper.css("width")),n.css({overflow:"visible"})},stop:function(){n.css({overflow:"hidden"});var e=t.$activeItems?t.$activeItems.slice():null,r=[];n.children("[data-value]").each(function(){r.push($(this).attr("data-value"))}),t.setValue(r),t.setActiveItem(e)}})}}()}),F.define("dropdown_header",function(e){var t=this;e=$.extend({title:"Untitled",headerClass:"selectize-dropdown-header",titleRowClass:"selectize-dropdown-header-title",labelClass:"selectize-dropdown-header-label",closeClass:"selectize-dropdown-header-close",html:function(e){return'<div class="'+e.headerClass+'"><div class="'+e.titleRowClass+'"><span class="'+e.labelClass+'">'+e.title+'</span><a href="javascript:void(0)" class="'+e.closeClass+'">&times;</a></div></div>'}},e),t.setup=function(){var n=t.setup;return function(){n.apply(t,arguments),t.$dropdown_header=$(e.html(e)),t.$dropdown.prepend(t.$dropdown_header)}}()}),F.define("optgroup_columns",function(e){var t=this;e=$.extend({equalizeWidth:!0,equalizeHeight:!0},e),this.getAdjacentOption=function(e,t){var n=e.closest("[data-group]").find("[data-selectable]"),r=n.index(e)+t;return r>=0&&r<n.length?n.eq(r):$()},this.onKeyDown=function(){var e=t.onKeyDown;return function(n){var r,o,i,a;if(this.isOpen&&(37===n.keyCode||39===n.keyCode))return t.ignoreHover=!0,a=this.$activeOption.closest("[data-group]"),r=a.find("[data-selectable]").index(this.$activeOption),a=37===n.keyCode?a.prev("[data-group]"):a.next("[data-group]"),i=a.find("[data-selectable]"),o=i.eq(Math.min(i.length-1,r)),void(o.length&&this.setActiveOption(o));return e.apply(this,arguments)}}();var n=function(){var e,t=n.width,r=document;return void 0===t&&(e=r.createElement("div"),e.innerHTML='<div style="width:50px;height:50px;position:absolute;left:-50px;top:-50px;overflow:auto;"><div style="width:1px;height:100px;"></div></div>',e=e.firstChild,r.body.appendChild(e),t=n.width=e.offsetWidth-e.clientWidth,r.body.removeChild(e)),t},r=function(){var r,o,i,a,s,u,c;if(c=$("[data-group]",t.$dropdown_content),!(o=c.length)||!t.$dropdown_content.width())return;if(e.equalizeHeight){for(i=0,r=0;r<o;r++)i=Math.max(i,c.eq(r).height());c.css({height:i})}e.equalizeWidth&&(u=t.$dropdown_content.innerWidth()-n(),a=Math.round(u/o),c.css({width:a}),o>1&&(s=u-a*(o-1),c.eq(o-1).css({width:s})))};(e.equalizeHeight||e.equalizeWidth)&&(A.after(this,"positionDropdown",r),A.after(this,"refreshOptions",r))}),F.define("remove_button",function(e){if("single"===this.settings.mode)return;e=$.extend({label:"&times;",title:"Remove",className:"remove",append:!0},e);var t=this,n='<a href="javascript:void(0)" class="'+e.className+'" tabindex="-1" title="'+x(e.title)+'">'+e.label+"</a>",r=function(e,t){var n=e.search(/(<\/[^>]+>\s*)$/);return e.substring(0,n)+t+e.substring(n)};this.setup=function(){var o=t.setup;return function(){if(e.append){var i=t.settings.render.item;t.settings.render.item=function(e){return r(i.apply(this,arguments),n)}}o.apply(this,arguments),this.$control.on("click","."+e.className,function(e){if(e.preventDefault(),t.isLocked)return;var n=$(e.currentTarget).parent();t.setActiveItem(n),t.deleteSelection()&&t.setCaret(t.items.length)})}}()}),F.define("restore_on_backspace",function(e){var t=this;e.text=e.text||function(e){return e[this.settings.labelField]},this.onKeyDown=function(){var n=t.onKeyDown;return function(t){var r,o;if(8===t.keyCode&&""===this.$control_input.val()&&!this.$activeItems.length&&(r=this.caretPos-1)>=0&&r<this.items.length)return o=this.options[this.items[r]],this.deleteSelection(t)&&(this.setTextboxValue(e.text.apply(this,[o])),this.refreshOptions(!0)),void t.preventDefault();return n.apply(this,arguments)}}()}),F})}).call(exports,e("4+j2"))},dgf4:function(module,exports,e){var t,n;t=[e,exports,module],void 0!==(n=function(require,exports,module){"use strict";var e={IDLE:"idle",IN_PROGRESS:"inProgress",FAILED:"failed",SUCCESS:"success"};module.exports=e}.apply(exports,t))&&(module.exports=n)},dmUG:function(module,exports,e){var t,n;t=[e,exports,module],void 0!==(n=function(require,exports,module){"use strict";var e={findBlockContainer:function findBlockContainer(e,t){for(var n=t;n&&!e.element.isBlockElement(n);)n=n.parentNode;return n},findSelectedElement:function findSelectedElement(t){var n=new t.api.Selection,r=n.range.endContainer;return e.findBlockContainer(t,r)},isEmptyParagraphBlock:function isEmptyParagraphBlock(t,n){var r=e.findBlockContainer(t,n),o=r.textContent.replace(/\n\r?/g,"");return"P"===r.nodeName&&""===o}};module.exports=e}.apply(exports,t))&&(module.exports=n)},dv31:function(module,exports,e){var t,n;t=[e],void 0!==(n=function(require){/*!
 * Shim for MutationObserver interface
 * Author: Graeme Yeates (github.com/megawac)
 * Repository: https://github.com/megawac/MutationObserver.js
 * License: WTFPL V2, 2004 (wtfpl.net).
 * Though credit and staring the repo will make me feel pretty, you can modify and redistribute as you please.
 * Attempts to follow spec (http:// www.w3.org/TR/dom/#mutation-observers) as closely as possible for native javascript
 * See https://github.com/WebKit/webkit/blob/master/Source/WebCore/dom/MutationObserver.cpp for current webkit source c++ implementation
 */
window.MutationObserver=window.MutationObserver||window.WebKitMutationObserver||window.MozMutationObserver||function(e){"use strict";function MutationObserver(e){this._watched=[],this._listener=e}function startMutationChecker(e){!function check(){var t=e.takeRecords();t.length&&e._listener(t,e),e._timeout=setTimeout(check,MutationObserver._period)}()}function MutationRecord(t){var n={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(var r in t)has(n,r)&&t[r]!==e&&(n[r]=t[r]);return n}function createMutationSearcher(e,t){var n=clone(e,t);return function(r){var o=r.length,i;t.attr&&n.attr&&findAttributeMutations(r,e,n.attr,t.afilter),(t.kids||t.descendents)&&(i=searchSubtree(r,e,n,t)),(i||r.length!==o)&&(n=clone(e,t))}}function findAttributeMutations(e,t,n,r){for(var o={},i=t.attributes,a,s,u=i.length;u--;)a=i[u],s=a.name,r&&!has(r,s)||(a.value!==n[s]&&e.push(MutationRecord({type:"attributes",target:t,attributeName:s,oldValue:n[s],attributeNamespace:a.namespaceURI})),o[s]=!0);for(s in n)o[s]||e.push(MutationRecord({target:t,type:"attributes",attributeName:s,oldValue:n[s]}))}function searchSubtree(t,n,r,o){function resolveConflicts(e,n,r,i,a){for(var s=e.length-1,u=-~((s-a)/2),c,l,p;p=e.pop();)c=r[p.i],l=i[p.j],o.kids&&u&&Math.abs(p.i-p.j)>=s&&(t.push(MutationRecord({type:"childList",target:n,addedNodes:[c],removedNodes:[c],nextSibling:c.nextSibling,previousSibling:c.previousSibling})),u--),o.attr&&l.attr&&findAttributeMutations(t,c,l.attr,o.afilter),o.charData&&3===c.nodeType&&c.nodeValue!==l.charData&&t.push(MutationRecord({type:"characterData",target:c})),o.descendents&&findMutations(c,l)}function findMutations(n,r){for(var a=n.childNodes,s=r.kids,u=a.length,c=s?s.length:0,l,p,d,f,h,v,m,g=0,y=0,C=0;y<u||C<c;)v=a[y],h=s[C],m=h&&h.node,v===m?(o.attr&&h.attr&&findAttributeMutations(t,v,h.attr,o.afilter),o.charData&&h.charData!==e&&v.nodeValue!==h.charData&&t.push(MutationRecord({type:"characterData",target:v})),p&&resolveConflicts(p,n,a,s,g),o.descendents&&(v.childNodes.length||h.kids&&h.kids.length)&&findMutations(v,h),y++,C++):(i=!0,l||(l={},p=[]),v&&(l[d=getElementId(v)]||(l[d]=!0,-1===(f=indexOfCustomNode(s,v,C))?o.kids&&(t.push(MutationRecord({type:"childList",target:n,addedNodes:[v],nextSibling:v.nextSibling,previousSibling:v.previousSibling})),g++):p.push({i:y,j:f})),y++),m&&m!==a[y]&&(l[d=getElementId(m)]||(l[d]=!0,-1===(f=indexOf(a,m,y))?o.kids&&(t.push(MutationRecord({type:"childList",target:r.node,removedNodes:[m],nextSibling:s[C+1],previousSibling:s[C-1]})),g--):p.push({i:f,j:C})),C++));p&&resolveConflicts(p,n,a,s,g)}var i;return findMutations(n,r),i}function clone(e,t){var n=!0;return function copy(e){var r={node:e};return!t.charData||3!==e.nodeType&&8!==e.nodeType?(t.attr&&n&&1===e.nodeType&&(r.attr=reduce(e.attributes,function(e,n){return t.afilter&&!t.afilter[n.name]||(e[n.name]=n.value),e},{})),n&&(t.kids||t.charData||t.attr&&t.descendents)&&(r.kids=map(e.childNodes,copy)),n=t.descendents):r.charData=e.nodeValue,r}(e)}function indexOfCustomNode(e,t,n){return indexOf(e,t,n,JSCompiler_renameProperty("node"))}function getElementId(e){try{return e.id||(e[n]=e[n]||t++)}catch(n){try{return e.nodeValue}catch(e){return t++}}}function map(e,t){for(var n=[],r=0;r<e.length;r++)n[r]=t(e[r],r,e);return n}function reduce(e,t,n){for(var r=0;r<e.length;r++)n=t(n,e[r],r,e);return n}function indexOf(e,t,n,r){for(;n<e.length;n++)if((r?e[n][r]:e[n])===t)return n;return-1}function has(t,n){return t[n]!==e}function JSCompiler_renameProperty(e){return e}MutationObserver._period=30,MutationObserver.prototype={observe:function(e,t){for(var n={attr:!!(t.attributes||t.attributeFilter||t.attributeOldValue),kids:!!t.childList,descendents:!!t.subtree,charData:!(!t.characterData&&!t.characterDataOldValue)},r=this._watched,o=0;o<r.length;o++)r[o].tar===e&&r.splice(o,1);t.attributeFilter&&(n.afilter=reduce(t.attributeFilter,function(e,t){return e[t]=!0,e},{})),r.push({tar:e,fn:createMutationSearcher(e,n)}),this._timeout||startMutationChecker(this)},takeRecords:function(){for(var e=[],t=this._watched,n=0;n<t.length;n++)t[n].fn(e);return e},disconnect:function(){this._watched=[],clearTimeout(this._timeout),this._timeout=null}};var t=1,n="mo_id";return MutationObserver}(void 0)}.apply(exports,t))&&(module.exports=n)},eB4j:function(module,exports){},eIVn:function(module,exports){},eewZ:function(module,exports){},"fJ/n":function(module,exports){},"fJp/":function(module,exports,e){var t=e("zLfL");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},fLPY:function(module,exports,e){var t=e("bTVN");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},feex:function(module,exports){},fzz2:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("RL/C"),e("L+Qk"),e("PoP8"),e("9eZc"),e("z/6w"),e("tiDt")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r,o,i=e("U7vG"),a=e("RL/C"),s=e("L+Qk"),u=e("PoP8"),c=e("9eZc"),l=e("z/6w");e("tiDt");var p=(n=t=function(e){function ModalCloseX(){return _classCallCheck(this,ModalCloseX),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(ModalCloseX,e),ModalCloseX.prototype.render=function render(){var e="?";return i.createElement("a",{className:"nostyle close-x",onClick:this.props.onRequestClose,"aria-label":u("Close"),role:"button",href:"?",ref:"closeButton"},i.createElement(c,{name:"close"}))},ModalCloseX}(i.Component),t.propTypes={onRequestClose:i.PropTypes.func.isRequired},n),d=(o=r=function(e){function Modal(){var t,n,r;_classCallCheck(this,Modal);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.onRequestClose=function(){n.props.allowClose&&(l.trackComponent(n.context._eventData,n.props.data,n.props.trackingName,"close"),n.props.onRequestClose())},n.onRequestCloseX=function(e){e.preventDefault(),n.onRequestClose()},r=t,_possibleConstructorReturn(n,r)}return _inherits(Modal,e),Modal.prototype.componentDidMount=function componentDidMount(){l.trackComponent(this.context._eventData,this.props.data,this.props.trackingName,"show")},Modal.prototype.render=function render(){var e=s("rc-UIModal",this.props.size,this.props.className);return i.createElement(a,{className:e,overlayClassName:"rc-ModalOverlay",isOpen:this.props.isOpen,onAfterOpen:this.props.onAfterOpen,onRequestClose:this.onRequestClose},this.props.title&&i.createElement("h1",{className:"title headline-4-text flex-1"},this.props.title),this.props.allowClose&&i.createElement(p,{onRequestClose:this.onRequestCloseX}),this.props.children)},Modal}(i.Component),r.propTypes={isOpen:i.PropTypes.bool.isRequired,onRequestClose:i.PropTypes.func.isRequired,onAfterOpen:i.PropTypes.func,children:i.PropTypes.node.isRequired,title:i.PropTypes.string,allowClose:i.PropTypes.bool,size:i.PropTypes.oneOf(["default","small","large","x-large"]),className:i.PropTypes.string,trackingName:i.PropTypes.string,data:i.PropTypes.object},r.contextTypes={_eventData:i.PropTypes.object},r.defaultProps={size:"default",allowClose:!0,isOpen:!0},o);module.exports=d}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},gCvU:function(module,exports){exports.default={"es":true,"fr":true,"pseudo":true,"pt":true,"ru":true,"tr":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},gKGr:function(module,exports,e){var t=e("KxdE");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},gp0A:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("O27J"),e("Rw/m")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("O27J"),i=e("Rw/m"),a=(n=t=function(e){function CodeEditor(){var t,n,r;_classCallCheck(this,CodeEditor);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.state={aceEditor:null},r=t,_possibleConstructorReturn(n,r)}return _inherits(CodeEditor,e),CodeEditor.prototype.componentDidMount=function componentDidMount(){var e=this;i(function(t){var n=e.props,r=n.value,i=n.language,a=n.readOnly,s=n.onChange,u=n.maxLines,c=n.minLines,l=o.findDOMNode(e.refs.editor),p=new t({el:l,value:r,language:i,readOnly:a,onChange:s,maxLines:u,minLines:c});p.resizeHeight(),e.setState({aceEditor:p})})},CodeEditor.prototype.render=function render(){return r.createElement("div",{className:"rc-CodeEditor"},r.createElement("pre",{ref:"editor"}))},CodeEditor}(r.Component),t.propTypes={value:r.PropTypes.string,language:r.PropTypes.string,readOnly:r.PropTypes.bool,onChange:r.PropTypes.func,maxLines:r.PropTypes.number,minLines:r.PropTypes.number},t.defaultProps={value:""},n);module.exports=a}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},hObE:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=(n=t=function(e){function AuthorEvaluatorSectionCaption(){return _classCallCheck(this,AuthorEvaluatorSectionCaption),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(AuthorEvaluatorSectionCaption,e),AuthorEvaluatorSectionCaption.prototype.render=function render(){return r.createElement("div",{className:"rc-AuthorEvaluatorSectionCaption caption-text color-secondary-text",style:this.props.style},this.props.children)},AuthorEvaluatorSectionCaption}(r.Component),t.propTypes={children:r.PropTypes.node,style:r.PropTypes.object},n);module.exports=o}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},hPuR:function(module,exports,e){(function(t,_){var n,r;n=[e,exports,module,e("AwHF"),e("L+Qk"),e("U7vG"),e("O27J"),e("Qyzk"),e("rbLP"),e("85ju"),e("G894"),e("dgf4"),e("JBBR")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var t=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},n,r,o,i,a,_=e("AwHF"),s=e("L+Qk"),u=e("U7vG"),c=e("O27J"),l=e("Qyzk"),p=e("rbLP"),d=p.openFileBrowser,f=p.initializeUploader,h=e("85ju"),v=e("G894"),m=v.FormattedMessage,g=e("dgf4"),y=g.IDLE,C=g.IN_PROGRESS,b=g.FAILED,E=g.SUCCESS,w=(n={},_defineProperty(n,C,h("Uploading")),_defineProperty(n,b,h("Failed")),_defineProperty(n,E,h("Uploaded")),n);e("JBBR");var T=(o=r=function(e){function UploadList(){return _classCallCheck(this,UploadList),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(UploadList,e),UploadList.prototype.render=function render(){var e=this.props,t=e.status,n=e.files,r=w[t]||"";return u.createElement("ul",{className:"asset-files-list"},_(n).map(function(e){return u.createElement("li",{key:e.name},u.createElement("span",{className:"asset-file-name"},e.name),u.createElement("span",{className:"asset-file-status"},r))}))},UploadList}(u.Component),r.propTypes={files:u.PropTypes.array,status:u.PropTypes.string},o),S=(a=i=function(e){function AssetUploader(){var t,n,r;_classCallCheck(this,AssetUploader);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.state={isDropZoneActive:!1},n.handleDragEnter=function(e){e.preventDefault(),n.setState({isDropZoneActive:!0})},n.resetDropZone=function(){n.setState({isDropZoneActive:!1})},n.openFileBrowser=function(){n.context.executeAction(d)},r=t,_possibleConstructorReturn(n,r)}return _inherits(AssetUploader,e),AssetUploader.prototype.componentDidMount=function componentDidMount(){var e=this.props,n=e.assetType,r=e.pdfTemplate,o=e.assetContext,i=c.findDOMNode(this.refs.bulkUploadContainer);this.context.executeAction(f,t({},o,{assetType:n,pdfTemplate:r,container:i}))},AssetUploader.prototype.renderUploadFailure=function renderUploadFailure(){var e=this.props,t=e.uploadStatus,n=e.uploadAttempts;if(t.state!==b)return null;return u.createElement("div",{className:"upload-status-wrapper"},u.createElement(T,{files:n.success,status:E}),u.createElement(T,{files:n.error,status:b}))},AssetUploader.prototype.renderUploadedAssets=function renderUploadedAssets(){var e=this.props,t=e.uploadedAssets,n=e.selectedAssets,r=e.allowMultiple;if(!_(t).isEmpty())return u.createElement(l,{assets:t,allowMultiple:r,selectedAssets:n});return null},AssetUploader.prototype.renderUploader=function renderUploader(){var e=s("uploader-drop-zone-wrapper",{active:this.state.isDropZoneActive,hidden:this.props.uploadStatus.state!==y});return u.createElement("div",{ref:"fileDropZone",className:e,onDrop:this.resetDropZone,onDragLeave:this.resetDropZone,onDragEnter:this.handleDragEnter},u.createElement("div",{className:"uploader-drop-zone"},u.createElement("div",{ref:"bulkUploadContainer"}),u.createElement("button",{className:"uploader-action",onClick:this.openFileBrowser},h("Add Files")),u.createElement("p",{className:"upload-guideline"},h("or drop files here")),u.createElement("p",{className:"upload-note"},u.createElement(m,{message:h("The files you upload will be added to {name} assets."),name:this.props.name}))))},AssetUploader.prototype.renderUploadProgress=function renderUploadProgress(){var e=this.props.uploadStatus;if(e.state!==C)return null;var t=e.progress,n=e.files,r=e.state;return u.createElement("div",{className:"upload-status-wrapper"},u.createElement("div",{className:"upload-status-bar"},u.createElement("span",{className:"progress-bar",style:{width:t+"%"}})),u.createElement(T,{files:n,status:r}))},AssetUploader.prototype.render=function render(){return u.createElement("div",{className:"rc-AssetUploader"},u.createElement("h2",{className:"folder-name"},u.createElement(m,{message:h("Upload to {name}"),name:this.props.name})),u.createElement("div",{className:"uploader-wrapper"},this.renderUploadProgress(),this.renderUploadFailure(),this.renderUploadedAssets(),this.renderUploader()))},AssetUploader}(u.Component),i.propTypes={name:u.PropTypes.string.isRequired,assetContext:u.PropTypes.shape({courseId:u.PropTypes.string,insightId:u.PropTypes.string}).isRequired,assetType:u.PropTypes.string,pdfTemplate:u.PropTypes.string,allowMultiple:u.PropTypes.bool,uploadStatus:u.PropTypes.object.isRequired,uploadAttempts:u.PropTypes.object,selectedAssets:u.PropTypes.array,uploadedAssets:u.PropTypes.array},i.contextTypes={executeAction:u.PropTypes.func.isRequired},a);module.exports=S}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("AwHF"))},iW6M:function(module,exports,e){(function($){var t,n;t=[e,exports,module,e("4+j2")],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var $=e("4+j2"),t=function(){function CodeIndexer(e){_classCallCheck(this,CodeIndexer),this.scribe=e,this.aceEditors={},this.focusedCodeElement=null}return CodeIndexer.prototype.getAllCodeElements=function getAllCodeElements(){return $(this.scribe.el).find("pre")},CodeIndexer.prototype.getCodeElementAtIndex=function getCodeElementAtIndex(e){return this.getAllCodeElements().get(e)},CodeIndexer.prototype.setFocusOnCodeElement=function setFocusOnCodeElement(e){this.focusedCodeElement=e},CodeIndexer.prototype.getAceEditorAtIndex=function getAceEditorAtIndex(e){return this.aceEditors[e]},CodeIndexer.prototype.setAceEditorAtIndex=function setAceEditorAtIndex(e,t){this.aceEditors[t]=e},CodeIndexer.prototype.clearAceEditorCache=function clearAceEditorCache(){this.aceEditors={}},CodeIndexer}();module.exports=t}.apply(exports,t))&&(module.exports=n)}).call(exports,e("4+j2"))},jBEi:function(module,exports,e){(function(t,_){var n,r;n=[e,exports,module,e("AwHF"),e("U7vG"),e("fzz2"),e("SNbN"),e("lvuF"),e("K7LM"),e("VXwe"),e("T4cS")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,_=e("AwHF"),r=e("U7vG"),o=e("fzz2"),i=e("SNbN"),a=e("lvuF"),s=e("K7LM"),u=e("VXwe");e("T4cS");var c=(n=t=function(e){function ScribeCodeEditorEvaluatorConfigModal(){var t,n,r;_classCallCheck(this,ScribeCodeEditorEvaluatorConfigModal);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.handlePublish=function(e,t){n.props.onSave(e,t)},n.handleRemove=function(){var e=n.props.value;n.props.onSave("",e,!0)},r=t,_possibleConstructorReturn(n,r)}return _inherits(ScribeCodeEditorEvaluatorConfigModal,e),ScribeCodeEditorEvaluatorConfigModal.prototype.render=function render(){var e=this.props,t=e.value,n=e.evaluatorId,s=e.language,c=e.courseId,l=e.isOpen,p=e.onRequestClose,d=e.allowClose,f=new i({expression:t,language:s});return r.createElement(o,{size:"large",isOpen:l,title:u("Interactive Settings"),onRequestClose:p,className:"rc-ScribeCodeEditorEvaluatorConfigModal",allowClose:d},r.createElement("div",{style:{paddingTop:20}},r.createElement(a,{publishedEvaluatorId:n,starterCode:f,courseId:c,onPublish:this.handlePublish,onRemove:this.handleRemove})))},ScribeCodeEditorEvaluatorConfigModal}(r.Component),t.propTypes={isOpen:r.PropTypes.bool.isRequired,value:r.PropTypes.string.isRequired,courseId:r.PropTypes.string.isRequired,evaluatorId:r.PropTypes.string.isRequired,language:r.PropTypes.oneOf(_(s).pluck("value")),onRequestClose:r.PropTypes.func.isRequired,onSave:r.PropTypes.func.isRequired,allowClose:r.PropTypes.bool},t.defaultProps={allowClose:!0},n);module.exports=c}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("AwHF"))},jEpW:function(module,exports,e){(function(_){var t,n;t=[e,exports,module,e("go2y"),e("AwHF"),e("Wzgr"),e("EpLH"),e("Pek8"),e("IHQX"),e("UKSZ"),e("rpJU"),e("pesu"),e("iFGm"),e("cL62")],void 0!==(n=function(require,exports,module){"use strict";var t=e("go2y"),_=e("AwHF"),n=e("Wzgr"),r=e("EpLH"),o=e("Pek8"),i=e("IHQX"),a=e("UKSZ"),s=e("rpJU"),u=e("pesu"),c=e("iFGm"),l=e("cL62"),p=l.ALL_BRANCHES,d={getRatingStats:function getRatingStats(e,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:u.AllLearners,i=(new c).addQueryParam("q","course").addQueryParam("courseId",e).addQueryParam("feedbackSystem",s.Rating).addQueryParam("ratingValues","1,2,3,4,5").addQueryParam("countBy","ratingValue");return n!==p&&i.addQueryParam("courseBranchId",n),r.id===u.Completers.id&&i.addQueryParam("courseCompleted",!0),t(o.get(i.toString())).then(function(e){return e.elements[0].counts})},getReviewStats:function getReviewStats(e){var n=(new c).addQueryParam("q","course").addQueryParam("courseId",e).addQueryParam("feedbackSystem",s.Rating).addQueryParam("ratingValues","1,2,3,4,5").addQueryParam("categories","generic").addQueryParam("countBy","category");return t(i.get(n.toString())).then(function(e){return e.elements[0].counts})},getReviews:function getReviews(e,n,o,i,a){var l=10,d=(new c).addQueryParam("q","course").addQueryParam("courseId",e).addQueryParam("feedbackSystem",s.Rating).addQueryParam("ratingValues",-1===a?"1,2,3,4,5":a).addQueryParam("categories","generic").addQueryParam("start",10*i).addQueryParam("limit",10);return n!==p&&d.addQueryParam("courseBranchId",n),o.id===u.Completers.id&&d.addQueryParam("courseCompleted",!0),t(r.get(d.toString())).then(function(e){return{feedbacks:e.elements,totalCount:e.paging.total}})},getFeedback:function getFeedback(e){var r=(new c).addQueryParam("q","course").addQueryParam("courseId",e);return t(n.get(r.toString())).then(function(e){return e.elements[0]})},multiGetStarFeedback:function multiGetStarFeedback(e){var r=20,o=_(e).chain().groupBy(function(e,t){return Math.floor(t/20)}).toArray().value(),i=_(o).map(function(e){var r=(new c).addQueryParam("q","byCourseAndFeedback").addQueryParam("courseIds",e.join(",")).addQueryParam("feedbackSystem","STAR");return t(n.get(r.toString())).then(function(e){return e.elements})});return t.all(i).then(function(e){return _(e).flatten()})},postFeedback:function postFeedback(e,r){var o=(new c).addQueryParam("action","submit").addQueryParam("courseId",e).addQueryParam("feedbackSystem",s.Rating);return t(n.post(o.toString(),{data:r.toObject()}))},deleteFeedback:function deleteFeedback(e){var n=(new c).addQueryParam("action","hide").addQueryParam("feedbackId",e);return t(a.post(n.toString()))}};module.exports=d}.apply(exports,t))&&(module.exports=n)}).call(exports,e("AwHF"))},jMRE:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("gp0A"),e("joN2"),e("AFTA"),e("hObE"),e("HGiU"),e("xugj")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("gp0A"),i=e("joN2"),a=e("AFTA"),s=e("hObE"),u=e("HGiU"),c=e("xugj"),l=(n=t=function(e){function TestCaseHarnessEditor(){var t,n,r;_classCallCheck(this,TestCaseHarnessEditor);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.handleChange=function(e,t){var r=new u({preamble:e,testCase:t});n.props.onChange(r.toJSON())},n.handlePreambleChange=function(e){var t=n.props.harness.testCase;n.handleChange(e,t)},n.handleTestCaseChange=function(e){var t=n.props.harness.preamble;n.handleChange(t,e)},r=t,_possibleConstructorReturn(n,r)}return _inherits(TestCaseHarnessEditor,e),TestCaseHarnessEditor.prototype.render=function render(){var e=this.props,t=e.harness,n=t.preamble,u=t.testCase,l=e.language;return r.createElement("div",{className:"rc-TestCaseHarnessEditor"},r.createElement(i,{preamble:n,language:l,onChange:this.handlePreambleChange}),r.createElement(a,{style:{paddingTop:20,paddingBottom:5}},c("Grading Feedback Code")),r.createElement(s,{style:{paddingBottom:10}},c("This code will be used to evaluate and provide feedback to the learner on their submission.")),null!=u&&r.createElement(o,{value:u,language:l,onChange:this.handleTestCaseChange}))},TestCaseHarnessEditor}(r.Component),t.propTypes={harness:r.PropTypes.instanceOf(u),language:r.PropTypes.string,onChange:r.PropTypes.func.isRequired},n);module.exports=l}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},joN2:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("gp0A"),e("AFTA"),e("hObE"),e("xugj")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("gp0A"),i=e("AFTA"),a=e("hObE"),s=e("xugj"),u=(n=t=function(e){function PreambleEditor(){return _classCallCheck(this,PreambleEditor),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(PreambleEditor,e),PreambleEditor.prototype.render=function render(){var e=this.props,t=e.preamble,n=e.language,u=e.onChange;return r.createElement("div",{className:"rc-PreambleEditor"},r.createElement(i,{style:{paddingTop:20,paddingBottom:5}},s("Preamble Code")),r.createElement(a,{style:{paddingBottom:10}},s("This code will be executed as a pre-requisite before the learner's code gets executed.")),r.createElement(o,{value:t,language:n,onChange:u}))},PreambleEditor}(r.Component),t.propTypes={preamble:r.PropTypes.string.isRequired,language:r.PropTypes.string.isRequired,onChange:r.PropTypes.func.isRequired},n);module.exports=u}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},jw9T:function(module,exports,e){var t,n;t=[e,exports,module,e("9S1d"),e("TaW+"),e("XEEG"),e("0s6w"),e("0/aF"),e("vXui"),e("ESBX"),e("1SJa"),e("TBvF"),e("vl5M"),e("Tc0N"),e("12nM")],void 0!==(n=function(require,exports,module){"use strict";var t=e("9S1d"),n=e("TaW+"),r=e("XEEG"),o=e("0s6w"),i=e("0/aF"),a=e("vXui"),s=e("ESBX"),u=e("1SJa"),c=e("TBvF"),l=e("vl5M"),p=e("Tc0N");e("12nM");var d={IntelligentUnlinkCommand:{id:0,run:t},SmartLists:{id:1,run:n},FormatterPlainTextConvertNewLinesToHtml:{id:2,run:r},SemanticElements:{id:3,run:o},Sanitizer:{id:4,run:i},Placeholder:{id:5,run:a},Toolbar:{id:6,run:s},ToolbarVisibility:{id:7,run:l},CMLFilterFormatter:{id:8,run:p},Autolink:{id:9,run:u},ShiftEnter:{id:10,run:c}};module.exports=d}.apply(exports,t))&&(module.exports=n)},"k+LE":function(module,exports,e){var t,n;t=[e,exports,module,e("AzSd"),e("wo8W")],void 0!==(n=function(require,exports,module){"use strict";var t=e("AzSd"),n=e("wo8W"),r="up.asset_admin",o={track:function track(e,o,i,a){var s=r+"."+e+"."+o,u=Object.assign({user_id:n.id},i);a?t.pushV2([s,u,a]):t.pushV2([s,u])}};module.exports=o}.apply(exports,t))&&(module.exports=n)},k61R:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("L+Qk"),e("kOQN")],void 0!==(r=function(require,exports,module){"use strict";var t=e("U7vG"),n=e("L+Qk");e("kOQN");var r=function ValidationErrorText(e){var r=e.children,o=e.className,i=e.style;return t.createElement("div",{className:n("rc-ValidationErrorText",o),style:i},r)};r.propTypes={children:t.PropTypes.node.isRequired,className:t.PropTypes.string,style:t.PropTypes.object},module.exports=r}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},kOQN:function(module,exports,e){var t=e("eewZ");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},kdT6:function(module,exports){},kper:function(module,exports,e){(function(t,_){var n,r;n=[e,exports,module,e("AwHF"),e("U7vG"),e("AFTA"),e("hObE"),e("t0C4"),e("LncB"),e("XglE"),e("6qLY"),e("Yfxk"),e("w96p"),e("rq/u"),e("Lu8h"),e("xugj")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,_=e("AwHF"),r=e("U7vG"),o=e("AFTA"),i=e("hObE"),a=e("t0C4"),s=e("LncB"),u=e("XglE"),c=e("6qLY"),l=e("Yfxk"),p=e("w96p"),d=e("rq/u"),f=e("Lu8h"),h=e("xugj"),v=(n=t=function(e){function TestCasesSandbox(t,n){_classCallCheck(this,TestCasesSandbox);var r=_possibleConstructorReturn(this,e.call(this,t,n));return r.handleDelete=function(){var e=r.state,t=e.testCaseRunners,n=e.selectedTestCaseIndex;if(null!=e.newTestCaseRunner)r.setState({newTestCaseRunner:null});else if(null!=n){var o=t.slice();o.splice(n,1),r.setState({testCaseRunners:o,selectedTestCaseIndex:null,newTestCaseRunner:null})}},r.handleDuplicate=function(){var e=r.getCurrentTestCase();if(null!=e){var t=r.state.testCaseRunners.length,n=e.copy();n.testCase.name="Test case "+(t+1),r.setState({newTestCaseRunner:n,selectedTestCaseIndex:null})}},r.handleOverwriteOutput=function(){var e=r.getCurrentTestCase();if(null!=e){var t=e.copy();t.testCase.result=t.response,r.updateTestCase(t)}},r.handleRun=function(){r.setState({isRunning:!0})},r.onChangeTitle=function(e){var t=r.getCurrentTestCase();if(!t)return;var n=t.copy();e.target instanceof HTMLInputElement&&(n.testCase.name=e.target.value),r.onChangeTestCase(n)},r.onChangeTestCase=function(e){e.response=null,e.testCase.latestEvaluationId=null,r.updateTestCase(e)},r.getRunningTestCases=function(){var e=r.state,t=e.isRunning,n=e.testCaseRunners,o=e.runningAll,i=r.getCurrentTestCase();return o?n:t&&null!=i?[i]:[]},r.getCurrentTestCase=function(){var e=r.state,t=e.newTestCaseRunner,n=e.selectedTestCaseIndex,o=e.testCaseRunners;if(null!=t)return t;if(null!=n)return o[n];return null},r.getUncheckedTestCaseIndex=function(){for(var e=r.state.testCaseRunners,t=0;t<e.length;){if(null==e[t].response)return t;t+=1}return null},r.updateTestCase=function(e){var t=r.state,n=t.selectedTestCaseIndex,o=t.newTestCaseRunner;if(null==n&&o)r.setState({newTestCaseRunner:e});else if(null!=n){var i=r.state.testCaseRunners.slice();i[n]=e,r.setState({testCaseRunners:i})}},r.createNewTestCase=function(){var e=r.state.testCaseRunners.length,t=new d({name:"Submission example "+(e+1),expression:"",result:null,latestEvaluationId:null}),n=new f({testCase:t,response:null});r.setState({newTestCaseRunner:n,selectedTestCaseIndex:null})},r.addNewTestCase=function(){var e=r.state.newTestCaseRunner;if(null==e)return;e.testCase.result=e.response;var t=r.state.testCaseRunners.slice();t.push(e),r.setState({testCaseRunners:t,selectedTestCaseIndex:t.length-1,newTestCaseRunner:null})},r.selectTestCase=function(e){r.setState({selectedTestCaseIndex:e,newTestCaseRunner:null})},r.areTestCasesValid=function(e){return _(e.testCaseRunners).every(function(e){return e.isPassed})&&e.testCaseRunners.length>0&&null==e.newTestCaseRunner},r.runAllTestCases=function(){r.setState({runningAll:!0,isRunning:!0})},r.changeRunningTestCase=function(e,t){var n=r.state,o=n.runningAll,i=n.testCaseRunners;if(o){var a=i.slice();a[e]=t,r.setState({testCaseRunners:a})}else r.updateTestCase(t)},r.closeTestCaseRunner=function(){r.setState({isRunning:!1,runningAll:!1})},r.state={selectedTestCaseIndex:null,testCaseRunners:t.authoringEvaluator.testCases.map(function(e){return new f({testCase:e,response:null})}),newTestCaseRunner:null,runningAll:!1,isRunning:!1},r}return _inherits(TestCasesSandbox,e),TestCasesSandbox.prototype.componentDidMount=function componentDidMount(){this.props.setValidation(this.areTestCasesValid(this.state))},TestCasesSandbox.prototype.componentWillReceiveProps=function componentWillReceiveProps(e){if(this.props.authoringEvaluator.draft.id!==e.authoringEvaluator.draft.id||!this.props.hasHarnessChanged&&e.hasHarnessChanged){var t=this.state.testCaseRunners.map(function(e){var t=e.copy();return t.response=null,t.testCase.latestEvaluationId=null,t});this.setState({testCaseRunners:t})}},TestCasesSandbox.prototype.componentWillUpdate=function componentWillUpdate(e,t){if(this.state!==t){e.setValidation(this.areTestCasesValid(t));var n=t.testCaseRunners.map(function(e){return e.testCase});_(this.state.testCaseRunners).isEqual(t.testCaseRunners)||this.props.onChange({testCases:n})}},TestCasesSandbox.prototype.render=function render(){var e=this,t=this.props,n=t.language,l=t.onCancel,p=t.handleRun,d=t.authoringEvaluator,f=t.evaluation,v=t.runInProgress,m=this.state,g=m.isRunning,y=m.testCaseRunners,C=m.selectedTestCaseIndex,b=m.newTestCaseRunner,E=m.runningAll,w=d.draft,T=this.getCurrentTestCase(),S=null!=y.find(function(e){return null==e.response}),O=null!=y.find(function(e){return""===e.testCase.expression}),x=null!=b||0===y.length||!S||O,R=T&&r.createElement(u,{testCaseRunner:T,isTestCaseAdded:null!=C,onDelete:this.handleDelete,onChange:this.onChangeTitle,onAddTestCase:this.addNewTestCase,onDuplicate:this.handleDuplicate});return r.createElement("div",{className:"rc-TestCasesSandbox"},r.createElement("div",{className:"horizontal-box align-items-spacebetween"},r.createElement(o,{style:{paddingTop:20,paddingBottom:5}},h("Submission Sandbox")),r.createElement("button",{onClick:this.runAllTestCases,className:"button-link body-2-text",disabled:x},h("Run all submission examples"))),r.createElement(i,{style:{paddingBottom:10}},h("Verify that the starter code and / or grading feedback code does what you expect with examples of\n               possible learner submissions.\n               Provide at least one submission example and run all examples at least once.")),r.createElement("div",{style:{marginBottom:12}},y.map(function(t,n){return r.createElement("span",{style:{marginRight:20},key:n},r.createElement(s,{name:t.testCase.name,onClick:e.selectTestCase,index:n,isFailed:t.isFailed,isPassed:t.isPassed,isSelected:n===C}))}),r.createElement("button",{onClick:this.createNewTestCase,className:"button-link body-2-text",disabled:null!=b},h("+ Add submission example"))),null!=T&&!E&&r.createElement(a,{titleRow:R,testCaseRunner:T,isTestCaseAdded:null!=C,selectedTestCaseIndex:C,language:n,onChange:this.onChangeTestCase,onCancel:l,onOverwriteOutput:this.handleOverwriteOutput,handleRun:this.handleRun,runInProgress:v,evaluatorDraftId:w.id}),g&&r.createElement(c,{evaluation:f,handleRun:p,onCancel:l,onClose:this.closeTestCaseRunner,onChange:this.changeRunningTestCase,testCaseRunners:this.getRunningTestCases()}))},TestCasesSandbox}(r.Component),t.propTypes={language:r.PropTypes.string.isRequired,onChange:r.PropTypes.func.isRequired,onCancel:r.PropTypes.func.isRequired,setValidation:r.PropTypes.func.isRequired,handleRun:r.PropTypes.func.isRequired,authoringEvaluator:r.PropTypes.instanceOf(l).isRequired,evaluation:r.PropTypes.instanceOf(p).isRequired,runInProgress:r.PropTypes.bool,hasHarnessChanged:r.PropTypes.bool.isRequired},n);module.exports=v}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("AwHF"))},kvwm:function(module,exports,e){(function(_,$){var t,n;t=[e,exports,module,e("4+j2"),e("AwHF"),e("JPL8"),e("jw9T")],void 0!==(n=function(require,exports,module){"use strict";var $=e("4+j2"),_=e("AwHF"),t=e("JPL8"),n=e("jw9T"),r={createInstance:function createInstance(e){var r=e.el,o=e.blocks,i=e.placeholder,a=e.editorContainer,s=e.disabledPlugins,u=e.showToolbarByDefault,c=e.toolbarContainer,l=e.assetAdminOptions,p=e.imageUploadOptions,d=e.codeBlockOptions,f=e.onContentChange,h=e.onFocus,v=e.onBlur,m=new t(r,{allowBlockElements:!0}),g={p:{},strike:{},sub:{},sup:{},audio:{controls:!0},source:{src:!0},pre:{},div:{}},y=_(s).indexBy("id");return m.on("content-changed",f),m.el.addEventListener("focus",h),m.el.addEventListener("blur",v),o.forEach(function(e){if(e.plugin){var t=null;switch(e.commandName){case"imageUpload":t=p;break;case"code":t={editorContainer:a,codeBlockOptions:d};break;case"asset":t=l}m.use(e.plugin(t))}e.tags&&e.tags.forEach(function(e){return g[e.name]=e.value||{}})}),_(n).each(function(e){if(!_(y).has(e.id))switch(e.id){case n.Placeholder.id:a&&m.use(e.run(i,a));break;case n.Toolbar.id:c&&m.use(e.run(c));break;case n.ToolbarVisibility.id:a&&c&&m.use(e.run(a,c,u));break;case n.Sanitizer.id:m.use(e.run({tags:g}));break;default:m.use(e.run())}}),m},destroyInstance:function destroyInstance(e){$(".scribe-marker").remove()}};module.exports=r}.apply(exports,t))&&(module.exports=n)}).call(exports,e("AwHF"),e("4+j2"))},l6Jm:function(module,exports){},lTRS:function(module,exports,e){var t=e("4LmI");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},lvuF:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("ImgZ"),e("kper"),e("yxhO"),e("FudV"),e("SNbN"),e("A45O"),e("w96p"),e("rq/u"),e("Yfxk"),e("DFsJ"),e("xugj"),e("XhQE")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r,o=e("U7vG"),i=e("ImgZ"),a=e("kper"),s=e("yxhO"),u=e("FudV"),c=e("SNbN"),l=e("A45O"),p=e("w96p"),d=e("rq/u"),f=e("Yfxk"),h=e("DFsJ"),v=e("xugj");e("XhQE");var m=(n=t=function(e){function AuthoringEvaluatorEditor(t){_classCallCheck(this,AuthoringEvaluatorEditor);var n=_possibleConstructorReturn(this,e.call(this,t));r.call(n);var o=t.starterCode;return n.state={starterCode:o,evaluation:null,evaluationRunner:null,authoringEvaluator:null,publishInProgress:!1,hasValidTestCases:!1,hasError:!1,runInProgress:!1,hasHarnessChanged:!1},n}return _inherits(AuthoringEvaluatorEditor,e),AuthoringEvaluatorEditor.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.props.publishedEvaluatorId,n=f.getUnversionedId(t);h.get(n).then(function(t){var n=new f(t),r=new l(n.draft.id),o=r.evaluation;e.setState({authoringEvaluator:n,evaluationRunner:r,evaluation:o})})},AuthoringEvaluatorEditor.prototype.render=function render(){var e=this.state,t=e.authoringEvaluator,n=e.starterCode,r=e.evaluation,c=e.runInProgress,l=e.publishInProgress,p=e.hasHarnessChanged,d=n.language;if(null==t||null==r)return null;var f=t.draft,h=this.state.hasValidTestCases;return o.createElement("div",{className:"rc-AuthoringEvaluatorEditor"},o.createElement(s,{language:d,evaluatorDraft:f,onChange:this.handleEvaluatorDraftChange}),o.createElement(a,{language:d,onChange:this.handleTestCaseChange,onCancel:this.handleEvaluationCancel,setValidation:this.setHasValidTestCases,handleRun:this.handleEvaluationRun,authoringEvaluator:t,evaluation:r,runInProgress:c,hasHarnessChanged:p}),o.createElement(i,{starterCode:n,onChange:this.handleStarterCodeChange}),o.createElement("div",{className:"horizontal-box align-items-right",style:{paddingTop:40}},o.createElement("div",null,o.createElement("button",{style:{marginRight:20},className:"primary remove-execution-btn",onClick:this.props.onRemove},v("Remove Execution")),o.createElement("button",{disabled:!h||l,className:"primary",onClick:this.handlePublish},v(l?"Saving...":"Save")))),this.state.hasError&&o.createElement("div",{className:"caption-text color-secondary-text align-right",style:{marginTop:8}},v("An error has occurred.")),l&&o.createElement(u,null))},AuthoringEvaluatorEditor}(o.Component),t.propTypes={publishedEvaluatorId:o.PropTypes.string.isRequired,starterCode:o.PropTypes.instanceOf(c).isRequired,onPublish:o.PropTypes.func.isRequired,onRemove:o.PropTypes.func.isRequired,courseId:o.PropTypes.string.isRequired},r=function _initialiseProps(){var e=this;this.handleEvaluationRun=function(t){if(e.setState({runInProgress:!0}),null==e.state.authoringEvaluator)return;var n=function runEvaluation(n){n.run(t,function(t){return e.setState({evaluation:t,runInProgress:!1})})};e.state.hasHarnessChanged?h.save(e.state.authoringEvaluator).then(function(t){var r=new f(t),o=new l(r.draft.id);e.setState({authoringEvaluator:r,evaluationRunner:o,hasHarnessChanged:!1}),n(o)}).catch(function(t){e.setState({hasError:!0})}):n(e.state.evaluationRunner)},this.handleEvaluationCancel=function(){if(null==e.state.evaluationRunner)return;e.state.evaluationRunner.cancel(function(t){return e.setState({evaluation:t})})},this.handleEvaluatorDraftChange=function(t){if(null==e.state.authoringEvaluator)return;var n=e.state.authoringEvaluator,r=n.id,o=n.metadata,i=n.testCases,a=i.map(function(e){return e.toJSON()}),s=new f({id:r,testCases:a,metadata:o,draft:t});e.setState({authoringEvaluator:s,hasHarnessChanged:!0})},this.handleTestCaseChange=function(t){var n=t.testCases;if(null==e.state.authoringEvaluator)return;var r=e.state.authoringEvaluator,o=r.id,i=r.metadata,a=r.draft,s=n.map(function(e){return e.toJSON()}),u=new f({id:o,testCases:s,metadata:i,draft:a});e.setState({authoringEvaluator:u})},this.handleStarterCodeChange=function(t){e.setState({starterCode:t})},this.handlePublish=function(){if(e.setState({publishInProgress:!0,hasError:!1}),null==e.state.authoringEvaluator)return;h.save(e.state.authoringEvaluator).then(function(t){var n=new f(t);return e.setState({authoringEvaluator:n,hasHarnessChanged:!1}),h.publish(n)}).then(function(t){var n=e.state.starterCode.expression,r=new f(t),o=r.versionedId;e.setState({publishInProgress:!1,authoringEvaluator:r}),e.props.onPublish(o,n)}).catch(function(t){e.setState({publishInProgress:!1,hasError:!0})})},this.setHasValidTestCases=function(t){e.setState({hasValidTestCases:t})}},n);module.exports=m}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},mR1L:function(module,exports,e){var t=e("l6Jm");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},nQfF:function(module,exports,e){var t,n;t=[e,exports,module,e("AwHF"),e("q07v"),e("dgf4"),e("FVaE")],void 0!==(n=function(require,exports,module){"use strict";function _interopRequireDefault(e){return e&&e.__esModule?e:{default:e}}var t=e("AwHF"),n=_interopRequireDefault(t),r=e("q07v"),o=_interopRequireDefault(r),i=e("dgf4"),a=_interopRequireDefault(i),s=e("FVaE"),u=(0,o.default)({storeName:"AssetAdminStore",uploadStatus:{state:a.default.IDLE},selectedAssets:[],uploadedAssets:[],uploadAttempts:{success:[],error:[]},assets:null,assetMap:{},assetsListReady:!1,noticeMessageDismissed:!1,getCourse:function getCourse(){return this.course},getAssets:function getAssets(){return this.assets},getAssetById:function getAssetById(e){return(0,n.default)(this.assets).find(function(t){return t.id===e})},getNextPageIndex:function getNextPageIndex(){return this.nextPageIndex},getSelectedAssets:function getSelectedAssets(){return this.selectedAssets},getUploadedAssets:function getUploadedAssets(){return this.uploadedAssets},getUploadAttempts:function getUploadAttempts(){return this.uploadAttempts},getUploadStatus:function getUploadStatus(){return this.uploadStatus},getAssetMap:function getAssetMap(){return this.assetMap},isAssetsListReady:function isAssetsListReady(){return this.assetsListReady},isNoticeMessageDismissed:function isNoticeMessageDismissed(){return this.noticeMessageDismissed},hasUpdateFailed:function hasUpdateFailed(){return this.updateDescriptionFailed||this.updateNameFailed},isUpdatingDescription:function isUpdatingDescription(){return this.updatingDescription},isUpdatingName:function isUpdatingName(){return this.updatingName},resetAssets:function resetAssets(){this.selectedAssets=[],this.uploadedAssets=[],this.uploadAttempts.success=[],this.uploadAttempts.error=[],this.uploadStatus.state=a.default.IDLE}});u.handlers={INITIALIZED:function INITIALIZED(e){this.noticeMessageDismissed=e.noticeDismissed,e.course&&(this.course=e.course),this.resetAssets(),this.emitChange()},RECEIVED_ASSETS_LIST:function RECEIVED_ASSETS_LIST(e){var t=e.assets,n=e.assetMap,r=e.nextPageIndex;e.isInitialFetch?(this.assets=t,this.resetAssets()):this.assets=this.assets.concat(t),n&&Object.assign(this.assetMap,n),this.assetsListReady=!0,this.nextPageIndex=r,this.emitChange()},START_RECEIVING_ASSETS:function START_RECEIVING_ASSETS(){this.assetsListReady=!1,this.emitChange()},SELECT_ASSET:function SELECT_ASSET(e){var t=e.asset;(0,s.isSelected)(this.selectedAssets,t)?this.selectedAssets=(0,n.default)(this.selectedAssets).without(t):(e.allowMultiple||(this.selectedAssets=[]),this.selectedAssets.push(t)),this.emitChange()},NOTICE_MESSAGE_DISMISSED:function NOTICE_MESSAGE_DISMISSED(){this.noticeMessageDismissed=!0,this.emitChange()},RESET_ASSETS:function RESET_ASSETS(){this.resetAssets(),this.emitChange()},UPDATE_ASSET_DESCRIPTION_START:function UPDATE_ASSET_DESCRIPTION_START(){this.updatingDescription=!0,this.emitChange()},UPDATE_ASSET_DESCRIPTION:function UPDATE_ASSET_DESCRIPTION(e){var t=e.assetId;this.updateDescriptionFailed=!1,this.updatingDescription=!1,this.emitChange()},UPDATE_ASSET_FAIL:function UPDATE_ASSET_FAIL(){this.updateDescriptionFailed=!0,this.updatingDescription=!1,this.updateNameFailed=!0,this.updatingName=!1,this.emitChange()},UPDATE_ASSET_NAME_START:function UPDATE_ASSET_NAME_START(){this.updatingName=!0,this.emitChange()},UPDATE_ASSET_NAME:function UPDATE_ASSET_NAME(){this.updateNameFailed=!1,this.updatingName=!1,this.emitChange()},RESET_UPDATE_ASSET_DESCRIPTION:function RESET_UPDATE_ASSET_DESCRIPTION(){this.updateDescriptionFailed=!1,this.updatingDescription=!1,this.emitChange()},UPLOAD_STATUS_UPDATED:function UPLOAD_STATUS_UPDATED(e){this.uploadStatus.state=e.state,this.uploadStatus.progress=e.progress,e.files&&(this.uploadStatus.files=e.files),e.uploadedAssets&&(this.uploadedAssets=e.uploadedAssets),e.uploadAttempts&&(this.uploadAttempts=e.uploadAttempts),this.emitChange()}},module.exports=u}.apply(exports,t))&&(module.exports=n)},pZ4U:function(module,exports){},pesu:function(module,exports,e){var t,n;t=[e,exports,module,e("JX2z")],void 0!==(n=function(require,exports,module){"use strict";var t=e("JX2z");module.exports={AllLearners:{id:"ALL_LEARNERS",label:t("All learners"),eventKey:"all_learners"},Completers:{id:"COMPLETERS",label:t("Completers"),eventKey:"completers"}}}.apply(exports,t))&&(module.exports=n)},piiq:function(module,exports,e){var t=e("PXae");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},pznP:function(module,exports){exports.default={"es":true,"fr":true,"pt":true,"ru":true,"tr":true,"zh":true,"zh-hk":"zh-tw","zh-mo":"zh-tw","zh-tw":true}},qDI2:function(module,exports,e){(function(t,$,_){var n,r;n=[e,exports,module,e("go2y"),e("4+j2"),e("AwHF"),e("U7vG"),e("pqdH"),e("dmUG")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("go2y"),$=e("4+j2"),_=e("AwHF"),o=e("U7vG"),i=e("pqdH"),a=e("dmUG"),s=a.isEmptyParagraphBlock,u=function(e){function RemoveAssetButton(){return _classCallCheck(this,RemoveAssetButton),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(RemoveAssetButton,e),RemoveAssetButton.prototype.render=function render(){return o.createElement("a",{label:"Delete",className:"cml-remove-asset-button"},"×")},RemoveAssetButton}(o.Component),c=(n=t=function(e){function AssetNode(){var t,n,r;_classCallCheck(this,AssetNode);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.getNameAndExtension=function(e){var t=e.lastIndexOf("."),n="",r=e;return t>-1&&(r=e.substring(0,t),n=e.substring(t+1)),{name:r,extension:n}},r=t,_possibleConstructorReturn(n,r)}return _inherits(AssetNode,e),AssetNode.prototype.render=function render(){var e=this.props,t=e.id,n=e.url,r=e.filename,i=e.typeName,a=this.getNameAndExtension(r),s=a.name,u=a.extension;return o.createElement("div",{className:"cml-asset","data-id":t,"data-name":s,"data-type":i,"data-extension":u},o.createElement("a",{className:"cml-asset-link",href:n},r))},AssetNode}(o.Component),t.propTypes={id:o.PropTypes.string.isRequired,url:o.PropTypes.string.isRequired,filename:o.PropTypes.string.isRequired,typeName:o.PropTypes.string.isRequired},n),l=function initializeAssetBlocks(e){var t=$(e).find(".cml-asset:not([data-initialized=true])");t.attr("data-initialized",!0),t.append($(i.renderToStaticMarkup(o.createElement(u,null))).get(0))},p=function injectAsset(e,t,n,r){var a=n.id,u=n.typeName,l=n.filename,p=$(i.renderToStaticMarkup(o.createElement(c,{id:a,url:r,filename:l,typeName:u}))).get(0);s(e,t)?(t.nextSibling||t.parentNode.appendChild(document.createElement("p")),t.parentNode.replaceChild(p,t)):t.nextSibling?t.parentNode.insertBefore(p,t.nextSibling):(t.parentNode.appendChild(p),t.parentNode.appendChild(document.createElement("p")))},d=function insertAsset(e,t,n,o){var i=_(o).pluck("id");r(n.getAssetMap(i)).then(function(n){return _(o).map(function(r){return p(e,t,r,n[r.id].url.url)})})},f=function isAssetBlock(e){return e&&$(e).hasClass("cml-asset")},h=function isRemoveButton(e){return e&&$(e).hasClass("cml-remove-asset-button")};module.exports={initializeAssetBlocks:l,insertAsset:d,isAssetBlock:f,isRemoveButton:h}}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("4+j2"),e("AwHF"))},qLmM:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("0cha"),e("jMRE"),e("D8sO"),e("HGiU"),e("RIkx")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("0cha"),i=e("jMRE"),a=e("D8sO"),s=e("HGiU"),u=e("RIkx"),c=(n=t=function(e){function HarnessEditor(){return _classCallCheck(this,HarnessEditor),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(HarnessEditor,e),HarnessEditor.prototype.render=function render(){var e=this.props.harness;if(e instanceof a)return r.createElement(o,this.props);if(e instanceof s)return r.createElement(i,this.props);return null},HarnessEditor}(r.Component),t.propTypes={harness:r.PropTypes.instanceOf(u),language:r.PropTypes.string,onChange:r.PropTypes.func.isRequired},n);module.exports=c}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},qgrL:function(module,exports,e){(function($,_){var t,n;t=[e,exports,module,e("AwHF"),e("4+j2")],void 0!==(n=function(require,exports,module){"use strict";function getFigure(e,t){var n=$("<figure>",{contentEditable:!0}),r=$("<img>",{src:t,"data-asset-id":e,draggable:!1});return n.append(r),n.get(0)}function showLoader(e){var r=$("<div>",{class:t,html:"Uploading..."}),o=$(e.el),i=o.offset(),a=i.left+o.width()/2-30,s=i.top+o.height()/2;r.css({left:a,top:s}),o.addClass(n).attr("contenteditable",!1),$(document.body).append(r)}function hideLoader(e){$(e.el).removeClass(n).attr("contenteditable",!0),$("."+t).remove()}var _=e("AwHF"),$=e("4+j2"),t="scribe-image-upload-command-loader",n="scribe-image-upload-command-in-progress",r={isImageBlock:function isImageBlock(e){return e&&"FIGURE"===e.nodeName},findBlockContainer:function findBlockContainer(e,t){for(;t&&!e.element.isBlockElement(t);)t=t.parentNode;return t},select:function select(e,t){var n=new e.api.Selection,r=n.range;r||(r=document.createRange()),$(t).addClass("selected"),r.selectNode(t.childNodes[0]),n.selection.removeAllRanges(),n.selection.addRange(r),e.trigger("content-changed")},insertImage:function insertImage(e,t,n){var r=this;t.isInitialized()||(t.initializeImageUploader(n),t.once("select",function(){r.uploadImage(e,t)})),t.selectFile()},uploadImage:function uploadImage(e,t){var n=this;showLoader(e),t.upload().then(function(r){var o=r.id;return t.getAssetMap([o]).then(function(t){n.injectImage(e,o,t[o].url.url)})}).finally(function(){hideLoader(e),t.destroyUploader()})},injectImage:function injectImage(e,t,n){e.transactionManager.run(function(){var o=new e.api.Selection,i=o.range,a=r.findBlockContainer(e,i.endContainer),s=_(e.el.childNodes).indexOf(a)+1,u=a.nextSibling,c=getFigure(t,n);u?e.el.insertBefore(c,u):(e.el.appendChild(c),e.el.appendChild(document.createElement("p"))),setTimeout(function(){r.select(e,e.el.childNodes[s])},100)})},cleanupSelection:function cleanupSelection(e){$("figure.selected",e.el).removeClass("selected")}};module.exports=r}.apply(exports,t))&&(module.exports=n)}).call(exports,e("4+j2"),e("AwHF"))},rbLP:function(module,exports,e){(function(_){var t,n;t=[e,exports,module,e("AwHF"),e("Usxh"),e("P0Ly"),e("RJhi"),e("a8cF"),e("dgf4"),e("k+LE")],void 0!==(n=function(require,exports,module){"use strict";var _=e("AwHF"),t=e("Usxh"),n=e("P0Ly"),r=e("RJhi"),o=e("a8cF"),i=e("dgf4"),a=e("k+LE"),s={initializeModal:function initializeModal(e,t){return t.insightId?s.getAssetsListByContext(e,t):n.getCourse(t.courseId).then(function(r){e.dispatch("INITIALIZED",{course:r.elements[0],noticeDismissed:n.isNoticeDismissed()}),t.hideAssets||s.getAssetsListByContext(e,t)})},initializePage:function initializePage(e,t){e.dispatch("INITIALIZED",{noticeDismissed:n.isNoticeDismissed()}),s.getAssetsListByContext(e,{courseId:t.courseId,insightId:t.insightId,fetchUrls:!0})},getAssetsListByContext:function getAssetsListByContext(e,o){var i=!o.nextPageIndex;return i&&e.dispatch("START_RECEIVING_ASSETS"),(o.insightId?r:n).getAssetsListByContext(o).then(function(n){var r=n.elements,a=n.paging.next;if(o.fetchUrls){var s=_(r).pluck("id");(new t).getAssetMap(s).then(function(t){e.dispatch("RECEIVED_ASSETS_LIST",{assets:r,nextPageIndex:a,assetMap:t,isInitialFetch:i})})}else e.dispatch("RECEIVED_ASSETS_LIST",{assets:r,nextPageIndex:a,isInitialFetch:i})}).catch()},selectAsset:function selectAsset(e,t){e.dispatch("SELECT_ASSET",t)},resetAssets:function resetAssets(e){e.dispatch("RESET_ASSETS")},updateAssetDescription:function updateAssetDescription(e,t){var r=t.courseId,o=t.assetId,i=t.description;return e.dispatch("UPDATE_ASSET_DESCRIPTION_START"),n.updateDescription({courseId:r,assetId:o,description:i}).then(function(t){e.dispatch("UPDATE_ASSET_DESCRIPTION",{assetId:o})}).catch(function(t){e.dispatch("UPDATE_ASSET_FAIL")})},resetUpdateDescription:function resetUpdateDescription(e){e.dispatch("RESET_UPDATE_ASSET_DESCRIPTION")},updateAssetName:function updateAssetName(e,t){var r=t.courseId,o=t.assetId,i=t.name;return e.dispatch("UPDATE_ASSET_NAME_START"),n.updateName({courseId:r,assetId:o,name:i}).then(function(t){e.dispatch("UPDATE_ASSET_NAME",{assetId:o})}).catch(function(t){e.dispatch("UPDATE_ASSET_FAIL")})},openFileBrowser:function openFileBrowser(){o.openFileBrowser()},initializeUploader:function initializeUploader(e,t){var u=t.insightId?o.initializeInsightAsset:o.initializeCourseAsset,c=u.call(o,e,t),l=function onChange(t){o.startUpload(),s.updateUploadProgress(e,{state:i.IN_PROGRESS,files:t,progress:0})},p=function onProgress(t){s.updateUploadProgress(e,{state:i.IN_PROGRESS,progress:o.getProgressPercentage(t)})},d=function onAllComplete(o){if(_(o.error).isEmpty()&&!_(o.success).isEmpty()){var u=_(o.success).pluck("attemptId"),c=t.insightId?r:n,l=t.insightId||t.courseId;c.getAssetsById(l,u).then(function(t){s.updateUploadProgress(e,{state:i.SUCCESS,progress:100,uploadedAssets:t.elements})})}else if(s.updateUploadProgress(e,{state:i.FAILED,progress:100,uploadAttempts:o}),!_(o.error).isEmpty()){var p={course_id:t.courseId,error:JSON.stringify(o)};t.assetType&&(p.asset_type=t.assetType),a.track("upload","failed",p)}};c.on("change",l),c.on("progress",p),c.on("all-complete",d)},updateUploadProgress:function updateUploadProgress(e,t){e.dispatch("UPLOAD_STATUS_UPDATED",t)},deleteAsset:function deleteAsset(e,t){var o=t.assetIds,i=t.courseId,a=t.insightId;(a?r:n).deleteAssets(o).then(function(){s.getAssetsListByContext(e,{courseId:i,insightId:a,fetchUrls:!0})})},dismissNotice:function dismissNotice(e){n.dismissNotice(),e.dispatch("NOTICE_MESSAGE_DISMISSED")}};module.exports=s}.apply(exports,t))&&(module.exports=n)}).call(exports,e("AwHF"))},rmYj:function(module,exports){},rpJU:function(module,exports,e){var t,n;t=[e,exports,module],void 0!==(n=function(require,exports,module){"use strict";module.exports={Like:"LIKE_OR_DISLIKE",Flag:"FLAG",Rating:"STAR"}}.apply(exports,t))&&(module.exports=n)},"rq/u":function(module,exports,e){var t,n;t=[e,exports,module,e("WxWF")],void 0!==(n=function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var t=e("WxWF"),n=function(){function EvaluatorTestCase(e){var n=e.name,r=e.expression,o=e.result,i=e.latestEvaluationId;_classCallCheck(this,EvaluatorTestCase),this.name=n,this.expression=r,this.result=null!=o?new t({id:"",result:o}):null,this.latestEvaluationId=i}return EvaluatorTestCase.prototype.toJSON=function toJSON(){var e=this.name,t=this.expression,n=this.latestEvaluationId,r=this.result&&this.result.getEvaluationResult();if(null==n)return{name:e,expression:t,result:r,latestEvaluationId:void 0};return{name:e,expression:t,result:r,latestEvaluationId:n}},EvaluatorTestCase}();module.exports=n}.apply(exports,t))&&(module.exports=n)},"s7w+":function(module,exports,e){(function(t,_){var n,r;n=[e,exports,module,e("AwHF"),e("U7vG"),e("K7LM"),e("VXwe")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,_=e("AwHF"),r=e("U7vG"),o=e("K7LM"),i=e("VXwe"),a=(n=t=function(e){function ScribeCodeEditorLanguageDisplay(){return _classCallCheck(this,ScribeCodeEditorLanguageDisplay),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(ScribeCodeEditorLanguageDisplay,e),ScribeCodeEditorLanguageDisplay.prototype.render=function render(){var e=this.props.languageValue,t=o.find(function(t){return t.value===e}),n=t?t.name:i("Generic code block");return r.createElement("div",{className:"rc-ScribeCodeEditorLanguageDisplay"},"< / >","   ",n)},ScribeCodeEditorLanguageDisplay}(r.Component),t.propTypes={languageValue:r.PropTypes.oneOf(_(o).pluck("value"))},n);module.exports=a}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("AwHF"))},sAMF:function(module,exports){},t0C4:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("L+Qk"),e("gp0A"),e("5xBf"),e("V4DZ"),e("w96p"),e("Lu8h"),e("xugj"),e("S/dP")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("L+Qk"),i=e("gp0A"),a=e("5xBf"),s=e("V4DZ"),u=e("w96p"),c=e("Lu8h"),l=e("xugj");e("S/dP");var p=(n=t=function(e){function TestCaseEditor(){var t,n,r;_classCallCheck(this,TestCaseEditor);for(var o=arguments.length,i=Array(o),a=0;a<o;a++)i[a]=arguments[a];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(i))),n.handleRun=function(){var e=n.props.testCaseRunner.testCase.expression;n.props.handleRun(e)},n.onChangeExpression=function(e){var t=n.props.testCaseRunner,r=t.copy();r.testCase.expression=e,n.props.onChange(r)},n.onChangeTitle=function(e){var t=n.props.testCaseRunner,r=t.copy();e.target instanceof HTMLInputElement&&(r.testCase.name=e.target.value),n.props.onChange(r)},r=t,_possibleConstructorReturn(n,r)}return _inherits(TestCaseEditor,e),TestCaseEditor.prototype.render=function render(){var e=this.props,t=e.testCaseRunner,n=e.isTestCaseAdded,c=e.selectedTestCaseIndex,p=e.language,d=e.onCancel,f=e.evaluatorDraftId,h=e.titleRow,v=e.onOverwriteOutput,m=e.runInProgress,g=t.response,y=t.testCase.expression,C=""===y,b=t.testCase.result&&t.testCase.result.toJSON(),E=new u({active:!1,fail:!1,response:b}),w=g&&g.toJSON(),T=new u({active:!1,fail:!1,response:w}),S=null;return null==w||w.hasSuccessResult||null==w.logUrls||(S=w.logUrls.stderrUrl),r.createElement("div",{className:"rc-TestCaseEditor"},r.createElement("div",{className:"row"},r.createElement("div",{className:"column"},h)),r.createElement("div",{className:"row"},r.createElement("div",{className:"column"},r.createElement("div",{className:"horizontal-box align-items-spacebetween flex-1",style:{padding:"8px 12px"}},l("Input"),r.createElement("button",{className:"button-link body-2-text caption-text",onClick:this.handleRun,disabled:C},l("Run")))),n&&r.createElement("div",{className:"column"},r.createElement("div",{className:"flex-1",style:{padding:"8px 12px"}},l("Output")),r.createElement("button",{className:"button-link body-2-text",disabled:!t.isFailed,onClick:v,style:{marginRight:12}},l("Overwrite"))),r.createElement("div",{className:o("column","horizontal-box","align-items-spacebetween",{"flex-2":!n})},r.createElement("div",{className:"flex-1",style:{padding:"8px 12px"}},l("Expected Output")))),r.createElement("div",{className:"row"},r.createElement("div",{className:"column"},r.createElement("div",{className:"flex-1 align-self-start"},r.createElement(i,{key:c,value:y,language:p,onChange:this.onChangeExpression}),C&&r.createElement("p",{className:"caption-text color-secondary-text",style:{paddingLeft:16}},l("Add some code to run this test case.")))),r.createElement("div",{className:o("column","vertical-box",{"flex-2":!n})},r.createElement(a,{evaluatorDraftId:f,evaluation:T,onCancel:d,runInProgress:m}),null!=w&&r.createElement("div",{className:"caption-text color-secondary-text",style:{padding:"8px 12px"}},l("Evaluation ID:"),"   ",w.id,S&&r.createElement("div",null,r.createElement("a",{href:S},l("stderr logs"))))),n&&r.createElement("div",{className:"column vertical-box"},r.createElement(s,{evaluatorId:f,evaluation:E,onCancel:function onCancel(){}}))))},TestCaseEditor}(r.Component),t.propTypes={testCaseRunner:r.PropTypes.instanceOf(c).isRequired,isTestCaseAdded:r.PropTypes.bool.isRequired,selectedTestCaseIndex:r.PropTypes.number,language:r.PropTypes.string.isRequired,onChange:r.PropTypes.func.isRequired,onCancel:r.PropTypes.func.isRequired,handleRun:r.PropTypes.func.isRequired,evaluatorDraftId:r.PropTypes.string.isRequired,titleRow:r.PropTypes.node.isRequired,onOverwriteOutput:r.PropTypes.func.isRequired,runInProgress:r.PropTypes.bool},n);module.exports=p}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},t6Sb:function(module,exports){},tiDt:function(module,exports,e){var t=e("O5Yf");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},ttF6:function(module,exports,e){var t,n;t=[e,exports,module,e("JX2z")],void 0!==(n=function(require,exports,module){"use strict";var t=e("JX2z");module.exports=[{value:-1,label:t("All reviews")},{value:5,label:t("5 star")},{value:4,label:t("4 star")},{value:3,label:t("3 star")},{value:2,label:t("2 star")},{value:1,label:t("1 star")}]}.apply(exports,t))&&(module.exports=n)},uJ9j:function(module,exports,e){var t=e("CIXX");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},uOvm:function(module,exports){},uT1Y:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("Eq0O"),e("K7LM"),e("DRuv")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("Eq0O"),i=e("K7LM");e("DRuv");var a=(n=t=function(e){function ScribeCodeEditorLanguagePicker(){return _classCallCheck(this,ScribeCodeEditorLanguagePicker),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(ScribeCodeEditorLanguagePicker,e),ScribeCodeEditorLanguagePicker.prototype.componentDidMount=function componentDidMount(){this.selectize.selectizeInstance.open()},ScribeCodeEditorLanguagePicker.prototype.render=function render(){var e=this,t={maxItems:1,create:!1,persist:!1,sortField:"name",labelField:"name",searchField:"name",valueField:"value",options:i,onChange:this.props.onSelect,onDropdownClose:this.props.onCancel};return r.createElement("div",{className:"rc-ScribeCodeEditorLanguagePicker"},r.createElement(o,{placeholder:"",options:t,ref:function ref(t){e.selectize=t}}))},ScribeCodeEditorLanguagePicker}(r.Component),t.propTypes={onSelect:r.PropTypes.func.isRequired,onCancel:r.PropTypes.func.isRequired},n);module.exports=a}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},umwt:function(module,exports,e){(function(t,_){var n,r;n=[e,exports,module,e("AwHF"),e("L+Qk"),e("U7vG"),e("O27J"),e("aIeD"),e("FZSc"),e("w3SN"),e("n4kF"),e("kvwm"),e("TExO"),e("X9eO"),e("Fa1v"),e("XQug"),e("v8l3"),e("G894"),e("EBE7")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,_=e("AwHF"),r=e("L+Qk"),o=e("U7vG"),i=e("O27J"),a=e("aIeD"),s=a.Tooltip,u=a.OverlayTrigger,c=e("FZSc"),l=e("w3SN"),p=e("n4kF"),d=e("kvwm"),f=e("TExO"),h=e("X9eO"),v=e("Fa1v"),m=e("XQug"),g=m.H1,y=m.H2,C=m.H3,b=m.Bold,E=m.Italic,w=m.Underline,T=m.Divider,S=m.Link,O=m.OrderedList,x=m.UnorderedList,R=m.Image,A=m.Table,P=m.Code,I=e("v8l3"),N=e("G894"),k=N.FormattedHTMLMessage,M=function getHTML(e,t){var n=p.getValue(t),r="";try{r=e.toHTML(n)}catch(e){r=""}return""!==r&&"<p></p>"!==r||(r="<p><br></p>"),r};e("EBE7");var L=(n=t=function(e){function CMLEditor(){var t,n,r;_classCallCheck(this,CMLEditor);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.handleChange=function(){var e=n.scribe.getHTML();n.acceptChanges&&n.currentHTML!==e&&(n.currentHTML=e,n.props.onKeyPress(),n.changeHandler())},n.changeHandler=function(){var e=n.htmlConverter.toCML(n.currentHTML,!0),t=p.getDtdId(n.props.cml),r=p.create(e,t);n.props.onChange(r,n.currentHTML)},n.focus=function(){h(i.findDOMNode(n.refs.editor))},r=t,_possibleConstructorReturn(n,r)}return _inherits(CMLEditor,e),CMLEditor.prototype.componentWillMount=function componentWillMount(){var e=this;this.converter=new c,this.htmlConverter=new l,this.converter.on("assetsAvailable",function(){var t=M(e.converter,e.props.cml);e.scribe.setContent(t)}),this.unsupportedBlocks=p.getUnsupportedBlocks(this.props.cml),this.isDisabled=0!==this.unsupportedBlocks.length,this.changeHandler=_(this.changeHandler).debounce(this.props.changeDelay)},CMLEditor.prototype.componentDidMount=function componentDidMount(){var e=this,t=this.props,n=t.blocks,r=t.placeholder,o=t.disabledPlugins,a=t.imageUploadOptions,s=t.assetAdminOptions,u=t.codeBlockOptions,c=t.onFocus,l=t.onBlur,p=i.findDOMNode(this.refs.editor),f=i.findDOMNode(this),h=i.findDOMNode(this.refs.toolbar),v=this.props.isFocused&&!this.isDisabled,m=M(this.converter,this.props.cml),g=this.handleChange,y={el:p,content:m,blocks:n,placeholder:r,disabledPlugins:o,imageUploadOptions:a,assetAdminOptions:s,codeBlockOptions:u,showToolbarByDefault:v,onContentChange:g,editorContainer:f,toolbarContainer:h,onFocus:c,onBlur:l};this.scribe=d.createInstance(y),this.scribe.setContent(m),this.props.isFocused&&!this.isDisabled&&(this.focus(),this.scribe.trigger("content-changed")),setTimeout(function(){return e.acceptChanges=!0},0)},CMLEditor.prototype.componentDidUpdate=function componentDidUpdate(e,t){e.isFocused||!this.props.isFocused||this.isDisabled||this.focus()},CMLEditor.prototype.componentWillUnmount=function componentWillUnmount(){d.destroyInstance(this.scribe)},CMLEditor.prototype.render=function render(){var e=this.isDisabled,t=this.props,n=t.cml,i=t.blocks,a=t.macros,c=t.toolbarStyle,l=t.macroStyle,p=t.style,d=a.filter(function(e){return n.definition.value.includes("%"+e+"%")}),f=o.createElement("div",{className:"rc-CMLEditor"},o.createElement("div",{id:this.props.id,ref:"editor",contentEditable:!0,className:r("scribe-editor",{disabled:e}),style:p}),o.createElement(v,{ref:"toolbar",blocks:i,style:c}),d.length>0&&o.createElement("div",{style:l},I("Variable(s) confirmed:"),d.map(function(e){return o.createElement("div",{className:"pill-success"},e)})));if(e){var h=o.createElement(s,null,o.createElement(k,{message:I("\n              This field contains unsupported object(s) <strong>{blockNames}</strong> and cannot be edited here.\n            "),blockNames:_(this.unsupportedBlocks).map(function(e){return e.nodeName.toLowerCase()}).join(", ")}));return o.createElement(u,{placement:"bottom",overlay:h},f)}return f},CMLEditor}(o.Component),t.propTypes={id:o.PropTypes.string,cml:f.isRequired,blocks:o.PropTypes.array,macros:o.PropTypes.array,isFocused:o.PropTypes.bool,placeholder:o.PropTypes.string,changeDelay:o.PropTypes.number,disabledPlugins:o.PropTypes.array,toolbarStyle:o.PropTypes.object,macroStyle:o.PropTypes.object,style:o.PropTypes.object,assetAdminOptions:o.PropTypes.object,imageUploadOptions:o.PropTypes.object,codeBlockOptions:o.PropTypes.object,onKeyPress:o.PropTypes.func,onChange:o.PropTypes.func,onFocus:o.PropTypes.func,onBlur:o.PropTypes.func},t.defaultProps={blocks:[g,y,C,b,E,w,T,S,O,x,R,A,P],macros:[],placeholder:"",changeDelay:500,toolbarStyle:{},macroStyle:{},disabledPlugins:[],onKeyPress:function onKeyPress(){},onChange:function onChange(){},onFocus:function onFocus(){},onBlur:function onBlur(){}},n);module.exports=L}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"),e("AwHF"))},vXui:function(module,exports,e){var t,n;t=[],void 0!==(n=function(){return function(e){function __webpack_require__(n){if(t[n])return t[n].exports;var module=t[n]={exports:{},id:n,loaded:!1};return e[n].call(module.exports,module,module.exports,__webpack_require__),module.loaded=!0,module.exports}var t={};return __webpack_require__.m=e,__webpack_require__.c=t,__webpack_require__.p="",__webpack_require__(0)}([function(module,exports,e){e(1);var t="scribe-plugin-placeholder";module.exports=function(e,n){return function(r){function getStyle(e,t){var n;return e.currentStyle?n=e.currentStyle[t]:window.getComputedStyle&&(n=document.defaultView.getComputedStyle(e,null).getPropertyValue(t)),parseInt(n,10)}function isEditorEmpty(){var e=r.el.childNodes,t=e.length;if(0===t)return!0;if(1===t){var n=e[0];if("p"===n.nodeName.toLowerCase()&&""===n.textContent)return!0}return!1}function show(){if(0!==n.getElementsByClassName(t).length)return;var o=document.createElement("div"),i=2;o.className=t,o.innerText=e,o.style.top=getStyle(r.el,"padding-top")+getStyle(r.el,"border-top-width")+"px",o.style.left=getStyle(r.el,"padding-left")+2+"px",n.appendChild(o)}function hide(){Array.prototype.slice.call(n.getElementsByClassName(t)).forEach(function(e){n.removeChild(e)})}function update(){isEditorEmpty()?show():hide()}r.on("content-changed",update),r.el.addEventListener("blur",update),r.el.addEventListener("focus",update)}}},function(module,exports,e){}])}.apply(exports,t))&&(module.exports=n)},vl5M:function(module,exports,e){(function($,_){var t,n;t=[e,exports,module,e("4+j2"),e("AwHF")],void 0!==(n=function(require,exports,module){"use strict";var $=e("4+j2"),_=e("AwHF");module.exports=function(e,t,n){return function(r){function hideToolbar(){$(t).hide()}function showToolbar(){$(t).show()}function doesNotBelongToScribe(t){return t===document||document.activeElement!==r.el&&(!(!t||t===e)&&doesNotBelongToScribe(t.parentNode))}function handleBlur(e){doesNotBelongToScribe(e.relatedTarget)&&hideToolbar()}function handleDocumentClick(e){doesNotBelongToScribe(e.target)&&hideToolbar()}var o=t.querySelectorAll("[data-command-name]");_(o).each(function(e){e.addEventListener("blur",handleBlur)}),r.el.addEventListener("focus",showToolbar),document.addEventListener("click",handleDocumentClick),t.addEventListener("mousedown",function(e){if("BUTTON"!==e.target.nodeName)return e.preventDefault(),!1}),n||hideToolbar()}}}.apply(exports,t))&&(module.exports=n)}).call(exports,e("4+j2"),e("AwHF"))},voUu:function(module,exports,e){var t=e("1nGb");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},vpcJ:function(module,exports,e){var t=e("Zxy5");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},vqxO:function(module,exports,e){var t=e("uOvm");"string"==typeof t&&(t=[[module.i,t,""]]);var n,r={};r.transform=void 0;var o=e("MTIv")(t,r);t.locals&&(module.exports=t.locals)},xVab:function(module,exports,e){var t,n;t=[],void 0!==(n=function(){return function(e){return function(t){var n="<h"+e+">",r="H"+e,o="h"+e,i=new t.api.Command("formatBlock");i.execute=function(){this.queryState()?t.api.Command.prototype.execute.call(this,"<p>"):t.api.Command.prototype.execute.call(this,n)},i.queryState=function(){return!!(new t.api.Selection).getContaining(function(e){return e.nodeName===r})},i.queryEnabled=function(){var e=new t.api.Selection,n=e.getContaining(function(e){return"OL"===e.nodeName||"UL"===e.nodeName});return t.api.Command.prototype.queryEnabled.apply(this,arguments)&&t.allowsBlockElements()&&!n},t.commands[o]=i}}}.apply(exports,t))&&(module.exports=n)},xugj:function(module,exports,e){var t=e("pznP"),n=t.default?t.default:{},r=e("zQM/"),o=r(n);o.getLocale=function(){return"en"},module.exports=o},yxhO:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("qLmM"),e("MVpu"),e("8k/k"),e("xugj")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("qLmM"),i=e("MVpu"),a=e("8k/k"),s=e("xugj"),u=(n=t=function(e){function EvaluatorDraftEditor(){var t,n,r;_classCallCheck(this,EvaluatorDraftEditor);for(var o=arguments.length,a=Array(o),s=0;s<o;s++)a[s]=arguments[s];return t=n=_possibleConstructorReturn(this,e.call.apply(e,[this].concat(a))),n.handleHarnessChange=function(e){var t=n.props.evaluatorDraft,r=t.id,o=t.isPublished,a=t.versionedEngineId,s={harness:e,versionedEngineId:a},u=new i({id:r,evaluator:s,isPublished:o});n.props.onChange(u.toJSON())},n.onChangeVersionedEngineId=function(e){if(e.target instanceof HTMLInputElement){var t=e.target.value,r=n.props.evaluatorDraft,o=r.id,a=r.isPublished,s=n.props.evaluatorDraft.harness.toJSON(),u={harness:s,versionedEngineId:t},c=new i({id:o,evaluator:u,isPublished:a});n.props.onChange(c.toJSON())}},r=t,_possibleConstructorReturn(n,r)}return _inherits(EvaluatorDraftEditor,e),EvaluatorDraftEditor.prototype.render=function render(){var e=this.props,t=e.evaluatorDraft,n=e.language,i=t.versionedEngineId,u=t.harness,c=a.isSuperuser();return r.createElement("div",{className:"rc-EvaluatorDraftEditor"},r.createElement("div",{className:"horizontal-box align-items-vertical-center"},r.createElement("h3",{className:"body-2-text"},s("Versioned Engine Id:")),!c&&r.createElement("p",{style:{paddingLeft:20}},i),c&&r.createElement("input",{size:30,maxLength:68,style:{marginLeft:20},value:i,onChange:this.onChangeVersionedEngineId})),r.createElement(o,{harness:u,language:n,onChange:this.handleHarnessChange}))},EvaluatorDraftEditor}(r.Component),t.propTypes={language:r.PropTypes.string,evaluatorDraft:r.PropTypes.instanceOf(i).isRequired,onChange:r.PropTypes.func.isRequired},n);module.exports=u}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},z4au:function(module,exports){},zLfL:function(module,exports){},zUon:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("U7vG"),e("umwt"),e("TExO"),e("vqxO")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("U7vG"),o=e("umwt"),i=e("TExO");e("vqxO");var a=(n=t=function(e){function FeedbackEditor(){return _classCallCheck(this,FeedbackEditor),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(FeedbackEditor,e),FeedbackEditor.prototype.render=function render(){return r.createElement("div",{className:"rc-FeedbackEditor"},r.createElement(o,{blocks:[],changeDelay:0,cml:this.props.cml,onChange:this.props.onChange,isFocused:this.props.isFocused,placeholder:this.props.placeholder}))},FeedbackEditor}(r.Component),t.propTypes={cml:i.isRequired,placeholder:r.PropTypes.string.isRequired,onChange:r.PropTypes.func.isRequired,isFocused:r.PropTypes.bool.isRequired},n);module.exports=a}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))},zdAV:function(module,exports,e){var t,n;t=[e,exports,module,e("OhXu"),e("6Y1w"),e("jEpW")],void 0!==(n=function(require,exports,module){"use strict";var t=e("OhXu"),n=e("6Y1w"),r=e("jEpW");exports.changeBranchId=function(e,t){var n=t.courseId,r=t.branchId,o=t.ratingValue,i=t.learnerAudience,a=t.reviewCollection;e.dispatch("SET_FEEDBACK_BRANCH_ID",{branchId:r}),e.executeAction(exports.getCourseReviews,{courseId:n,branchId:r,reviewCollection:a,ratingValue:o,learnerAudience:i}),e.executeAction(exports.getCourseRatingStats,{courseId:n,branchId:r,learnerAudience:i})},exports.getCourseReviews=function(e,t){var n=t.courseId,o=t.branchId,i=t.reviewCollection,a=t.ratingValue,s=t.learnerAudience;return e.dispatch("GET_REVIEWS",{reviewCollection:i}),r.getReviews(n,o,s,i.page,a.value).then(function(t){var n=t.feedbacks,r=t.totalCount;e.dispatch("RECEIVE_REVIEWS",{reviewCollection:i,feedbacks:n,totalCount:r})}).done()},exports.filterCourseReviews=function(e,t){var n=t.courseId,r=t.branchId,o=t.ratingValue,i=t.learnerAudience,a=e.getStore("CourseRatingStore");e.dispatch("FILTER_REVIEWS",{ratingValue:o});var s=a.getReviewCollection();s.isEmpty()&&e.executeAction(exports.getCourseReviews,{courseId:n,branchId:r,reviewCollection:s,ratingValue:o,learnerAudience:i})},exports.getCourseRatingStats=function(e,n){var o=n.courseId,i=n.branchId,a=n.learnerAudience,s=n.totalCount,u=n.averageRating;return r.getRatingStats(o,i,a).then(function(n){var r={};void 0!==s&&void 0!==u&&(r={totalCount:s,averageRating:u});var o=new t(n,r);e.dispatch("RECEIVE_COURSE_RATING_STATS",{courseRatingStats:o})}).done()},exports.filterCourseRatings=function(e,t){var n=t.courseId,r=t.branchId,o=t.ratingValue,i=t.learnerAudience,a=e.getStore("CourseRatingStore");e.dispatch("FILTER_RATINGS",{learnerAudience:i});var s=a.getReviewCollection(),u=a.getCourseRatingStats();s.isEmpty()&&e.executeAction(exports.getCourseReviews,{courseId:n,branchId:r,reviewCollection:s,ratingValue:o,learnerAudience:i}),u||e.executeAction(exports.getCourseRatingStats,{courseId:n,branchId:r,learnerAudience:i})},exports.receiveMyCourseRating=function(e,t){var n=t.ratingFeedback;e.dispatch("RECEIVE_MY_RATING",{ratingFeedback:n})},exports.postMyCourseRating=function(e,t){var o=t.courseId,i=t.value,a=t.active,s=t.comment,u=new n(i,a,s);return e.executeAction(exports.receiveMyCourseRating,{ratingFeedback:u}),r.postFeedback(o,u)},exports.deleteFeedback=function(e,t){return r.deleteFeedback(t).then(function(){e.dispatch("DELETE_FEEDBACK",t)}).done()}}.apply(exports,t))&&(module.exports=n)},zvIl:function(module,exports,e){(function(t){var n,r;n=[e,exports,module,e("L+Qk"),e("U7vG")],void 0!==(r=function(require,exports,module){"use strict";function _defaults(e,t){for(var n=Object.getOwnPropertyNames(t),r=0;r<n.length;r++){var o=n[r],i=Object.getOwnPropertyDescriptor(t,o);i&&i.configurable&&void 0===e[o]&&Object.defineProperty(e,o,i)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function _inherits(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):_defaults(e,t))}var t,n,r=e("L+Qk"),o=e("U7vG"),i=(n=t=function(e){function Box(){return _classCallCheck(this,Box),_possibleConstructorReturn(this,e.apply(this,arguments))}return _inherits(Box,e),Box.prototype.render=function render(){var e=r(this.props.className,{"horizontal-box":this.props.horizontal,"vertical-box":this.props.vertical,"align-items-vertical-center":this.props.alignItemsVerticalCenter});return o.createElement("div",{className:e},this.props.children)},Box}(o.Component),t.propTypes={horizontal:o.PropTypes.bool,vertical:o.PropTypes.bool,className:o.PropTypes.string,children:o.PropTypes.node,alignItemsVerticalCenter:o.PropTypes.bool},n);module.exports=i}.apply(exports,n))&&(module.exports=r)}).call(exports,e("U7vG"))}});